{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/tricks/array/diff.js","node_modules/tricks/array/find.js","node_modules/tricks/array/toArray.js","node_modules/tricks/array/unique.js","node_modules/tricks/browser/agent/Storage.js","node_modules/tricks/browser/agent/cookieStorage.js","node_modules/tricks/browser/agent/localStorage.js","node_modules/tricks/browser/agent/sessionStorage.js","node_modules/tricks/browser/http/formpost.js","node_modules/tricks/browser/http/getScript.js","node_modules/tricks/browser/http/jsonp.js","node_modules/tricks/browser/http/request.js","node_modules/tricks/browser/http/xhr.js","node_modules/tricks/dom/append.js","node_modules/tricks/dom/attr.js","node_modules/tricks/dom/createElement.js","node_modules/tricks/dom/domInstance.js","node_modules/tricks/dom/each.js","node_modules/tricks/dom/hiddenFrame.js","node_modules/tricks/dom/isDom.js","node_modules/tricks/events/createEvent.js","node_modules/tricks/events/emit.js","node_modules/tricks/events/globalCallback.js","node_modules/tricks/events/on.js","node_modules/tricks/object/args.js","node_modules/tricks/object/clone.js","node_modules/tricks/object/diffKey.js","node_modules/tricks/object/extend.js","node_modules/tricks/object/instanceOf.js","node_modules/tricks/object/isBinary.js","node_modules/tricks/object/isEmpty.js","node_modules/tricks/object/merge.js","node_modules/tricks/object/pubsub.js","node_modules/tricks/object/rewire.js","node_modules/tricks/object/tryCatch.js","node_modules/tricks/string/createUrl.js","node_modules/tricks/string/extract.js","node_modules/tricks/string/jsonParse.js","node_modules/tricks/string/param.js","node_modules/tricks/string/queryparse.js","node_modules/tricks/string/querystringify.js","node_modules/tricks/string/random.js","node_modules/tricks/support/cors.js","node_modules/tricks/time/setImmediate.js","node_modules/tricks/window/close.js","node_modules/tricks/window/popup.js","node_modules/tricks/window/url.js","src/hello.js"],"names":[],"mappings":"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","file":"hello.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","module.exports = (a, b) => b.filter(item => a.indexOf(item) === -1);\n","// Array find\n// Returns the first non undefined response\n// If the response is (Boolean) True, then the value of that array item is returned instead...\nmodule.exports = (arr, callback, thisArg = null) => {\n\tfor (let i = 0; i < arr.length; i++) {\n\t\tconst value = callback.call(thisArg, arr[i]);\n\t\tif (value !== undefined) {\n\t\t\treturn value === true ? arr[i] : value;\n\t\t}\n\t}\n};\n","module.exports = obj => Array.prototype.slice.call(obj);\n","module.exports = a => {\n\tif (!Array.isArray(a)) {\n\t\treturn [];\n\t}\n\n\t// Is this the first location of item\n\treturn a.filter((item, index) => a.indexOf(item) === index);\n};\n","const jsonParse = require('../../string/jsonParse.js');\nconst extend = require('../../object/extend.js');\n\n// Return handler\nmodule.exports = Storage;\n\nfunction Storage(method) {\n\n\tthis.native = method;\n\n\treturn extend(this.api.bind(this), this);\n}\n\nStorage.prototype.api = function(name, value) {\n\t// recursive\n\tif (typeof name === 'object') {\n\t\tfor (const x in name) {\n\t\t\tthis.api(x, name[x]);\n\t\t}\n\t}\n\n\t// Local storage\n\telse if (!name) {\n\t\tthrow 'agent/store must have a valid name';\n\t}\n\telse if (value === undefined) {\n\t\treturn this.getItem(name);\n\t}\n\telse if (value === null) {\n\t\tthis.removeItem(name);\n\t}\n\telse {\n\t\tthis.setItem(name, value);\n\t}\n};\n\nStorage.prototype.getItem = function(name) {\n\treturn jsonParse(this.native.getItem(name));\n};\n\nStorage.prototype.setItem = function(name, value) {\n\tthis.native.setItem(name, JSON.stringify(value));\n};\n\nStorage.prototype.removeItem = function(name) {\n\tthis.native.removeItem(name);\n};\n","// Provide an API for setting and retrieving cookies\nconst arrayFind = require('../../array/find.js');\nconst Storage = require('./Storage.js');\n\n// Emulate localStorage using cookies\nmodule.exports = new Storage({\n\tgetItem: name => {\n\t\tconst key = `${name }=`;\n\t\tconst m = document.cookie.split(';');\n\t\treturn arrayFind(m, item => {\n\t\t\titem = item.replace(/(^\\s+|\\s+$)/, '');\n\t\t\tif (item && item.indexOf(key) === 0) {\n\t\t\t\treturn item.substr(key.length);\n\t\t\t}\n\t\t}) || null;\n\n\t},\n\n\tsetItem: (name, value) => {\n\t\tdocument.cookie = `${name }=${ value}`;\n\t},\n\n\tremoveItem: name => {\n\t\tdocument.cookie = `${name }=; expires=Thu, 01 Jan 1970 00:00:01 GMT;`;\n\t}\n});\n","// sessionStorage\n// Shimmed up sessionStorage\n\nconst sessionStorage = require('./sessionStorage.js');\nconst Storage = require('./Storage.js');\n\n// Test the environment\ntry {\n\tconst temp = '__tricks_temp__';\n\t// In Chrome with cookies blocked, calling localStorage throws an error\n\tconst storage = window.localStorage;\n\tstorage.setItem(temp, 1);\n\tstorage.removeItem(temp);\n\tmodule.exports = new Storage(storage);\n\n}\ncatch (e) {\n\tmodule.exports = sessionStorage;\n}\n","// sessionStorage\n// Shimmed up sessionStorage\n\nconst cookieStorage = require('./cookieStorage.js');\nconst Storage = require('./Storage.js');\n\n// Test the environment\ntry {\n\tconst temp = '__tricks_temp__';\n\t// In Chrome with cookies blocked, calling localStorage throws an error\n\tconst storage = window.sessionStorage;\n\tstorage.setItem(temp, 1);\n\tstorage.removeItem(temp);\n\tmodule.exports = new Storage(storage);\n\n}\ncatch (e) {\n\tmodule.exports = cookieStorage;\n}\n","// Post\n// Send information to a remote location using the post mechanism\n// @param string uri path\n// @param object data, key value data to send\n// @param function callback, function to execute in response\n\nconst append = require('../../dom/append.js');\nconst attr = require('../../dom/attr.js');\nconst domInstance = require('../../dom/domInstance.js');\nconst createElement = require('../../dom/createElement.js');\nconst globalCallback = require('../../events/globalCallback.js');\nconst toArray = require('../../array/toArray.js');\nconst instanceOf = require('../../object/instanceOf.js');\nconst on = require('../../events/on.js');\nconst emit = require('../../events/emit.js');\nconst setImmediate = require('../../time/setImmediate.js');\n\nmodule.exports = (url, data, options, callback, callback_name, timeout = 60000) => {\n\n\tlet timer;\n\tlet bool = 0;\n\tconst cb = r => {\n\t\tif (!(bool++)) {\n\t\t\tif (timer) {\n\t\t\t\tclearTimeout(timer);\n\t\t\t\ttimer = null;\n\t\t\t}\n\t\t\tcallback(r);\n\n\t\t\t// Trigger onsubmit on the form.\n\t\t\t// Typically this isn't activated until afterwards\n\t\t\temit(form, 'submit');\n\n\t\t\t// The setImmediate fixes the test runner in phantomjs\n\t\t\tsetImmediate(() => frame.parentNode.removeChild(frame));\n\t\t}\n\n\t\treturn true;\n\t};\n\n\t// What is the name of the callback to contain\n\t// We'll also use this to name the iframe\n\tcallback_name = globalCallback(cb, callback_name);\n\n\t/////////////////////\n\t// Create the FRAME\n\t/////////////////////\n\n\tconst frame = createFrame(callback_name);\n\n\t// Override callback mechanism. Triggger a response onload/onerror\n\tif (options && options.callbackonload) {\n\n\t\t// Onload is being fired twice\n\t\tframe.onload = cb.bind(null, {\n\t\t\tresponse: 'posted',\n\t\t\tmessage: 'Content was posted'\n\t\t});\n\t}\n\n\n\t/////////////////////\n\t// Set a timeout\n\t/////////////////////\n\n\tif (timeout) {\n\t\ttimer = setTimeout(cb.bind(null, new Error('timeout')), timeout);\n\t}\n\n\n\t/////////////////////\n\t// Create a form\n\t/////////////////////\n\n\tconst form = createFormFromData(data);\n\n\t// The URL is a function for some cases and as such\n\t// Determine its value with a callback containing the new parameters of this function.\n\turl = url.replace(new RegExp('=\\\\?(&|$)'), `=${ callback_name }$1`);\n\n\t// Set the target of the form\n\tattr(form, {\n\t\tmethod: 'POST',\n\t\ttarget: callback_name,\n\t\taction: url\n\t});\n\n\tform.target = callback_name;\n\n\t// Submit the form\n\t// Some reason this needs to be offset from the current window execution\n\tsetTimeout(() => {\n\t\tform.submit();\n\t}, 100);\n};\n\n\nfunction createFrame(callback_name) {\n\tlet frame;\n\n\ttry {\n\t\t// IE7 hack, only lets us define the name here, not later.\n\t\tframe = createElement(`<iframe name=\"${ callback_name }\">`);\n\t}\n\tcatch (e) {\n\t\tframe = createElement('iframe');\n\t}\n\n\t// Attach the frame with the following attributes to the document body.\n\tattr(frame, {\n\t\tname: callback_name,\n\t\tid: callback_name,\n\t\tstyle: 'display:none;'\n\t});\n\n\tdocument.body.appendChild(frame);\n\n\treturn frame;\n}\n\n\nfunction createFormFromData(data) {\n\n\t// This hack needs a form\n\tlet form = null;\n\tconst reenableAfterSubmit = [];\n\tlet i = 0;\n\tlet x = null;\n\n\n\t// If we are just posting a single item\n\tif (domInstance('input', data)) {\n\t\t// Get the parent form\n\t\tform = data.form;\n\n\t\t// Loop through and disable all of its siblings\n\t\ttoArray(form.elements).forEach(input => {\n\t\t\tif (input !== data) {\n\t\t\t\tinput.setAttribute('disabled', true);\n\t\t\t}\n\t\t});\n\n\t\t// Move the focus to the form\n\t\tdata = form;\n\t}\n\n\t// Posting a form\n\tif (domInstance('form', data)) {\n\t\t// This is a form element\n\t\tform = data;\n\n\t\t// Does this form need to be a multipart form?\n\t\ttoArray(form.elements).forEach(input => {\n\t\t\tif (!input.disabled && input.type === 'file') {\n\t\t\t\tform.encoding = form.enctype = 'multipart/form-data';\n\t\t\t\tinput.setAttribute('name', 'file');\n\t\t\t}\n\t\t});\n\t}\n\telse {\n\t\t// Its not a form element,\n\t\t// Therefore it must be a JSON object of Key=>Value or Key=>Element\n\t\t// If anyone of those values are a input type=file we shall shall insert its siblings into the form for which it belongs.\n\t\tfor (x in data) if (data.hasOwnProperty(x)) {\n\t\t\t// Is this an input Element?\n\t\t\tif (domInstance('input', data[x]) && data[x].type === 'file') {\n\t\t\t\tform = data[x].form;\n\t\t\t\tform.encoding = form.enctype = 'multipart/form-data';\n\t\t\t}\n\t\t}\n\n\t\t// Do If there is no defined form element, lets create one.\n\t\tif (!form) {\n\t\t\t// Build form\n\t\t\tform = append('form');\n\n\t\t\t// Bind the removal of the form\n\t\t\ton(form, 'submit', () => {\n\t\t\t\tsetImmediate(() => {\n\t\t\t\t\tform.parentNode.removeChild(form);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\t// Bind the clean up of the existing form.\n\t\t\ton(form, 'submit', () => {\n\t\t\t\tsetImmediate(() => {\n\t\t\t\t\treenableAfterSubmit.forEach(input => {\n\t\t\t\t\t\tif (input) {\n\t\t\t\t\t\t\tinput.setAttribute('disabled', false);\n\t\t\t\t\t\t\tinput.disabled = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t// Reset, incase this is called again.\n\t\t\t\t\treenableAfterSubmit.length = 0;\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tlet input;\n\n\t\t// Add elements to the form if they dont exist\n\t\tfor (x in data) if (data.hasOwnProperty(x)) {\n\n\t\t\t// Is this an element?\n\t\t\tconst el = (domInstance('input', data[x]) || domInstance('textArea', data[x]) || domInstance('select', data[x]));\n\n\t\t\t// Is this not an input element, or one that exists outside the form.\n\t\t\tif (!el || data[x].form !== form) {\n\n\t\t\t\t// Does an element have the same name?\n\t\t\t\tlet inputs = form.elements[x];\n\t\t\t\tif (input) {\n\t\t\t\t\t// Remove it.\n\t\t\t\t\tif (!instanceOf(inputs, window.NodeList)) {\n\t\t\t\t\t\tinputs = [inputs];\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (i = 0; i < inputs.length; i++) {\n\t\t\t\t\t\tinputs[i].parentNode.removeChild(inputs[i]);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// Create an input element\n\t\t\t\tinput = append('input', {\n\t\t\t\t\ttype: 'hidden',\n\t\t\t\t\tname: x\n\t\t\t\t}, form);\n\n\t\t\t\t// Does it have a value attribute?\n\t\t\t\tif (el) {\n\t\t\t\t\tinput.value = data[x].value;\n\t\t\t\t}\n\t\t\t\telse if (domInstance(null, data[x])) {\n\t\t\t\t\tinput.value = data[x].innerHTML || data[x].innerText;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tinput.value = data[x];\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// It is an element, which exists within the form, but the name is wrong\n\t\t\telse if (el && data[x].name !== x) {\n\t\t\t\tdata[x].setAttribute('name', x);\n\t\t\t\tdata[x].name = x;\n\t\t\t}\n\t\t}\n\n\t\t// Disable elements from within the form if they weren't specified\n\t\ttoArray(form.elements).forEach(input => {\n\n\t\t\t// Does the same name and value exist in the parent\n\t\t\tif (!(input.name in data) && input.getAttribute('disabled') !== true) {\n\t\t\t\t// Disable\n\t\t\t\tinput.setAttribute('disabled', true);\n\n\t\t\t\t// Add re-enable to callback\n\t\t\t\treenableAfterSubmit.push(input);\n\t\t\t}\n\t\t});\n\t}\n\n\treturn form;\n}\n","const createElement = require('../../dom/createElement.js');\nconst createEvent = require('../../events/createEvent.js');\n\nmodule.exports = (url, callback, timeout = 0) => {\n\n\t// Inject a script tag\n\tlet bool = 0;\n\tlet timer;\n\tconst head = document.getElementsByTagName('script')[0].parentNode;\n\tconst cb = e => {\n\t\tif (!(bool++) && callback) {\n\t\t\tcallback(e);\n\t\t}\n\t\tif (timer) {\n\t\t\tclearTimeout(timer);\n\t\t}\n\t};\n\n\t// Add timeout\n\tif (timeout) {\n\t\ttimer = window.setTimeout(() => {\n\t\t\tcb(createEvent('timeout'));\n\t\t}, timeout);\n\t}\n\n\t// Build script tag\n\tconst script = createElement('script', {\n\t\tsrc: url,\n\t\tonerror: cb,\n\t\tonload: cb,\n\t\tonreadystatechange: () => {\n\t\t\tif (/loaded|complete/i.test(script.readyState)) {\n\t\t\t\tcb(createEvent('load'));\n\t\t\t}\n\t\t}\n\t});\n\n\t// Set Async\n\tscript.async = true;\n\n\t// Inject script tag into the head element\n\thead.insertBefore(script, head.firstChild);\n\n\treturn script;\n};\n","// JSONP\nconst globalCallback = require('../../events/globalCallback.js');\nconst getScript = require('./getScript.js');\n\nconst MATCH_CALLBACK_PLACEHOLDER = /=\\?(&|$)/;\n\nmodule.exports = (url, callback, callback_name, timeout = 60000) => {\n\n\t// Change the name of the callback\n\tlet result;\n\n\t// Add callback to the window object\n\tcallback_name = globalCallback(json => {\n\t\tresult = json;\n\t\treturn true; // this ensure the window reference is removed\n\t}, callback_name);\n\n\t// The URL is a function for some cases and as such\n\t// Determine its value with a callback containing the new parameters of this function.\n\turl = url.replace(MATCH_CALLBACK_PLACEHOLDER, `=${ callback_name }$1`);\n\n\tconst script = getScript(url, () => {\n\t\tcallback(result);\n\t\tscript.parentNode.removeChild(script);\n\t}, timeout);\n\n\treturn script;\n};\n","// Request\n// Makes an REST request given an object which describes how (aka, xhr, jsonp, formpost)\nconst jsonp = require('./jsonp.js');\nconst xhr = require('./xhr.js');\nconst formpost = require('./formpost.js');\nconst SupportCORS = require('../../support/cors.js');\nconst globalCallback = require('../../events/globalCallback.js');\nconst createUrl = require('../../string/createUrl.js');\nconst extend = require('../../object/extend.js');\n\nmodule.exports = (p, callback) => {\n\n\tif (typeof p === 'string') {\n\t\tp = {\n\t\t\turl: p\n\t\t};\n\t}\n\n\t// Use interchangeably\n\tp.url = p.url || p.uri;\n\n\t// Set defaults\n\tp.query = p.query || p.qs || {};\n\n\t// Default method\n\tp.method = (p.method || 'get').toLowerCase();\n\n\t// Default proxy response\n\tp.proxyHandler = p.proxyHandler || ((p, cb) => {\n\t\tcb();\n\t});\n\n\t// CORS\n\tif (SupportCORS && (typeof (p.xhr) === 'function' ? p.xhr(p, p.query) : p.xhr !== false)) {\n\n\t\t// Pass the selected request through a proxy\n\t\tp.proxyHandler(p, () => {\n\t\t\t// The agent and the provider support CORS\n\t\t\tconst url = createUrl(p.url, p.query);\n\t\t\tconst x = xhr(p.method, url, p.responseType, p.headers, p.data, callback);\n\t\t\tx.onprogress = p.onprogress || null;\n\n\t\t\t// Feature detect, not available on all implementations of XMLHttpRequest\n\t\t\tif (x.upload && p.onuploadprogress) {\n\t\t\t\tx.upload.onprogress = p.onuploadprogress;\n\t\t\t}\n\t\t});\n\n\t\treturn;\n\t}\n\n\t// Apply a globalCallback\n\tp.callbackID = p.query.callback = globalCallback(callback);\n\n\t// JSONP\n\tif (p.jsonp !== false) {\n\n\t\t// Call p.jsonp handler\n\t\tif (typeof (p.jsonp) === 'function') {\n\t\t\t// Format the request via JSONP\n\t\t\tp.jsonp(p, p.query);\n\t\t}\n\n\t\t// Lets use JSONP if the method is 'get'\n\t\tif (p.method === 'get') {\n\n\t\t\tp.proxyHandler(p, () => {\n\t\t\t\tconst url = createUrl(p.url, extend(p.query, p.data || {}));\n\t\t\t\tjsonp(url, callback, p.callbackID, p.timeout);\n\t\t\t});\n\n\t\t\treturn;\n\t\t}\n\t}\n\n\t// Otherwise we're on to the old school, iframe hacks and JSONP\n\tif (p.form !== false) {\n\n\t\t// Add some additional query parameters to the URL\n\t\t// We're pretty stuffed if the endpoint doesn't like these\n\t\tp.query.redirect_uri = p.redirect_uri;\n\t\tp.query.state = JSON.stringify({callback: p.callbackID});\n\t\tdelete p.query.callback;\n\n\t\tlet opts;\n\n\t\tif (typeof (p.form) === 'function') {\n\n\t\t\t// Format the request\n\t\t\topts = p.form(p, p.query);\n\t\t}\n\n\t\tif (p.method === 'post' && opts !== false) {\n\n\t\t\tp.proxyHandler(p, () => {\n\t\t\t\tconst url = createUrl(p.url, p.query);\n\t\t\t\tformpost(url, p.data, opts, callback, p.callbackID, p.timeout);\n\t\t\t});\n\n\t\t\treturn;\n\t\t}\n\t}\n\n\tcallback({error: 'invalid_request'});\n};\n","// XHR: uses CORS to make requests\nconst instanceOf = require('../../object/instanceOf.js');\nconst extract = require('../../string/extract.js');\nconst jsonParse = require('../../string/jsonParse.js');\nconst tryCatch = require('../../object/tryCatch.js');\nconst rewire = require('../../object/rewire.js');\n\nconst match_headers = /([a-z0-9\\-]+):\\s*(.*);?/gi;\n\nmodule.exports = rewire(xhr);\n\nfunction xhr(method, url, responseType, headers, data, callback) {\n\n\tconst r = new XMLHttpRequest();\n\n\t// Make it CAPITAL\n\tmethod = method.toUpperCase();\n\n\t// Define the callback function\n\tr.onload = () => {\n\t\t// Response\n\t\tlet response = r.response;\n\n\t\t// Was this text\n\t\tif (!response && (r.responseType === '' || r.responseType === 'text')) {\n\t\t\tresponse = r.responseText;\n\t\t}\n\n\t\t// Is this json?\n\t\tif (typeof(response) === 'string' && responseType === 'json') {\n\n\t\t\t// Set this to the json response\n\t\t\t// Fallback if the browser did not defined responseJSON...\n\t\t\tresponse = r.responseJSON || jsonParse(r.responseText || r.response);\n\t\t}\n\n\t\tconst headers = extract(r.getAllResponseHeaders(), match_headers);\n\t\theaders.statusCode = r.status;\n\n\t\tcallback(response, headers);\n\t};\n\n\tr.onerror = r.onload;\n\n\t// Should we add the query to the URL?\n\tif (method === 'GET' || method === 'DELETE') {\n\t\tdata = null;\n\t}\n\telse if (data && typeof (data) !== 'string' &&\n\t\t!instanceOf(data, window.FormData) &&\n\t\t!instanceOf(data, window.File) &&\n\t\t!instanceOf(data, window.Blob))\t{\n\t\t// Loop through and add formData\n\t\tdata = toFormData(data);\n\t}\n\n\t// Open the path, async\n\tr.open(method, url, true);\n\n\t// Set responseType if supported\n\tif ('responseType' in r) {\n\n\t\ttryCatch(() => {\n\t\t\t// Setting this to an unsupported value can result in a \"SYNTAX_ERR: DOM Exception 12\"\n\t\t\tr.responseType = responseType;\n\t\t});\n\t}\n\telse if (responseType === 'blob') {\n\t\tr.overrideMimeType('text/plain; charset=x-user-defined');\n\t}\n\n\t// Set any bespoke headers\n\tif (headers) {\n\t\tfor (const x in headers) {\n\t\t\tr.setRequestHeader(x, headers[x]);\n\t\t}\n\t}\n\n\tr.send(data);\n\n\treturn r;\n}\n\n\nfunction toFormData(data) {\n\tconst f = new FormData();\n\tfor (const x in data) {\n\t\tif (data.hasOwnProperty(x)) {\n\t\t\tif (instanceOf(data[x], window.HTMLInputElement) && 'files' in data[x]) {\n\t\t\t\tif (data[x].files.length > 0) {\n\t\t\t\t\tf.append(x, data[x].files[0]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (instanceOf(data[x], window.Blob)) {\n\t\t\t\tf.append(x, data[x], data.name);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tf.append(x, data[x]);\n\t\t\t}\n\t\t}\n\t}\n\treturn f;\n}\n","const createElement = require('./createElement.js');\n\nmodule.exports = (tagName, prop, parent = document.body) => {\n\tconst elm = createElement(tagName, prop);\n\tparent.appendChild(elm);\n\treturn elm;\n};\n","const each = require('./each.js');\n\nmodule.exports = (elements, props) =>\n\teach(elements, element => {\n\t\tfor (const x in props) {\n\t\t\tconst prop = props[x];\n\t\t\tif (typeof prop === 'function') {\n\t\t\t\telement[x] = prop;\n\t\t\t}\n\t\t\telse {\n\t\t\t\telement.setAttribute(x, prop);\n\t\t\t}\n\t\t}\n\t});\n","const attr = require('./attr.js');\n\nmodule.exports = (tagName, attrs) => {\n\tconst elm = document.createElement(tagName);\n\tattr(elm, attrs);\n\treturn elm;\n};\n","const instanceOf = require('../object/instanceOf.js');\n\nmodule.exports = (type, data) => {\n\tconst test = `HTML${ (type || '').replace(\n\t\t/^[a-z]/,\n\t\tm => m.toUpperCase()\n\t)}Element`;\n\n\tif (!data) {\n\t\treturn false;\n\t}\n\n\tif (window[test]) {\n\t\treturn instanceOf(data, window[test]);\n\t}\n\telse if (window.Element) {\n\t\treturn instanceOf(data, window.Element) && (!type || (data.tagName && data.tagName.toLowerCase() === type));\n\t}\n\telse {\n\t\treturn (!(instanceOf(data, Object) || instanceOf(data, Array) || instanceOf(data, String) || instanceOf(data, Number)) && data.tagName && data.tagName.toLowerCase() === type);\n\t}\n};\n","const isDom = require('./isDom.js');\nconst instanceOf = require('../object/instanceOf.js');\nconst toArray = require('../array/toArray.js');\n\nmodule.exports = (matches, callback = () => {}) => {\n\n\tif (isDom(matches)) {\n\t\tmatches = [matches];\n\t}\n\telse if (typeof(matches) === 'string') {\n\t\tmatches = document.querySelectorAll(matches);\n\t}\n\n\tif (!instanceOf(matches, Array)) {\n\t\tmatches = toArray(matches);\n\t}\n\n\tif (callback) {\n\t\tmatches.forEach(callback);\n\t}\n\n\treturn matches;\n};\n","const append = require('./append.js');\nconst param = require('../string/param.js');\n\nmodule.exports = src => {\n\n\tconst style = param({\n\t\tposition: 'absolute',\n\t\tleft: '-1000px',\n\t\tbottom: 0,\n\t\theight: '1px',\n\t\twidth: '1px'\n\t}, ';', ':');\n\n\treturn append('iframe', {src, style});\n};\n","const instanceOf = require('../object/instanceOf.js');\n\nconst _HTMLElement = typeof HTMLElement !== 'undefined' ? HTMLElement : Element;\nconst _HTMLDocument = typeof HTMLDocument !== 'undefined' ? HTMLDocument : Document;\nconst _Window = window.constructor;\n\nmodule.exports = test =>\n\tinstanceOf(test, _HTMLElement) ||\n\t\tinstanceOf(test, _HTMLDocument) ||\n\t\tinstanceOf(test, _Window)\n;\n","// IE does not support `new Event()`\n// See https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Creating_and_triggering_events for details\nconst dict = {bubbles: true, cancelable: true};\n\nlet createEvent = (eventname, options = dict) =>\n\tnew Event(eventname, options);\n\ntry {\n\tcreateEvent('test');\n}\ncatch (e) {\n\tcreateEvent = (eventname, options = dict) => {\n\t\tconst e = document.createEvent('Event');\n\t\te.initEvent(eventname, !!options.bubbles, !!options.cancelable);\n\t\treturn e;\n\t};\n}\n\nmodule.exports = createEvent;\n","// on.js\n// Listen to events, this is a wrapper for addEventListener\nconst each = require('../dom/each.js');\nconst createEvent = require('./createEvent.js');\n\n// Return\nmodule.exports = (elements, eventname) => each(elements, el => el.dispatchEvent(createEvent(eventname)));\n\n","// Global Events\n// Attach the callback to the window object\n// Return its unique reference\nconst random = require('../string/random.js');\n\nmodule.exports = (callback, guid, prefix = '_tricks_') => {\n\n\t// If the guid has not been supplied then create a new one.\n\tguid = guid || prefix + random();\n\n\t// Define the callback function\n\twindow[guid] = handle.bind(null, guid, callback);\n\n\treturn guid;\n};\n\nfunction handle(guid, callback, ...args) {\n\tcallback(...args) && delete window[guid];\n}\n","// on.js\n// Listen to events, this is a wrapper for addEventListener\n\nconst each = require('../dom/each.js');\nconst SEPERATOR = /[\\s\\,]+/;\n\n// See https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md#feature-detection\nlet supportsPassive = false;\ntry {\n\tconst opts = Object.defineProperty({}, 'passive', {\n\t\tget() {\n\t\t\tsupportsPassive = true;\n\t\t}\n\t});\n\twindow.addEventListener('test', null, opts);\n}\ncatch (e) {\n\t// Continue\n}\n\n\nmodule.exports = (elements, eventnames, callback, options = false) => {\n\n\tif (typeof options === 'object' && options.passive && !supportsPassive) {\n\t\t// Override the passive mark\n\t\toptions = false;\n\t}\n\n\teventnames = eventnames.split(SEPERATOR);\n\treturn each(elements, el => eventnames.forEach(eventname => el.addEventListener(eventname, callback, options)));\n};\n","// Makes it easier to assign parameters, where some are optional\n// @param o object\n// @param a arguments\nmodule.exports = (o, args) => {\n\n\tconst p = {};\n\tlet i = 0;\n\tlet t = null;\n\tlet x = null;\n\n\t// 'x' is the first key in the list of object parameters\n\tfor (x in o) {\n\t\tif (o.hasOwnProperty(x)) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Passing in hash object of arguments?\n\t// Where the first argument can't be an object\n\tif ((args.length === 1) && (typeof (args[0]) === 'object') && o[x] !== 'o!') {\n\n\t\t// Could this object still belong to a property?\n\t\t// Check the object keys if they match any of the property keys\n\t\tfor (x in args[0]) {\n\t\t\tif (o.hasOwnProperty(x)) {\n\t\t\t\t// Does this key exist in the property list?\n\t\t\t\tif (x in o) {\n\t\t\t\t\t// Yes this key does exist so its most likely this function has been invoked with an object parameter\n\t\t\t\t\t// Return first argument as the hash of all arguments\n\t\t\t\t\treturn args[0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Else loop through and account for the missing ones.\n\tfor (x in o) {\n\t\tif (o.hasOwnProperty(x)) {\n\n\t\t\tt = typeof (args[i]);\n\n\t\t\tif ((typeof (o[x]) === 'function' && o[x].test(args[i])) || (typeof (o[x]) === 'string' && (\n\t\t\t\t(o[x].indexOf('s') > -1 && t === 'string') ||\n\t\t\t\t(o[x].indexOf('o') > -1 && t === 'object') ||\n\t\t\t\t(o[x].indexOf('i') > -1 && t === 'number') ||\n\t\t\t\t(o[x].indexOf('a') > -1 && t === 'object') ||\n\t\t\t\t(o[x].indexOf('f') > -1 && t === 'function')\n\t\t\t\t))\n\t\t\t\t) {\n\t\t\t\tp[x] = args[i++];\n\t\t\t}\n\n\t\t\telse if (typeof (o[x]) === 'string' && o[x].indexOf('!') > -1) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn p;\n};\n","const isBinary = require('./isBinary.js');\n\n// Create a clone of an object\nmodule.exports = function clone(obj) {\n\t// Does not clone DOM elements, nor Binary data, e.g. Blobs, Filelists\n\tif (obj === null || typeof (obj) !== 'object' || obj instanceof Date || 'nodeName' in obj || isBinary(obj) || (typeof FormData === 'function' && obj instanceof FormData)) {\n\t\treturn obj;\n\t}\n\n\tif (Array.isArray(obj)) {\n\t\t// Clone each item in the array\n\t\treturn obj.map(clone.bind(this));\n\t}\n\n\t// But does clone everything else.\n\tconst _clone = {};\n\tfor (const x in obj) {\n\t\t_clone[x] = clone(obj[x]);\n\t}\n\n\treturn _clone;\n};\n","// Return all the properties in 'a' which aren't in 'b';\nmodule.exports = (a, b) => {\n\tif (a || !b) {\n\t\tconst r = {};\n\t\tfor (const x in a) {\n\t\t\t// is this a custom property?\n\t\t\tif (!(x in b)) {\n\t\t\t\tr[x] = a[x];\n\t\t\t}\n\t\t}\n\t\treturn r;\n\t}\n\treturn a;\n};\n","const instanceOf = require('./instanceOf.js');\n\nmodule.exports = function extend(r, ...args) {\n\targs.forEach(o => {\n\t\tif (Array.isArray(r) && Array.isArray(o)) {\n\t\t\tArray.prototype.push.apply(r, o);\n\t\t}\n\t\telse if (instanceOf(r, Object) && instanceOf(o, Object) && r !== o) {\n\t\t\tfor (const x in o) {\n\t\t\t\tr[x] = extend(r[x], o[x]);\n\t\t\t}\n\t\t}\n\t\telse if (Array.isArray(o)) {\n\t\t\t// Clone it\n\t\t\tr = o.slice(0);\n\t\t}\n\t\telse {\n\t\t\tr = o;\n\t\t}\n\t});\n\treturn r;\n};\n","module.exports = (test, root) => root && test instanceof root;\n","const instanceOf = require('./instanceOf.js');\n\nmodule.exports = data =>\n\tinstanceOf(data, Object) && (\n\t(instanceOf(data, typeof HTMLInputElement !== 'undefined' ? HTMLInputElement : undefined) && data.type === 'file') ||\n\t(instanceOf(data, typeof HTMLInput !== 'undefined' ? HTMLInput : undefined) && data.type === 'file') ||\n\tinstanceOf(data, typeof FileList !== 'undefined' ? FileList : undefined) ||\n\tinstanceOf(data, typeof File !== 'undefined' ? File : undefined) ||\n\tinstanceOf(data, typeof Blob !== 'undefined' ? Blob : undefined));\n","module.exports = obj => {\n\n\t// Scalar\n\tif (!obj)\n\t\treturn true;\n\n\t// Array\n\tif (Array.isArray(obj)) {\n\t\treturn !obj.length;\n\t}\n\telse if (typeof (obj) === 'object') {\n\t\t// Object\n\t\tfor (const key in obj) {\n\t\t\tif (obj.hasOwnProperty(key)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn true;\n};\n","// Extend an object\nconst extend = require('./extend.js');\n\nmodule.exports = (...args) => {\n\targs.unshift({});\n\treturn extend(...args);\n};\n","// Pubsub extension\n// A contructor superclass for adding event menthods, on, off, emit.\nconst setImmediate = require('../time/setImmediate.js');\n\nconst separator = /[\\s\\,]+/;\n\nmodule.exports = function() {\n\n\t// If this doesn't support getPrototype then we can't get prototype.events of the parent\n\t// So lets get the current instance events, and add those to a parent property\n\tthis.parent = {\n\t\tevents: this.events,\n\t\tfindEvents: this.findEvents,\n\t\tparent: this.parent,\n\t\tutils: this.utils\n\t};\n\n\tthis.events = {};\n\n\tthis.off = off;\n\tthis.on = on;\n\tthis.emit = emit;\n\tthis.emitAfter = emitAfter;\n\tthis.findEvents = findEvents;\n\n\treturn this;\n};\n\n\n// On, subscribe to events\n// @param evt   string\n// @param callback  function\nfunction on(evt, callback) {\n\n\tif (callback && typeof (callback) === 'function') {\n\t\tevt.split(separator).forEach(name => {\n\t\t\t// Has this event already been fired on this instance?\n\t\t\tthis.events[name] = [callback].concat(this.events[name] || []);\n\t\t});\n\t}\n\n\treturn this;\n}\n\n\n// Off, unsubscribe to events\n// @param evt   string\n// @param callback  function\nfunction off(evt, callback) {\n\n\tthis.findEvents(evt, function(name, index) {\n\t\tif (!callback || this.events[name][index] === callback) {\n\t\t\tthis.events[name][index] = null;\n\t\t}\n\t});\n\n\treturn this;\n}\n\n// Emit\n// Triggers any subscribed events\nfunction emit(evt, ...args) {\n\n\t// Append the eventname to the end of the arguments\n\targs.push(evt);\n\n\t// Handler\n\tconst handler = function(name, index) {\n\n\t\t// Replace the last property with the event name\n\t\targs[args.length - 1] = (name === '*' ? evt : name);\n\n\t\t// Trigger\n\t\tthis.events[name][index].apply(this, args);\n\t};\n\n\t// Find the callbacks which match the condition and call\n\tlet _this = this;\n\twhile (_this && _this.findEvents) {\n\n\t\t// Find events which match\n\t\t_this.findEvents(`${evt },*`, handler);\n\t\t_this = _this.parent;\n\t}\n\n\treturn this;\n}\n\n// Easy functions\nfunction emitAfter(...args) {\n\n\tsetImmediate(() => {\n\t\tthis.emit(...args);\n\t});\n\n\treturn this;\n}\n\nfunction findEvents(evt, callback) {\n\n\tconst a = evt.split(separator);\n\n\tfor (const name in this.events) {\n\t\tif (this.events.hasOwnProperty(name)) {\n\n\t\t\tif (a.indexOf(name) > -1) {\n\n\t\t\t\tthis.events[name].forEach(triggerCallback.bind(this, name, callback));\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction triggerCallback(name, callback, handler, i) {\n\t// Does the event handler exist?\n\tif (handler) {\n\t\t// Emit on the local instance of this\n\t\tcallback.call(this, name, i);\n\t}\n}\n","// Rewire functions\nmodule.exports = fn => {\n\tconst f = (...args) => f.fn.apply(null, args);\n\tf.fn = fn;\n\treturn f;\n};\n","module.exports = fn => {\n\ttry {\n\t\treturn fn.call(null);\n\t}\n\tcatch (e) {\n\t\t// Continue\n\t}\n};\n","const querystringify = require('./querystringify.js');\nconst isEmpty = require('../object/isEmpty.js');\n\nmodule.exports = (url, params, formatFunction) => {\n\n\tlet reg;\n\n\tif (params) {\n\t\t// Set default formatting function\n\t\tformatFunction = formatFunction || encodeURIComponent;\n\n\t\t// Override the items in the URL which already exist\n\t\tfor (const x in params) {\n\t\t\tconst str = `([\\\\?\\\\&])${ x }=[^\\\\&]*`;\n\t\t\treg = new RegExp(str);\n\t\t\tif (url.match(reg)) {\n\t\t\t\turl = url.replace(reg, `$1${ x }=${ formatFunction(params[x])}`);\n\t\t\t\tdelete params[x];\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!isEmpty(params)) {\n\t\treturn url + (url.indexOf('?') > -1 ? '&' : '?') + querystringify(params, formatFunction);\n\t}\n\n\treturn url;\n};\n","// Extract\n// Extract the parameters of an URL string\n// @param string s, string to decode\n\nmodule.exports = (str, match_params, formatFunction = x => x) => {\n\tconst a = {};\n\tlet m;\n\twhile ((m = match_params.exec(str))) {\n\t\ta[m[1]] = formatFunction(m[2]);\n\t}\n\treturn a;\n};\n","const tryCatch = require('../object/tryCatch.js');\nmodule.exports = str => tryCatch(() => JSON.parse(str));\n","// Param\n// Explode/encode the parameters of an URL string/object\n// @param string s, string to decode\nmodule.exports = (hash, delimiter = '&', seperator = '=', formatFunction = o => o) =>\n\tObject.keys(hash).map(name => {\n\t\tconst value = formatFunction(hash[name]);\n\t\treturn name + (value !== null ? seperator + value : '');\n\t}).join(delimiter)\n;\n","// Create a Query string\nconst extract = require('./extract.js');\n\nconst trim_left = /^[\\#\\?]/;\nconst match_params = /([^=\\/\\&]+)=([^\\&]+)/g;\n\nmodule.exports = (str, formatFunction = decodeURIComponent) => {\n\tstr = str.replace(trim_left, '');\n\treturn extract(str, match_params, formatFunction);\n};\n","// Create a Query string\nconst param = require('./param.js');\nconst fn = value => (value === '?' ? '?' : encodeURIComponent(value));\n\nmodule.exports = (o, formatter = fn) => param(o, '&', '=', formatter);\n","module.exports = () => parseInt(Math.random() * 1e12, 10).toString(36);\n","module.exports = ('withCredentials' in new XMLHttpRequest());\n","module.exports = typeof setImmediate === 'function' ? setImmediate : (cb => setTimeout(cb, 0));\n","// Close a window\nmodule.exports = window => {\n\n\t// Is this window within an Iframe?\n\tif (window.frameElement) {\n\t\twindow.parent.document.body.removeChild(window.frameElement);\n\t}\n\telse {\n\t\t// Close this current window\n\t\ttry {\n\t\t\twindow.close();\n\t\t}\n\t\tcatch (e) {\n\t\t\t// Continue\n\t\t}\n\n\t\t// IOS bug wont let us close a popup if still loading\n\t\tif (window.addEventListener) {\n\t\t\twindow.addEventListener('load', () => window.close());\n\t\t}\n\t}\n};\n","// popup\n// Easy options as a hash\nconst param = require('../string/param.js');\n\nconst documentElement = document.documentElement;\nconst dimensions = [['Top', 'Height'], ['Left', 'Width']];\n\nmodule.exports = (url, target, options = {}) => {\n\n\t// centers the popup correctly to the current display of a multi-screen display.\n\tdimensions.forEach(generatePosition.bind(options));\n\n\t// Open\n\treturn window.open(url, target, param(options, ','));\n};\n\nfunction generatePosition ([Position, Dimension]) {\n\tconst position = Position.toLowerCase();\n\tconst dimension = Dimension.toLowerCase();\n\tif (this[dimension] && !(position in this)) {\n\t\tconst dualScreenPos = window[`screen${ Position}`] !== undefined ? window[`screen${ Position}`] : screen[position];\n\t\tconst d = screen[dimension] || window[`inner${ Dimension}`] || documentElement[`client${ Dimension}`];\n\t\tthis[position] = parseInt((d - this[dimension]) / 2, 10) + dualScreenPos;\n\t}\n}\n","module.exports = path => {\n\n\t// If the path is empty\n\tif (!path) {\n\t\treturn window.location;\n\t}\n\n\t// Chrome and FireFox support new URL() to extract URL objects\n\telse if (window.URL && URL instanceof Function && URL.length !== 0) {\n\t\treturn new URL(path, window.location);\n\t}\n\n\t// Ugly shim, it works!\n\telse {\n\t\tconst a = document.createElement('a');\n\t\ta.href = path;\n\t\t// Return clone for IE compatibility view.\n\t\treturn a.cloneNode(false);\n\t}\n};\n","/**\n * @hello.js\n *\n * HelloJS is a client side Javascript SDK for making OAuth2 logins and subsequent REST calls.\n *\n * @author Andrew Dodson\n * @website https://adodson.com/hello.js/\n\n * @copyright Andrew Dodson, 2012 - 2015\n * @license MIT: You are free to use and modify this code for any use, on the condition that this copyright notice remains.\n */\n\nconst argmap = require('tricks/object/args');\nconst clone = require('tricks/object/clone');\nconst closeWindow = require('tricks/window/close');\nconst createUrl = require('tricks/string/createUrl');\nconst diffKey = require('tricks/object/diffKey');\nconst diff = require('tricks/array/diff');\nconst extend = require('tricks/object/extend');\nconst globalCallback = require('tricks/events/globalCallback');\nconst iframe = require('tricks/dom/hiddenFrame');\nconst isEmpty = require('tricks/object/isEmpty');\nconst merge = require('tricks/object/merge');\nconst param = require('tricks/string/queryparse');\nconst popup = require('tricks/window/popup');\nconst pubsub = require('tricks/object/pubsub');\nconst random = require('tricks/string/random');\nconst request = require('tricks/http/request');\nconst store = require('tricks/browser/agent/localStorage');\nconst unique = require('tricks/array/unique');\nconst Url = require('tricks/window/url');\n\nconst hello = function(name) {\n\treturn hello.use(name);\n};\n\nmodule.exports = hello;\n\nextend(hello, {\n\n\tsettings: {\n\n\t\t// OAuth2 authentication defaults\n\t\tredirect_uri: (typeof location !== 'undefined' ? location.href.split('#')[0] : null),\n\t\tresponse_type: 'token',\n\t\tdisplay: 'popup',\n\t\tstate: '',\n\n\t\t// OAuth1 shim\n\t\t// The path to the OAuth1 server for signing user requests\n\t\t// Want to recreate your own? Checkout https://github.com/MrSwitch/node-oauth-shim\n\t\toauth_proxy: 'https://auth-server.herokuapp.com/proxy',\n\n\t\t// API timeout in milliseconds\n\t\ttimeout: 20000,\n\n\t\t// Popup Options\n\t\tpopup: {\n\t\t\tresizable: 1,\n\t\t\tscrollbars: 1,\n\t\t\twidth: 500,\n\t\t\theight: 550\n\t\t},\n\n\t\t// Default scope\n\t\t// Many services require atleast a profile scope,\n\t\t// HelloJS automatially includes the value of provider.scope_map.basic\n\t\t// If that's not required it can be removed via hello.settings.scope.length = 0;\n\t\tscope: ['basic'],\n\n\t\t// Scope Maps\n\t\t// This is the default module scope, these are the defaults which each service is mapped too.\n\t\t// By including them here it prevents the scope from being applied accidentally\n\t\tscope_map: {\n\t\t\tbasic: ''\n\t\t},\n\n\t\t// Default service / network\n\t\tdefault_service: null,\n\n\t\t// Force authentication\n\t\t// When hello.login is fired.\n\t\t// (null): ignore current session expiry and continue with login\n\t\t// (true): ignore current session expiry and continue with login, ask for user to reauthenticate\n\t\t// (false): if the current session looks good for the request scopes return the current session.\n\t\tforce: null,\n\n\t\t// Page URL\n\t\t// When 'display=page' this property defines where the users page should end up after redirect_uri\n\t\t// Ths could be problematic if the redirect_uri is indeed the final place,\n\t\t// Typically this circumvents the problem of the redirect_url being a dumb relay page.\n\t\tpage_uri: (typeof location !== 'undefined' ? location.href : null)\n\t},\n\n\t// Service configuration objects\n\tservices: {},\n\n\t// Use\n\t// Define a new instance of the HelloJS library with a default service\n\tuse(service) {\n\n\t\t// Create self, which inherits from its parent\n\t\tconst self = Object.create(this);\n\n\t\t// Inherit the prototype from its parent\n\t\tself.settings = Object.create(this.settings);\n\n\t\t// Define the default service\n\t\tif (service) {\n\t\t\tself.settings.default_service = service;\n\t\t}\n\n\t\t// Create an instance of Events\n\t\tpubsub.call(self);\n\n\t\treturn self;\n\t},\n\n\t// Initialize\n\t// Define the client_ids for the endpoint services\n\t// @param object o, contains a key value pair, service => clientId\n\t// @param object opts, contains a key value pair of options used for defining the authentication defaults\n\t// @param number timeout, timeout in seconds\n\tinit(services, options) {\n\n\t\tif (!services) {\n\t\t\treturn this.services;\n\t\t}\n\n\t\t// Define provider credentials\n\t\t// Reformat the ID field\n\t\tfor (const x in services) {\n\t\t\tif (services.hasOwnProperty(x)) {\n\t\t\t\tif (typeof (services[x]) !== 'object') {\n\t\t\t\t\tservices[x] = {id: services[x]};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Merge services if there already exists some\n\t\textend(this.services, services);\n\n\t\t// Update the default settings with this one.\n\t\tif (options) {\n\t\t\textend(this.settings, options);\n\n\t\t\t// Do this immediatly incase the browser changes the current path.\n\t\t\tif ('redirect_uri' in options) {\n\t\t\t\tthis.settings.redirect_uri = Url(options.redirect_uri).href;\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t// Login\n\t// Using the endpoint\n\t// @param network stringify       name to connect to\n\t// @param options object    (optional)  {display mode, is either none|popup(default)|page, scope: email,birthday,publish, .. }\n\t// @param callback  function  (optional)  fired on signin\n\tasync login(...args) {\n\n\t\tconst utils = this.utils;\n\t\t// Get parameters\n\t\tconst p = argmap({network: 's', options: 'o', callback: 'f'}, args);\n\n\t\t// Local vars\n\t\tlet url;\n\n\t\t// Get all the custom options and store to be appended to the querystring\n\t\tconst qs = diffKey(p.options, this.settings);\n\n\t\t// Merge/override options with app defaults\n\t\tconst opts = p.options = merge(this.settings, p.options || {});\n\n\t\t// Merge/override options with app defaults\n\t\topts.popup = merge(this.settings.popup, p.options.popup || {});\n\n\t\t// Network\n\t\tp.network = p.network || this.settings.default_service;\n\n\t\t// Is our service valid?\n\t\tif (typeof (p.network) !== 'string' || !(p.network in this.services)) {\n\t\t\t// Trigger the default login.\n\t\t\t// Ahh we dont have one.\n\t\t\tthrow error('invalid_network', 'The provided network was not recognized');\n\t\t}\n\n\t\tconst provider = this.services[p.network];\n\n\t\t// Create a global listener to capture events triggered out of scope\n\t\tconst callbackId = `_hellojs_${random()}`;\n\n\t\tconst prs = [];\n\n\t\tprs.push(new Promise((accept, reject) => {\n\t\t\tglobalCallback(str => {\n\n\t\t\t\t// The responseHandler returns a string, lets save this locally\n\t\t\t\tlet obj;\n\n\t\t\t\tif (str) {\n\t\t\t\t\tobj = JSON.parse(str);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tobj = error('cancelled', 'The authentication was not completed');\n\t\t\t\t}\n\n\t\t\t\t// Handle these response using the local\n\t\t\t\t// Trigger on the parent\n\t\t\t\tif (!obj.error) {\n\n\t\t\t\t\t// Save on the parent window the new credentials\n\t\t\t\t\t// This fixes an IE10 bug i think... atleast it does for me.\n\t\t\t\t\tutils.store(obj.network, obj);\n\n\t\t\t\t\t// Fulfill a successful login\n\t\t\t\t\taccept({\n\t\t\t\t\t\tnetwork: obj.network,\n\t\t\t\t\t\tauthResponse: obj\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// Reject a successful login\n\t\t\t\t\treject(obj);\n\t\t\t\t}\n\t\t\t}, callbackId);\n\t\t}));\n\n\t\tconst redirectUri = Url(opts.redirect_uri).href;\n\n\t\t// May be a space-delimited list of multiple, complementary types\n\t\tlet responseType = provider.oauth.response_type || opts.response_type;\n\n\t\t// Fallback to token if the module hasn't defined a grant url\n\t\tif (/\\bcode\\b/.test(responseType) && !provider.oauth.grant) {\n\t\t\tresponseType = responseType.replace(/\\bcode\\b/, 'token');\n\t\t}\n\n\t\t// Query string parameters, we may pass our own arguments to form the querystring\n\t\tp.qs = merge(qs, {\n\t\t\tclient_id: encodeURIComponent(provider.id),\n\t\t\tresponse_type: encodeURIComponent(responseType),\n\t\t\tredirect_uri: encodeURIComponent(redirectUri),\n\t\t\tstate: {\n\t\t\t\tclient_id: provider.id,\n\t\t\t\tnetwork: p.network,\n\t\t\t\tdisplay: opts.display,\n\t\t\t\tcallback: callbackId,\n\t\t\t\tstate: opts.state,\n\t\t\t\tredirect_uri: redirectUri\n\t\t\t}\n\t\t});\n\n\t\t// Get current session for merging scopes, and for quick auth response\n\t\tconst session = utils.store(p.network);\n\n\t\t// Scopes (authentication permisions)\n\t\t// Ensure this is a string - IE has a problem moving Arrays between windows\n\t\t// Append the setup scope\n\t\tconst SCOPE_SPLIT = /[,\\s]+/;\n\n\t\t// Include default scope settings (cloned).\n\t\tlet scope = this.settings.scope ? [this.settings.scope.toString()] : [];\n\n\t\t// Extend the providers scope list with the default\n\t\tconst scopeMap = merge(this.settings.scope_map, provider.scope || {});\n\n\t\t// Add user defined scopes...\n\t\tif (opts.scope) {\n\t\t\tscope.push(opts.scope.toString());\n\t\t}\n\n\t\t// Append scopes from a previous session.\n\t\t// This helps keep app credentials constant,\n\t\t// Avoiding having to keep tabs on what scopes are authorized\n\t\tif (session && 'scope' in session && session.scope instanceof String) {\n\t\t\tscope.push(session.scope);\n\t\t}\n\n\t\t// Join and Split again\n\t\tscope = scope.join(',').split(SCOPE_SPLIT);\n\n\t\t// Format remove duplicates and empty values\n\t\tscope = unique(scope).filter(filterEmpty);\n\n\t\t// Save the the scopes to the state with the names that they were requested with.\n\t\tp.qs.state.scope = scope.join(',');\n\n\t\t// Map scopes to the providers naming convention\n\t\t// Does this have a mapping?\n\t\tscope = scope.map(item => ((item in scopeMap) ? scopeMap[item] : item));\n\n\t\t// Stringify and Arrayify so that double mapped scopes are given the chance to be formatted\n\t\tscope = scope.join(',').split(SCOPE_SPLIT);\n\n\t\t// Again...\n\t\t// Format remove duplicates and empty values\n\t\tscope = unique(scope).filter(filterEmpty);\n\n\t\t// Join with the expected scope delimiter into a string\n\t\tp.qs.scope = scope.join(provider.scope_delim || ',');\n\n\t\t// Is the user already signed in with the appropriate scopes, valid access_token?\n\t\tif (opts.force === false) {\n\n\t\t\tif (session && 'access_token' in session && session.access_token && 'expires' in session && session.expires > ((new Date()).getTime() / 1e3)) {\n\t\t\t\t// What is different about the scopes in the session vs the scopes in the new login?\n\t\t\t\tconst a = diff((session.scope || '').split(SCOPE_SPLIT), (p.qs.state.scope || '').split(SCOPE_SPLIT));\n\t\t\t\tif (a.length === 0) {\n\n\t\t\t\t\t// OK trigger the callback\n\t\t\t\t\treturn {\n\t\t\t\t\t\tunchanged: true,\n\t\t\t\t\t\tnetwork: p.network,\n\t\t\t\t\t\tauthResponse: session\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Page URL\n\t\tif (opts.display === 'page' && opts.page_uri) {\n\t\t\t// Add a page location, place to endup after session has authenticated\n\t\t\tp.qs.state.page_uri = Url(opts.page_uri).href;\n\t\t}\n\n\t\t// Bespoke\n\t\t// Override login querystrings from auth_options\n\t\tif ('login' in provider && typeof (provider.login) === 'function') {\n\t\t\t// Format the paramaters according to the providers formatting function\n\t\t\tprovider.login(p);\n\t\t}\n\n\t\t// Add OAuth to state\n\t\t// Where the service is going to take advantage of the oauth_proxy\n\t\tif (!/\\btoken\\b/.test(responseType) ||\n\t\tparseInt(provider.oauth.version, 10) < 2 ||\n\t\t(opts.display === 'none' && provider.oauth.grant && session && session.refresh_token)) {\n\n\t\t\t// Add the oauth endpoints\n\t\t\tp.qs.state.oauth = provider.oauth;\n\n\t\t\t// Add the proxy url\n\t\t\tp.qs.state.oauth_proxy = opts.oauth_proxy;\n\n\t\t}\n\n\t\t// Convert state to a string\n\t\tp.qs.state = encodeURIComponent(JSON.stringify(p.qs.state));\n\n\t\t// URL\n\t\tif (parseInt(provider.oauth.version, 10) === 1) {\n\n\t\t\t// Turn the request to the OAuth Proxy for 3-legged auth\n\t\t\turl = createUrl(opts.oauth_proxy, p.qs, encodeFunction);\n\t\t}\n\n\t\t// Refresh token\n\t\telse if (opts.display === 'none' && provider.oauth.grant && session && session.refresh_token) {\n\n\t\t\t// Add the refresh_token to the request\n\t\t\tp.qs.refresh_token = session.refresh_token;\n\n\t\t\t// Define the request path\n\t\t\turl = createUrl(opts.oauth_proxy, p.qs, encodeFunction);\n\t\t}\n\t\telse {\n\t\t\turl = createUrl(provider.oauth.auth, p.qs, encodeFunction);\n\t\t}\n\n\t\t// Broadcast this event as an auth:init\n\t\temit('auth.init', p);\n\n\t\t// Execute\n\t\t// Trigger how we want self displayed\n\t\tif (opts.display === 'none') {\n\t\t\t// Sign-in in the background, iframe\n\t\t\tutils.iframe(url, redirectUri);\n\t\t}\n\n\t\t// Triggering popup?\n\t\telse if (opts.display === 'popup') {\n\n\t\t\tconst win = utils.popup(url, redirectUri, opts.popup);\n\n\t\t\tprs.push(new Promise((accept, reject) => {\n\n\t\t\t\tconst timer = setInterval(() => {\n\t\t\t\t\tif (!win || win.closed) {\n\t\t\t\t\t\tclearInterval(timer);\n\n\t\t\t\t\t\tlet response = error('cancelled', 'Login has been cancelled');\n\n\t\t\t\t\t\tif (!popup) {\n\t\t\t\t\t\t\tresponse = error('blocked', 'Popup was blocked');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tresponse.network = p.network;\n\n\t\t\t\t\t\treject(response);\n\t\t\t\t\t}\n\t\t\t\t}, 100);\n\n\t\t\t}));\n\t\t}\n\n\t\telse {\n\t\t\twindow.location = url;\n\t\t}\n\n\t\tfunction encodeFunction(s) {\n\t\t\treturn s;\n\t\t}\n\n\t\tfunction filterEmpty(s) {\n\t\t\treturn !!s;\n\t\t}\n\n\t\t// Return the first success or failure...\n\t\tconst promise = Promise.race(prs);\n\n\t\t// Bind callback to both reject and fulfill states\n\t\tpromise.then(p.callback, p.callback);\n\n\t\t// Trigger an event on the global listener\n\t\tfunction emit(s, value) {\n\t\t\thello.emit(s, value);\n\t\t}\n\n\t\tpromise.then(emit.bind(this, 'auth.login auth'), emit.bind(this, 'auth.failed auth'));\n\n\t\treturn promise;\n\t},\n\n\t// Remove any data associated with a given service\n\t// @param string name of the service\n\t// @param function callback\n\tasync logout(...args) {\n\n\t\tconst utils = this.utils;\n\n\t\tconst p = argmap({name: 's', options: 'o', callback: 'f'}, args);\n\n\t\tconst prs = [];\n\n\t\tp.options = p.options || {};\n\n\t\t// Network\n\t\tp.name = p.name || this.settings.default_service;\n\t\tp.authResponse = utils.store(p.name);\n\n\t\tif (p.name && !(p.name in this.services)) {\n\n\t\t\tthrow error('invalid_network', 'The network was unrecognized');\n\n\t\t}\n\t\telse if (p.name && p.authResponse) {\n\n\t\t\tconst promiseLogout = new Promise(accept => {\n\t\t\t\t// Run an async operation to remove the users session\n\t\t\t\tconst _opts = {};\n\n\t\t\t\tif (p.options.force) {\n\t\t\t\t\tlet logout = this.services[p.name].logout;\n\t\t\t\t\tif (logout) {\n\t\t\t\t\t\t// Convert logout to URL string,\n\t\t\t\t\t\t// If no string is returned, then this function will handle the logout async style\n\t\t\t\t\t\tif (typeof (logout) === 'function') {\n\t\t\t\t\t\t\tlogout = logout(accept, p);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If logout is a string then assume URL and open in iframe.\n\t\t\t\t\t\tif (typeof (logout) === 'string') {\n\t\t\t\t\t\t\tutils.iframe(logout);\n\t\t\t\t\t\t\t_opts.force = null;\n\t\t\t\t\t\t\t_opts.message = 'Logout success on providers site was indeterminate';\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (logout === undefined) {\n\t\t\t\t\t\t\t// The callback function will handle the response.\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\taccept(_opts);\n\t\t\t})\n\t\t\t\t.then(opts => {\n\n\t\t\t\t\t// Remove from the store\n\t\t\t\t\tutils.store(p.name, null);\n\n\t\t\t\t\t// Emit events by default\n\t\t\t\t\treturn merge({\n\t\t\t\t\t\tnetwork: p.name\n\t\t\t\t\t}, opts || {});\n\t\t\t\t});\n\n\t\t\tprs.push(promiseLogout);\n\n\t\t}\n\t\telse {\n\t\t\tthrow error('invalid_session', 'There was no session to remove');\n\t\t}\n\n\t\t// Promse\n\t\tconst promise = Promise.race(prs);\n\n\t\t// Add callback to events\n\t\tpromise.then(p.callback, p.callback);\n\n\t\t// Trigger an event on the global listener\n\t\tpromise.then(\n\t\t\tvalue => hello.emit('auth.logout auth', value),\n\t\t\terr => hello.emit('error', err)\n\t\t);\n\n\t\treturn promise;\n\t},\n\n\t// Returns all the sessions that are subscribed too\n\t// @param string optional, name of the service to get information about.\n\tgetAuthResponse(service) {\n\n\t\t// If the service doesn't exist\n\t\tservice = service || this.settings.default_service;\n\n\t\tif (!service || !(service in this.services)) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this.utils.store(service) || null;\n\t},\n\n\t// Events: placeholder for the events\n\tevents: {}\n});\n\nfunction error(code, message) {\n\treturn {\n\t\terror: {\n\t\t\tcode,\n\t\t\tmessage\n\t\t}\n\t};\n}\n\nhello.utils = {\n\tiframe,\n\tpopup,\n\trequest,\n\tstore\n};\n\n// Core utilities\nextend(hello.utils, {\n\n\t// OAuth and API response handler\n\tresponseHandler(window, parent) {\n\t\tconst utils = this;\n\n\t\tlet p;\n\t\tconst location = window.location;\n\n\t\tconst redirect = (location.assign && location.assign.bind(location)) || (url => {\n\t\t\twindow.location = url;\n\t\t});\n\n\t\t// Is this an auth relay message which needs to call the proxy?\n\t\tp = param(location.search);\n\n\t\t// OAuth2 or OAuth1 server response?\n\t\tif (p && p.state && (p.code || p.oauth_token)) {\n\n\t\t\tconst state = JSON.parse(p.state);\n\n\t\t\t// Add this path as the redirect_uri\n\t\t\tp.redirect_uri = state.redirect_uri || location.href.replace(/[?#].*$/, '');\n\n\t\t\t// Redirect to the host\n\t\t\tconst path = `${state.oauth_proxy}?${param(p)}`;\n\n\t\t\tredirect(path);\n\n\t\t\treturn;\n\t\t}\n\n\t\t// Save session, from redirected authentication\n\t\t// #access_token has come in?\n\t\t//\n\t\t// FACEBOOK is returning auth errors within as a query_string... thats a stickler for consistency.\n\t\t// SoundCloud is the state in the querystring and the token in the hashtag, so we'll mix the two together\n\n\t\tp = merge(param(location.search || ''), param(location.hash || ''));\n\n\t\t// If p.state\n\t\tif (p && 'state' in p) {\n\n\t\t\t// Remove any addition information\n\t\t\t// E.g. p.state = 'facebook.page';\n\t\t\ttry {\n\t\t\t\tconst a = JSON.parse(p.state);\n\t\t\t\textend(p, a);\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\thello.emit('error', 'Could not decode state parameter');\n\t\t\t}\n\n\t\t\t// Access_token?\n\t\t\tif (('access_token' in p && p.access_token) && p.network) {\n\n\t\t\t\tif (!p.expires_in || parseInt(p.expires_in, 10) === 0) {\n\t\t\t\t\t// If p.expires_in is unset, set to 0\n\t\t\t\t\tp.expires_in = 0;\n\t\t\t\t}\n\n\t\t\t\tp.expires_in = parseInt(p.expires_in, 10);\n\t\t\t\tp.expires = ((new Date()).getTime() / 1e3) + (p.expires_in || (60 * 60 * 24 * 365));\n\n\t\t\t\t// Lets use the \"state\" to assign it to one of our networks\n\t\t\t\tauthCallback(p, window, parent);\n\t\t\t}\n\n\t\t\t// Error=?\n\t\t\t// &error_description=?\n\t\t\t// &state=?\n\t\t\telse if (('error' in p && p.error) && p.network) {\n\n\t\t\t\tp.error = {\n\t\t\t\t\tcode: p.error,\n\t\t\t\t\tmessage: p.error_message || p.error_description\n\t\t\t\t};\n\n\t\t\t\t// Let the state handler handle it\n\t\t\t\tauthCallback(p, window, parent);\n\t\t\t}\n\n\t\t\t// API call, or a cancelled login\n\t\t\t// Result is serialized JSON string\n\t\t\telse if (p.callback && p.callback in parent) {\n\n\t\t\t\t// Trigger a function in the parent\n\t\t\t\tconst res = 'result' in p && p.result ? JSON.parse(p.result) : false;\n\n\t\t\t\t// Trigger the callback on the parent\n\t\t\t\tcallback(parent, p.callback)(res);\n\t\t\t\tcloseWindow(window);\n\t\t\t}\n\n\t\t\t// If this page is still open\n\t\t\tif (p.page_uri) {\n\t\t\t\tredirect(p.page_uri);\n\t\t\t}\n\t\t}\n\n\t\t// OAuth redirect, fixes URI fragments from being lost in Safari\n\t\t// (URI Fragments within 302 Location URI are lost over HTTPS)\n\t\t// Loading the redirect.html before triggering the OAuth Flow seems to fix it.\n\t\telse if ('oauth_redirect' in p) {\n\n\t\t\tredirect(decodeURIComponent(p.oauth_redirect));\n\t\t\treturn;\n\t\t}\n\n\t\t// Trigger a callback to authenticate\n\t\tfunction authCallback(obj, window, parent) {\n\n\t\t\tconst cb = obj.callback;\n\t\t\tconst network = obj.network;\n\n\t\t\t// Trigger the callback on the parent\n\t\t\tutils.store(network, obj);\n\n\t\t\t// If this is a page request it has no parent or opener window to handle callbacks\n\t\t\tif (('display' in obj) && obj.display === 'page') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Remove from session object\n\t\t\tif (parent && cb && cb in parent) {\n\n\t\t\t\ttry {\n\t\t\t\t\tdelete obj.callback;\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\t// continue\n\t\t\t\t}\n\n\t\t\t\t// Update store\n\t\t\t\tutils.store(network, obj);\n\n\t\t\t\t// Call the globalEvent function on the parent\n\t\t\t\t// It's safer to pass back a string to the parent,\n\t\t\t\t// Rather than an object/array (better for IE8)\n\t\t\t\tconst str = JSON.stringify(obj);\n\n\t\t\t\ttry {\n\t\t\t\t\tcallback(parent, cb)(str);\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\t// Error thrown whilst executing parent callback\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcloseWindow(window);\n\t\t}\n\n\t\tfunction callback(parent, callbackID) {\n\t\t\tif (callbackID.indexOf('_hellojs_') !== 0) {\n\t\t\t\treturn function() {\n\t\t\t\t\tthrow `Could not execute callback ${callbackID}`;\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn parent[callbackID];\n\t\t}\n\t}\n});\n\n\n// Events\n// Extend the hello object with its own event instance\npubsub.call(hello);\n\n///////////////////////////////////\n// Monitoring session state\n// Check for session changes\n///////////////////////////////////\n\n(function(hello) {\n\n\t// Monitor for a change in state and fire\n\tconst oldSessions = {};\n\n\t// Hash of expired tokens\n\tconst expired = {};\n\n\t// Listen to other triggers to Auth events, use these to update this\n\thello.on('auth.login, auth.logout', auth => {\n\t\tif (auth && typeof (auth) === 'object' && auth.network) {\n\t\t\toldSessions[auth.network] = hello.utils.store(auth.network) || {};\n\t\t}\n\t});\n\n\t(function self() {\n\n\t\tconst CURRENT_TIME = ((new Date()).getTime() / 1e3);\n\n\t\t// Loop through the services\n\t\tfor (const name in hello.services) {\n\t\t\tif (hello.services.hasOwnProperty(name)) {\n\n\t\t\t\tif (!hello.services[name].id) {\n\t\t\t\t// We haven't attached an ID so dont listen.\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Get session\n\t\t\t\tconst session = hello.utils.store(name) || {};\n\t\t\t\tconst provider = hello.services[name];\n\t\t\t\tconst oldSess = oldSessions[name] || {};\n\n\t\t\t\tconst emit = function(eventName) {\n\t\t\t\t\thello.emit(`auth.${eventName}`, {\n\t\t\t\t\t\tnetwork: name,\n\t\t\t\t\t\tauthResponse: session\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\t// Listen for globalEvents that did not get triggered from the child\n\t\t\t\tif (session && 'callback' in session) {\n\n\t\t\t\t\t// To do remove from session object...\n\t\t\t\t\tconst cb = session.callback;\n\t\t\t\t\ttry {\n\t\t\t\t\t\tdelete session.callback;\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\t// Continue\n\t\t\t\t\t}\n\n\t\t\t\t\t// Update store\n\t\t\t\t\t// Removing the callback\n\t\t\t\t\thello.utils.store(name, session);\n\n\t\t\t\t\t// Emit global events\n\t\t\t\t\ttry {\n\t\t\t\t\t\twindow[cb](session);\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\t// Continue\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Refresh token\n\t\t\t\tif (session && ('expires' in session) && session.expires < CURRENT_TIME) {\n\n\t\t\t\t\t// If auto refresh is possible\n\t\t\t\t\t// Either the browser supports\n\t\t\t\t\tconst refresh = provider.refresh || session.refresh_token;\n\n\t\t\t\t\t// Has the refresh been run recently?\n\t\t\t\t\tif (refresh && (!(name in expired) || expired[name] < CURRENT_TIME)) {\n\t\t\t\t\t\t// Try to resignin\n\t\t\t\t\t\thello.emit('notice', `${name} has expired trying to resignin`);\n\t\t\t\t\t\thello.login(name, {display: 'none', force: false});\n\n\t\t\t\t\t\t// Update expired, every 10 minutes\n\t\t\t\t\t\texpired[name] = CURRENT_TIME + 600;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Does this provider not support refresh\n\t\t\t\t\telse if (!refresh && !(name in expired)) {\n\t\t\t\t\t// Label the event\n\t\t\t\t\t\temit('expired');\n\t\t\t\t\t\texpired[name] = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// If session has expired then we dont want to store its value until it can be established that its been updated\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Has session changed?\n\t\t\t\telse if (oldSess.access_token === session.access_token &&\n\t\t\toldSess.expires === session.expires) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Access_token has been removed\n\t\t\t\telse if (!session.access_token && oldSess.access_token) {\n\t\t\t\t\temit('logout');\n\t\t\t\t}\n\n\t\t\t\t// Access_token has been created\n\t\t\t\telse if (session.access_token && !oldSess.access_token) {\n\t\t\t\t\temit('login');\n\t\t\t\t}\n\n\t\t\t\t// Access_token has been updated\n\t\t\t\telse if (session.expires !== oldSess.expires) {\n\t\t\t\t\temit('update');\n\t\t\t\t}\n\n\t\t\t\t// Updated stored session\n\t\t\t\toldSessions[name] = session;\n\n\t\t\t\t// Remove the expired flags\n\t\t\t\tif (name in expired) {\n\t\t\t\t\tdelete expired[name];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Check error events\n\t\tsetTimeout(self, 1000);\n\t})();\n\n})(hello);\n\n// EOF CORE lib\n//////////////////////////////////\n\n/////////////////////////////////////////\n// API\n// @param path    string\n// @param query   object (optional)\n// @param method  string (optional)\n// @param data    object (optional)\n// @param timeout integer (optional)\n// @param callback  function (optional)\n\nhello.api = async function(...args) {\n\n\t// Arguments\n\tconst p = argmap({path: 's!', query: 'o', method: 's', data: 'o', timeout: 'i', callback: 'f'}, args);\n\n\t// Remove the network from path, e.g. facebook:/me/friends\n\t// Results in { network : facebook, path : me/friends }\n\tif (!p || !p.path) {\n\t\tthrow error('invalid_path', 'Missing the path parameter from the request');\n\t}\n\n\t// Method\n\tp.method = (p.method || 'get').toLowerCase();\n\n\t// Headers\n\tp.headers = p.headers || {};\n\n\t// Response format\n\tp.responseType = p.responseType || 'json';\n\n\t// Query\n\tp.query = p.query || {};\n\n\t// If get, put all parameters into query\n\tif (p.method === 'get' || p.method === 'delete') {\n\t\textend(p.query, p.data);\n\t\tp.data = {};\n\t}\n\n\tconst data = p.data = p.data || {};\n\n\tp.path = p.path.replace(/^\\/+/, '');\n\tconst a = (p.path.split(/[/:]/, 2) || [])[0].toLowerCase();\n\n\tif (a in this.services) {\n\t\tp.network = a;\n\t\tconst reg = new RegExp(`^${a}:?/?`);\n\t\tp.path = p.path.replace(reg, '');\n\t}\n\n\t// Network & Provider\n\t// Define the network that this request is made for\n\tp.network = this.settings.default_service = p.network || this.settings.default_service;\n\tconst o = this.services[p.network];\n\n\t// INVALID\n\t// Is there no service by the given network name?\n\tif (!o) {\n\t\tthrow error('invalid_network', `Could not match the service requested: ${  p.network}`);\n\t}\n\n\t// PATH\n\t// As long as the path isn't flagged as unavaiable, e.g. path == false\n\n\tif (!(!(p.method in o) || !(p.path in o[p.method]) || o[p.method][p.path] !== false)) {\n\t\tthrow error('invalid_path', 'The provided path is not available on the selected network');\n\t}\n\n\t// PROXY\n\t// OAuth1 calls always need a proxy\n\n\tif (!p.oauth_proxy) {\n\t\tp.oauth_proxy = this.settings.oauth_proxy;\n\t}\n\n\tif (!('proxy' in p)) {\n\t\tp.proxy = p.oauth_proxy && o.oauth && parseInt(o.oauth.version, 10) === 1;\n\t}\n\n\t// TIMEOUT\n\t// Adopt timeout from global settings by default\n\n\tif (!('timeout' in p)) {\n\t\tp.timeout = this.settings.timeout;\n\t}\n\n\t// Format response\n\t// Whether to run the raw response through post processing.\n\tif (!('formatResponse' in p)) {\n\t\tp.formatResponse = true;\n\t}\n\n\t// Get the current session\n\t// Append the access_token to the query\n\tp.authResponse = this.getAuthResponse(p.network);\n\tif (p.authResponse && p.authResponse.access_token) {\n\t\tp.query.access_token = p.authResponse.access_token;\n\t}\n\n\tlet url = p.path;\n\tlet m;\n\n\t// Store the query as options\n\t// This is used to populate the request object before the data is augmented by the prewrap handlers.\n\tp.options = clone(p.query);\n\n\t// Clone the data object\n\t// Prevent this script overwriting the data of the incoming object.\n\t// Ensure that everytime we run an iteration the callbacks haven't removed some data\n\tp.data = clone(data);\n\n\t// URL Mapping\n\t// Is there a map for the given URL?\n\tconst actions = o[{delete: 'del'}[p.method] || p.method] || {};\n\n\t// Extrapolate the QueryString\n\t// Provide a clean path\n\t// Move the querystring into the data\n\tif (p.method === 'get') {\n\n\t\tconst query = url.split(/[?#]/)[1];\n\t\tif (query) {\n\t\t\textend(p.query, param(query));\n\n\t\t\t// Remove the query part from the URL\n\t\t\turl = url.replace(/\\?.*?(#|$)/, '$1');\n\t\t}\n\t}\n\n\t// Is the hash fragment defined\n\tif ((m = url.match(/#(.+)/, ''))) {\n\t\turl = url.split('#')[0];\n\t\tp.path = m[1];\n\t}\n\telse if (url in actions) {\n\t\tp.path = url;\n\t\turl = actions[url];\n\t}\n\telse if ('default' in actions) {\n\t\turl = actions.default;\n\t}\n\n\t// Redirect Handler\n\t// This defines for the Form+Iframe+Hash hack where to return the results too.\n\tp.redirect_uri = this.settings.redirect_uri;\n\n\t// Define FormatHandler\n\t// The request can be procesed in a multitude of ways\n\t// Here's the options - depending on the browser and endpoint\n\tp.xhr = o.xhr;\n\tp.jsonp = o.jsonp;\n\tp.form = o.form;\n\n\t// Define Proxy handler\n\tp.proxyHandler = (p, callback) => {\n\n\t\t// Are we signing the request?\n\t\tlet sign;\n\n\t\t// OAuth1\n\t\t// Remove the token from the query before signing\n\t\tif (p.authResponse && p.authResponse.oauth && parseInt(p.authResponse.oauth.version, 10) === 1) {\n\n\t\t\t// OAUTH SIGNING PROXY\n\t\t\tsign = p.query.access_token;\n\n\t\t\t// Remove the access_token\n\t\t\tdelete p.query.access_token;\n\n\t\t\t// Enfore use of Proxy\n\t\t\tp.proxy = true;\n\t\t}\n\n\t\t// POST body to querystring\n\t\tif (p.data && (p.method === 'get' || p.method === 'delete')) {\n\t\t\t// Attach the p.data to the querystring.\n\t\t\textend(p.query, p.data);\n\t\t\tp.data = null;\n\t\t}\n\n\t\t// Construct the path\n\t\tlet path = createUrl(p.url, p.query);\n\n\t\t// Proxy the request through a server\n\t\t// Used for signing OAuth1\n\t\t// And circumventing services without Access-Control Headers\n\t\tif (p.proxy) {\n\t\t\t// Use the proxy as a path\n\t\t\tpath = createUrl(p.oauth_proxy, {\n\t\t\t\tpath,\n\t\t\t\taccess_token: sign || '',\n\n\t\t\t\t// This will prompt the request to be signed as though it is OAuth1\n\t\t\t\tthen: p.proxy_response_type || (p.method.toLowerCase() === 'get' ? 'redirect' : 'proxy'),\n\t\t\t\tmethod: p.method.toLowerCase(),\n\t\t\t\tsuppress_response_codes: true\n\t\t\t});\n\t\t}\n\n\t\tcallback(path);\n\t};\n\n\n\t// If url needs a base\n\t// Wrap everything in\n\n\tlet promise;\n\n\t// Make request\n\tif (typeof (url) === 'function') {\n\t\t// Does self have its own callback?\n\t\tpromise = new Promise(accept => url(p, accept));\n\t}\n\telse {\n\t\t// Else the URL is a string\n\t\tpromise = Promise.resolve(url);\n\t}\n\n\t// Handle the url...\n\tpromise = promise.then(url => {\n\n\t\t// Format the string if it needs it\n\t\turl = url.replace(/@\\{([a-z_-]+)(\\|.*?)?\\}/gi, (m, key, defaults) => {\n\t\t\tlet val = defaults ? defaults.replace(/^\\|/, '') : '';\n\t\t\tif (key in p.query) {\n\t\t\t\tval = p.query[key];\n\t\t\t\tdelete p.query[key];\n\t\t\t}\n\t\t\telse if (p.data && key in p.data) {\n\t\t\t\tval = p.data[key];\n\t\t\t\tdelete p.data[key];\n\t\t\t}\n\t\t\telse if (!defaults) {\n\t\t\t\tthrow error('missing_attribute', `The attribute ${  key  } is missing from the request`);\n\t\t\t}\n\n\t\t\treturn val;\n\t\t});\n\n\t\t// Add base\n\t\tif (!url.match(/^https?:\\/\\//)) {\n\t\t\turl = o.base + url;\n\t\t}\n\n\t\t// Define the request URL\n\t\tp.url = url;\n\n\t\t// Make the HTTP request with the curated request object\n\t\t// CALLBACK HANDLER\n\t\t// @ response object\n\t\t// @ statusCode integer if available\n\t\treturn new Promise(accept => this.utils.request(p, (data, headers) => accept({data, headers})));\n\n\t})\n\t\t.then(resp => {\n\n\t\t\tlet {data} = resp;\n\t\t\tconst {headers} = resp;\n\n\t\t\t// Is this a raw response?\n\t\t\tif (!p.formatResponse) {\n\t\t\t\t// Bad request? error statusCode or otherwise contains an error response vis JSONP?\n\t\t\t\tif (typeof headers === 'object' ? (headers.statusCode >= 400) : (typeof r === 'object' && 'error' in data)) {\n\t\t\t\t\tthrow data;\n\t\t\t\t}\n\n\t\t\t\treturn data;\n\t\t\t}\n\n\t\t\t// Should this be an object\n\t\t\tif (data === true) {\n\t\t\t\tdata = {success: true};\n\t\t\t}\n\n\t\t\t// The delete callback needs a better response\n\t\t\tif (p.method === 'delete') {\n\t\t\t\tdata = (!data || isEmpty(data)) ? {success: true} : data;\n\t\t\t}\n\n\t\t\t// FORMAT RESPONSE?\n\t\t\t// Does self request have a corresponding formatter\n\t\t\tif (o.wrap && ((p.path in o.wrap) || ('default' in o.wrap))) {\n\t\t\t\tconst wrap = (p.path in o.wrap ? p.path : 'default');\n\n\t\t\t\t// FORMAT RESPONSE\n\t\t\t\tconst b = o.wrap[wrap](data, headers, p);\n\n\t\t\t\t// Has the response been utterly overwritten?\n\t\t\t\t// Typically self augments the existing object.. but for those rare occassions\n\t\t\t\tif (b) {\n\t\t\t\t\tdata = b;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Is there a next_page defined in the response?\n\t\t\tif (data && 'paging' in data && data.paging.next) {\n\n\t\t\t\t// Add the relative path if it is missing from the paging/next path\n\t\t\t\tif (data.paging.next[0] === '?') {\n\t\t\t\t\tdata.paging.next = p.path + data.paging.next;\n\t\t\t\t}\n\n\t\t\t\t// The relative path has been defined, lets markup the handler in the HashFragment\n\t\t\t\telse {\n\t\t\t\t\tdata.paging.next += `#${  p.path}`;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Dispatch to listeners\n\t\t\t// Emit events which pertain to the formatted response\n\t\t\tif (!data || 'error' in data) {\n\t\t\t\tthrow data;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn data;\n\t\t\t}\n\t\t});\n\n\t// Completed event callback\n\tpromise.then(p.callback, p.callback);\n\n\treturn promise;\n};\n\n\n/////////////////////////////////////\n//\n// Save any access token that is in the current page URL\n// Handle any response solicited through iframe hash tag following an API request\n//\n/////////////////////////////////////\n\nhello.utils.responseHandler(window, window.opener || window.parent);\n\nmodule.exports = hello;"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL2FycmF5L2RpZmYuanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL2FycmF5L2ZpbmQuanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL2FycmF5L3RvQXJyYXkuanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL2FycmF5L3VuaXF1ZS5qcyIsIm5vZGVfbW9kdWxlcy90cmlja3MvYnJvd3Nlci9hZ2VudC9TdG9yYWdlLmpzIiwibm9kZV9tb2R1bGVzL3RyaWNrcy9icm93c2VyL2FnZW50L2Nvb2tpZVN0b3JhZ2UuanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL2Jyb3dzZXIvYWdlbnQvbG9jYWxTdG9yYWdlLmpzIiwibm9kZV9tb2R1bGVzL3RyaWNrcy9icm93c2VyL2FnZW50L3Nlc3Npb25TdG9yYWdlLmpzIiwibm9kZV9tb2R1bGVzL3RyaWNrcy9icm93c2VyL2h0dHAvZm9ybXBvc3QuanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL2Jyb3dzZXIvaHR0cC9nZXRTY3JpcHQuanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL2Jyb3dzZXIvaHR0cC9qc29ucC5qcyIsIm5vZGVfbW9kdWxlcy90cmlja3MvYnJvd3Nlci9odHRwL3JlcXVlc3QuanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL2Jyb3dzZXIvaHR0cC94aHIuanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL2RvbS9hcHBlbmQuanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL2RvbS9hdHRyLmpzIiwibm9kZV9tb2R1bGVzL3RyaWNrcy9kb20vY3JlYXRlRWxlbWVudC5qcyIsIm5vZGVfbW9kdWxlcy90cmlja3MvZG9tL2RvbUluc3RhbmNlLmpzIiwibm9kZV9tb2R1bGVzL3RyaWNrcy9kb20vZWFjaC5qcyIsIm5vZGVfbW9kdWxlcy90cmlja3MvZG9tL2hpZGRlbkZyYW1lLmpzIiwibm9kZV9tb2R1bGVzL3RyaWNrcy9kb20vaXNEb20uanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL2V2ZW50cy9jcmVhdGVFdmVudC5qcyIsIm5vZGVfbW9kdWxlcy90cmlja3MvZXZlbnRzL2VtaXQuanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL2V2ZW50cy9nbG9iYWxDYWxsYmFjay5qcyIsIm5vZGVfbW9kdWxlcy90cmlja3MvZXZlbnRzL29uLmpzIiwibm9kZV9tb2R1bGVzL3RyaWNrcy9vYmplY3QvYXJncy5qcyIsIm5vZGVfbW9kdWxlcy90cmlja3Mvb2JqZWN0L2Nsb25lLmpzIiwibm9kZV9tb2R1bGVzL3RyaWNrcy9vYmplY3QvZGlmZktleS5qcyIsIm5vZGVfbW9kdWxlcy90cmlja3Mvb2JqZWN0L2V4dGVuZC5qcyIsIm5vZGVfbW9kdWxlcy90cmlja3Mvb2JqZWN0L2luc3RhbmNlT2YuanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL29iamVjdC9pc0JpbmFyeS5qcyIsIm5vZGVfbW9kdWxlcy90cmlja3Mvb2JqZWN0L2lzRW1wdHkuanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL29iamVjdC9tZXJnZS5qcyIsIm5vZGVfbW9kdWxlcy90cmlja3Mvb2JqZWN0L3B1YnN1Yi5qcyIsIm5vZGVfbW9kdWxlcy90cmlja3Mvb2JqZWN0L3Jld2lyZS5qcyIsIm5vZGVfbW9kdWxlcy90cmlja3Mvb2JqZWN0L3RyeUNhdGNoLmpzIiwibm9kZV9tb2R1bGVzL3RyaWNrcy9zdHJpbmcvY3JlYXRlVXJsLmpzIiwibm9kZV9tb2R1bGVzL3RyaWNrcy9zdHJpbmcvZXh0cmFjdC5qcyIsIm5vZGVfbW9kdWxlcy90cmlja3Mvc3RyaW5nL2pzb25QYXJzZS5qcyIsIm5vZGVfbW9kdWxlcy90cmlja3Mvc3RyaW5nL3BhcmFtLmpzIiwibm9kZV9tb2R1bGVzL3RyaWNrcy9zdHJpbmcvcXVlcnlwYXJzZS5qcyIsIm5vZGVfbW9kdWxlcy90cmlja3Mvc3RyaW5nL3F1ZXJ5c3RyaW5naWZ5LmpzIiwibm9kZV9tb2R1bGVzL3RyaWNrcy9zdHJpbmcvcmFuZG9tLmpzIiwibm9kZV9tb2R1bGVzL3RyaWNrcy9zdXBwb3J0L2NvcnMuanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL3RpbWUvc2V0SW1tZWRpYXRlLmpzIiwibm9kZV9tb2R1bGVzL3RyaWNrcy93aW5kb3cvY2xvc2UuanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL3dpbmRvdy9wb3B1cC5qcyIsIm5vZGVfbW9kdWxlcy90cmlja3Mvd2luZG93L3VybC5qcyIsInNyYy9oZWxsby5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsT0FBTyxPQUFQLEdBQWlCLFVBQUMsQ0FBRCxFQUFJLENBQUo7QUFBQSxTQUFVLEVBQUUsTUFBRixDQUFTO0FBQUEsV0FBUSxFQUFFLE9BQUYsQ0FBVSxJQUFWLE1BQW9CLENBQUMsQ0FBN0I7QUFBQSxHQUFULENBQVY7QUFBQSxDQUFqQjs7Ozs7QUNBQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLE9BQVAsR0FBaUIsVUFBQyxHQUFELEVBQU0sUUFBTixFQUFtQztBQUFBLEtBQW5CLE9BQW1CLHVFQUFULElBQVM7O0FBQ25ELE1BQUssSUFBSSxJQUFJLENBQWIsRUFBZ0IsSUFBSSxJQUFJLE1BQXhCLEVBQWdDLEdBQWhDLEVBQXFDO0FBQ3BDLE1BQU0sUUFBUSxTQUFTLElBQVQsQ0FBYyxPQUFkLEVBQXVCLElBQUksQ0FBSixDQUF2QixDQUFkO0FBQ0EsTUFBSSxVQUFVLFNBQWQsRUFBeUI7QUFDeEIsVUFBTyxVQUFVLElBQVYsR0FBaUIsSUFBSSxDQUFKLENBQWpCLEdBQTBCLEtBQWpDO0FBQ0E7QUFDRDtBQUNELENBUEQ7Ozs7O0FDSEEsT0FBTyxPQUFQLEdBQWlCO0FBQUEsU0FBTyxNQUFNLFNBQU4sQ0FBZ0IsS0FBaEIsQ0FBc0IsSUFBdEIsQ0FBMkIsR0FBM0IsQ0FBUDtBQUFBLENBQWpCOzs7OztBQ0FBLE9BQU8sT0FBUCxHQUFpQixhQUFLO0FBQ3JCLEtBQUksQ0FBQyxNQUFNLE9BQU4sQ0FBYyxDQUFkLENBQUwsRUFBdUI7QUFDdEIsU0FBTyxFQUFQO0FBQ0E7O0FB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QU8sRUFBQSxBQUFFLE9BQU8sS0FBQSxBQUFLLE9BQWpDLEFBQXdDLEFBQ3hDO0FBRUQ7O0FBSkE7YUFLSyxBQUNKO2VBQUEsQUFBSyxPQUFMLEFBQVksY0FBYyxFQUExQixBQUE0QixBQUM1QjtBQUNEO0FBRUQ7O0FBQ0E7QUFDQTtXQUFJLENBQUEsQUFBQyxRQUFRLFdBQWIsQUFBd0IsTUFBTSxBQUM3QjtjQUFBLEFBQU0sQUFDTjtBQUZELGNBR0ssQUFDSjtlQUFBLEFBQU8sQUFDUDtBQUNEO0FBakdGLEFBQVUsQUFtR1Y7O0FBQ0E7Y0FBQSxBQUFRLEtBQUssRUFBYixBQUFlLFVBQVUsRUFyVGQsQUFxVFgsQUFBMkI7O3dDQXJUaEIsQUF1VEo7O1VBdlRJO1VBQUE7dUJBQUE7O0FBQUE7ZUFBQTtBQUFaOztvQkFBQTswQkFBQTtBQUFBOzs7QUEyVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQUEsQUFBTSxNQUFOLEFBQVksZ0JBQVosQUFBNEIsUUFBUSxPQUFBLEFBQU8sVUFBVSxPQUFyRCxBQUE0RDs7QUFFNUQsT0FBQSxBQUFPLFVBQVAsQUFBaUIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwibW9kdWxlLmV4cG9ydHMgPSAoYSwgYikgPT4gYi5maWx0ZXIoaXRlbSA9PiBhLmluZGV4T2YoaXRlbSkgPT09IC0xKTtcbiIsIi8vIEFycmF5IGZpbmRcbi8vIFJldHVybnMgdGhlIGZpcnN0IG5vbiB1bmRlZmluZWQgcmVzcG9uc2Vcbi8vIElmIHRoZSByZXNwb25zZSBpcyAoQm9vbGVhbikgVHJ1ZSwgdGhlbiB0aGUgdmFsdWUgb2YgdGhhdCBhcnJheSBpdGVtIGlzIHJldHVybmVkIGluc3RlYWQuLi5cbm1vZHVsZS5leHBvcnRzID0gKGFyciwgY2FsbGJhY2ssIHRoaXNBcmcgPSBudWxsKSA9PiB7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y29uc3QgdmFsdWUgPSBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIGFycltpXSk7XG5cdFx0aWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiB2YWx1ZSA9PT0gdHJ1ZSA/IGFycltpXSA6IHZhbHVlO1xuXHRcdH1cblx0fVxufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gb2JqID0+IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG9iaik7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGEgPT4ge1xuXHRpZiAoIUFycmF5LmlzQXJyYXkoYSkpIHtcblx0XHRyZXR1cm4gW107XG5cdH1cblxuXHQvLyBJcyB0aGlzIHRoZSBmaXJzdCBsb2NhdGlvbiBvZiBpdGVtXG5cdHJldHVybiBhLmZpbHRlcigoaXRlbSwgaW5kZXgpID0+IGEuaW5kZXhPZihpdGVtKSA9PT0gaW5kZXgpO1xufTtcbiIsImNvbnN0IGpzb25QYXJzZSA9IHJlcXVpcmUoJy4uLy4uL3N0cmluZy9qc29uUGFyc2UuanMnKTtcbmNvbnN0IGV4dGVuZCA9IHJlcXVpcmUoJy4uLy4uL29iamVjdC9leHRlbmQuanMnKTtcblxuLy8gUmV0dXJuIGhhbmRsZXJcbm1vZHVsZS5leHBvcnRzID0gU3RvcmFnZTtcblxuZnVuY3Rpb24gU3RvcmFnZShtZXRob2QpIHtcblxuXHR0aGlzLm5hdGl2ZSA9IG1ldGhvZDtcblxuXHRyZXR1cm4gZXh0ZW5kKHRoaXMuYXBpLmJpbmQodGhpcyksIHRoaXMpO1xufVxuXG5TdG9yYWdlLnByb3RvdHlwZS5hcGkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuXHQvLyByZWN1cnNpdmVcblx0aWYgKHR5cGVvZiBuYW1lID09PSAnb2JqZWN0Jykge1xuXHRcdGZvciAoY29uc3QgeCBpbiBuYW1lKSB7XG5cdFx0XHR0aGlzLmFwaSh4LCBuYW1lW3hdKTtcblx0XHR9XG5cdH1cblxuXHQvLyBMb2NhbCBzdG9yYWdlXG5cdGVsc2UgaWYgKCFuYW1lKSB7XG5cdFx0dGhyb3cgJ2FnZW50L3N0b3JlIG11c3QgaGF2ZSBhIHZhbGlkIG5hbWUnO1xuXHR9XG5cdGVsc2UgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRJdGVtKG5hbWUpO1xuXHR9XG5cdGVsc2UgaWYgKHZhbHVlID09PSBudWxsKSB7XG5cdFx0dGhpcy5yZW1vdmVJdGVtKG5hbWUpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdHRoaXMuc2V0SXRlbShuYW1lLCB2YWx1ZSk7XG5cdH1cbn07XG5cblN0b3JhZ2UucHJvdG90eXBlLmdldEl0ZW0gPSBmdW5jdGlvbihuYW1lKSB7XG5cdHJldHVybiBqc29uUGFyc2UodGhpcy5uYXRpdmUuZ2V0SXRlbShuYW1lKSk7XG59O1xuXG5TdG9yYWdlLnByb3RvdHlwZS5zZXRJdGVtID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcblx0dGhpcy5uYXRpdmUuc2V0SXRlbShuYW1lLCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xufTtcblxuU3RvcmFnZS5wcm90b3R5cGUucmVtb3ZlSXRlbSA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0dGhpcy5uYXRpdmUucmVtb3ZlSXRlbShuYW1lKTtcbn07XG4iLCIvLyBQcm92aWRlIGFuIEFQSSBmb3Igc2V0dGluZyBhbmQgcmV0cmlldmluZyBjb29raWVzXG5jb25zdCBhcnJheUZpbmQgPSByZXF1aXJlKCcuLi8uLi9hcnJheS9maW5kLmpzJyk7XG5jb25zdCBTdG9yYWdlID0gcmVxdWlyZSgnLi9TdG9yYWdlLmpzJyk7XG5cbi8vIEVtdWxhdGUgbG9jYWxTdG9yYWdlIHVzaW5nIGNvb2tpZXNcbm1vZHVsZS5leHBvcnRzID0gbmV3IFN0b3JhZ2Uoe1xuXHRnZXRJdGVtOiBuYW1lID0+IHtcblx0XHRjb25zdCBrZXkgPSBgJHtuYW1lIH09YDtcblx0XHRjb25zdCBtID0gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7Jyk7XG5cdFx0cmV0dXJuIGFycmF5RmluZChtLCBpdGVtID0+IHtcblx0XHRcdGl0ZW0gPSBpdGVtLnJlcGxhY2UoLyheXFxzK3xcXHMrJCkvLCAnJyk7XG5cdFx0XHRpZiAoaXRlbSAmJiBpdGVtLmluZGV4T2Yoa2V5KSA9PT0gMCkge1xuXHRcdFx0XHRyZXR1cm4gaXRlbS5zdWJzdHIoa2V5Lmxlbmd0aCk7XG5cdFx0XHR9XG5cdFx0fSkgfHwgbnVsbDtcblxuXHR9LFxuXG5cdHNldEl0ZW06IChuYW1lLCB2YWx1ZSkgPT4ge1xuXHRcdGRvY3VtZW50LmNvb2tpZSA9IGAke25hbWUgfT0keyB2YWx1ZX1gO1xuXHR9LFxuXG5cdHJlbW92ZUl0ZW06IG5hbWUgPT4ge1xuXHRcdGRvY3VtZW50LmNvb2tpZSA9IGAke25hbWUgfT07IGV4cGlyZXM9VGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMSBHTVQ7YDtcblx0fVxufSk7XG4iLCIvLyBzZXNzaW9uU3RvcmFnZVxuLy8gU2hpbW1lZCB1cCBzZXNzaW9uU3RvcmFnZVxuXG5jb25zdCBzZXNzaW9uU3RvcmFnZSA9IHJlcXVpcmUoJy4vc2Vzc2lvblN0b3JhZ2UuanMnKTtcbmNvbnN0IFN0b3JhZ2UgPSByZXF1aXJlKCcuL1N0b3JhZ2UuanMnKTtcblxuLy8gVGVzdCB0aGUgZW52aXJvbm1lbnRcbnRyeSB7XG5cdGNvbnN0IHRlbXAgPSAnX190cmlja3NfdGVtcF9fJztcblx0Ly8gSW4gQ2hyb21lIHdpdGggY29va2llcyBibG9ja2VkLCBjYWxsaW5nIGxvY2FsU3RvcmFnZSB0aHJvd3MgYW4gZXJyb3Jcblx0Y29uc3Qgc3RvcmFnZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2U7XG5cdHN0b3JhZ2Uuc2V0SXRlbSh0ZW1wLCAxKTtcblx0c3RvcmFnZS5yZW1vdmVJdGVtKHRlbXApO1xuXHRtb2R1bGUuZXhwb3J0cyA9IG5ldyBTdG9yYWdlKHN0b3JhZ2UpO1xuXG59XG5jYXRjaCAoZSkge1xuXHRtb2R1bGUuZXhwb3J0cyA9IHNlc3Npb25TdG9yYWdlO1xufVxuIiwiLy8gc2Vzc2lvblN0b3JhZ2Vcbi8vIFNoaW1tZWQgdXAgc2Vzc2lvblN0b3JhZ2VcblxuY29uc3QgY29va2llU3RvcmFnZSA9IHJlcXVpcmUoJy4vY29va2llU3RvcmFnZS5qcycpO1xuY29uc3QgU3RvcmFnZSA9IHJlcXVpcmUoJy4vU3RvcmFnZS5qcycpO1xuXG4vLyBUZXN0IHRoZSBlbnZpcm9ubWVudFxudHJ5IHtcblx0Y29uc3QgdGVtcCA9ICdfX3RyaWNrc190ZW1wX18nO1xuXHQvLyBJbiBDaHJvbWUgd2l0aCBjb29raWVzIGJsb2NrZWQsIGNhbGxpbmcgbG9jYWxTdG9yYWdlIHRocm93cyBhbiBlcnJvclxuXHRjb25zdCBzdG9yYWdlID0gd2luZG93LnNlc3Npb25TdG9yYWdlO1xuXHRzdG9yYWdlLnNldEl0ZW0odGVtcCwgMSk7XG5cdHN0b3JhZ2UucmVtb3ZlSXRlbSh0ZW1wKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBuZXcgU3RvcmFnZShzdG9yYWdlKTtcblxufVxuY2F0Y2ggKGUpIHtcblx0bW9kdWxlLmV4cG9ydHMgPSBjb29raWVTdG9yYWdlO1xufVxuIiwiLy8gUG9zdFxuLy8gU2VuZCBpbmZvcm1hdGlvbiB0byBhIHJlbW90ZSBsb2NhdGlvbiB1c2luZyB0aGUgcG9zdCBtZWNoYW5pc21cbi8vIEBwYXJhbSBzdHJpbmcgdXJpIHBhdGhcbi8vIEBwYXJhbSBvYmplY3QgZGF0YSwga2V5IHZhbHVlIGRhdGEgdG8gc2VuZFxuLy8gQHBhcmFtIGZ1bmN0aW9uIGNhbGxiYWNrLCBmdW5jdGlvbiB0byBleGVjdXRlIGluIHJlc3BvbnNlXG5cbmNvbnN0IGFwcGVuZCA9IHJlcXVpcmUoJy4uLy4uL2RvbS9hcHBlbmQuanMnKTtcbmNvbnN0IGF0dHIgPSByZXF1aXJlKCcuLi8uLi9kb20vYXR0ci5qcycpO1xuY29uc3QgZG9tSW5zdGFuY2UgPSByZXF1aXJlKCcuLi8uLi9kb20vZG9tSW5zdGFuY2UuanMnKTtcbmNvbnN0IGNyZWF0ZUVsZW1lbnQgPSByZXF1aXJlKCcuLi8uLi9kb20vY3JlYXRlRWxlbWVudC5qcycpO1xuY29uc3QgZ2xvYmFsQ2FsbGJhY2sgPSByZXF1aXJlKCcuLi8uLi9ldmVudHMvZ2xvYmFsQ2FsbGJhY2suanMnKTtcbmNvbnN0IHRvQXJyYXkgPSByZXF1aXJlKCcuLi8uLi9hcnJheS90b0FycmF5LmpzJyk7XG5jb25zdCBpbnN0YW5jZU9mID0gcmVxdWlyZSgnLi4vLi4vb2JqZWN0L2luc3RhbmNlT2YuanMnKTtcbmNvbnN0IG9uID0gcmVxdWlyZSgnLi4vLi4vZXZlbnRzL29uLmpzJyk7XG5jb25zdCBlbWl0ID0gcmVxdWlyZSgnLi4vLi4vZXZlbnRzL2VtaXQuanMnKTtcbmNvbnN0IHNldEltbWVkaWF0ZSA9IHJlcXVpcmUoJy4uLy4uL3RpbWUvc2V0SW1tZWRpYXRlLmpzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKHVybCwgZGF0YSwgb3B0aW9ucywgY2FsbGJhY2ssIGNhbGxiYWNrX25hbWUsIHRpbWVvdXQgPSA2MDAwMCkgPT4ge1xuXG5cdGxldCB0aW1lcjtcblx0bGV0IGJvb2wgPSAwO1xuXHRjb25zdCBjYiA9IHIgPT4ge1xuXHRcdGlmICghKGJvb2wrKykpIHtcblx0XHRcdGlmICh0aW1lcikge1xuXHRcdFx0XHRjbGVhclRpbWVvdXQodGltZXIpO1xuXHRcdFx0XHR0aW1lciA9IG51bGw7XG5cdFx0XHR9XG5cdFx0XHRjYWxsYmFjayhyKTtcblxuXHRcdFx0Ly8gVHJpZ2dlciBvbnN1Ym1pdCBvbiB0aGUgZm9ybS5cblx0XHRcdC8vIFR5cGljYWxseSB0aGlzIGlzbid0IGFjdGl2YXRlZCB1bnRpbCBhZnRlcndhcmRzXG5cdFx0XHRlbWl0KGZvcm0sICdzdWJtaXQnKTtcblxuXHRcdFx0Ly8gVGhlIHNldEltbWVkaWF0ZSBmaXhlcyB0aGUgdGVzdCBydW5uZXIgaW4gcGhhbnRvbWpzXG5cdFx0XHRzZXRJbW1lZGlhdGUoKCkgPT4gZnJhbWUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChmcmFtZSkpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xuXG5cdC8vIFdoYXQgaXMgdGhlIG5hbWUgb2YgdGhlIGNhbGxiYWNrIHRvIGNvbnRhaW5cblx0Ly8gV2UnbGwgYWxzbyB1c2UgdGhpcyB0byBuYW1lIHRoZSBpZnJhbWVcblx0Y2FsbGJhY2tfbmFtZSA9IGdsb2JhbENhbGxiYWNrKGNiLCBjYWxsYmFja19uYW1lKTtcblxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0Ly8gQ3JlYXRlIHRoZSBGUkFNRVxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuXHRjb25zdCBmcmFtZSA9IGNyZWF0ZUZyYW1lKGNhbGxiYWNrX25hbWUpO1xuXG5cdC8vIE92ZXJyaWRlIGNhbGxiYWNrIG1lY2hhbmlzbS4gVHJpZ2dnZXIgYSByZXNwb25zZSBvbmxvYWQvb25lcnJvclxuXHRpZiAob3B0aW9ucyAmJiBvcHRpb25zLmNhbGxiYWNrb25sb2FkKSB7XG5cblx0XHQvLyBPbmxvYWQgaXMgYmVpbmcgZmlyZWQgdHdpY2Vcblx0XHRmcmFtZS5vbmxvYWQgPSBjYi5iaW5kKG51bGwsIHtcblx0XHRcdHJlc3BvbnNlOiAncG9zdGVkJyxcblx0XHRcdG1lc3NhZ2U6ICdDb250ZW50IHdhcyBwb3N0ZWQnXG5cdFx0fSk7XG5cdH1cblxuXG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHQvLyBTZXQgYSB0aW1lb3V0XG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cdGlmICh0aW1lb3V0KSB7XG5cdFx0dGltZXIgPSBzZXRUaW1lb3V0KGNiLmJpbmQobnVsbCwgbmV3IEVycm9yKCd0aW1lb3V0JykpLCB0aW1lb3V0KTtcblx0fVxuXG5cblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdC8vIENyZWF0ZSBhIGZvcm1cblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblx0Y29uc3QgZm9ybSA9IGNyZWF0ZUZvcm1Gcm9tRGF0YShkYXRhKTtcblxuXHQvLyBUaGUgVVJMIGlzIGEgZnVuY3Rpb24gZm9yIHNvbWUgY2FzZXMgYW5kIGFzIHN1Y2hcblx0Ly8gRGV0ZXJtaW5lIGl0cyB2YWx1ZSB3aXRoIGEgY2FsbGJhY2sgY29udGFpbmluZyB0aGUgbmV3IHBhcmFtZXRlcnMgb2YgdGhpcyBmdW5jdGlvbi5cblx0dXJsID0gdXJsLnJlcGxhY2UobmV3IFJlZ0V4cCgnPVxcXFw/KCZ8JCknKSwgYD0keyBjYWxsYmFja19uYW1lIH0kMWApO1xuXG5cdC8vIFNldCB0aGUgdGFyZ2V0IG9mIHRoZSBmb3JtXG5cdGF0dHIoZm9ybSwge1xuXHRcdG1ldGhvZDogJ1BPU1QnLFxuXHRcdHRhcmdldDogY2FsbGJhY2tfbmFtZSxcblx0XHRhY3Rpb246IHVybFxuXHR9KTtcblxuXHRmb3JtLnRhcmdldCA9IGNhbGxiYWNrX25hbWU7XG5cblx0Ly8gU3VibWl0IHRoZSBmb3JtXG5cdC8vIFNvbWUgcmVhc29uIHRoaXMgbmVlZHMgdG8gYmUgb2Zmc2V0IGZyb20gdGhlIGN1cnJlbnQgd2luZG93IGV4ZWN1dGlvblxuXHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRmb3JtLnN1Ym1pdCgpO1xuXHR9LCAxMDApO1xufTtcblxuXG5mdW5jdGlvbiBjcmVhdGVGcmFtZShjYWxsYmFja19uYW1lKSB7XG5cdGxldCBmcmFtZTtcblxuXHR0cnkge1xuXHRcdC8vIElFNyBoYWNrLCBvbmx5IGxldHMgdXMgZGVmaW5lIHRoZSBuYW1lIGhlcmUsIG5vdCBsYXRlci5cblx0XHRmcmFtZSA9IGNyZWF0ZUVsZW1lbnQoYDxpZnJhbWUgbmFtZT1cIiR7IGNhbGxiYWNrX25hbWUgfVwiPmApO1xuXHR9XG5cdGNhdGNoIChlKSB7XG5cdFx0ZnJhbWUgPSBjcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcblx0fVxuXG5cdC8vIEF0dGFjaCB0aGUgZnJhbWUgd2l0aCB0aGUgZm9sbG93aW5nIGF0dHJpYnV0ZXMgdG8gdGhlIGRvY3VtZW50IGJvZHkuXG5cdGF0dHIoZnJhbWUsIHtcblx0XHRuYW1lOiBjYWxsYmFja19uYW1lLFxuXHRcdGlkOiBjYWxsYmFja19uYW1lLFxuXHRcdHN0eWxlOiAnZGlzcGxheTpub25lOydcblx0fSk7XG5cblx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmcmFtZSk7XG5cblx0cmV0dXJuIGZyYW1lO1xufVxuXG5cbmZ1bmN0aW9uIGNyZWF0ZUZvcm1Gcm9tRGF0YShkYXRhKSB7XG5cblx0Ly8gVGhpcyBoYWNrIG5lZWRzIGEgZm9ybVxuXHRsZXQgZm9ybSA9IG51bGw7XG5cdGNvbnN0IHJlZW5hYmxlQWZ0ZXJTdWJtaXQgPSBbXTtcblx0bGV0IGkgPSAwO1xuXHRsZXQgeCA9IG51bGw7XG5cblxuXHQvLyBJZiB3ZSBhcmUganVzdCBwb3N0aW5nIGEgc2luZ2xlIGl0ZW1cblx0aWYgKGRvbUluc3RhbmNlKCdpbnB1dCcsIGRhdGEpKSB7XG5cdFx0Ly8gR2V0IHRoZSBwYXJlbnQgZm9ybVxuXHRcdGZvcm0gPSBkYXRhLmZvcm07XG5cblx0XHQvLyBMb29wIHRocm91Z2ggYW5kIGRpc2FibGUgYWxsIG9mIGl0cyBzaWJsaW5nc1xuXHRcdHRvQXJyYXkoZm9ybS5lbGVtZW50cykuZm9yRWFjaChpbnB1dCA9PiB7XG5cdFx0XHRpZiAoaW5wdXQgIT09IGRhdGEpIHtcblx0XHRcdFx0aW5wdXQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gTW92ZSB0aGUgZm9jdXMgdG8gdGhlIGZvcm1cblx0XHRkYXRhID0gZm9ybTtcblx0fVxuXG5cdC8vIFBvc3RpbmcgYSBmb3JtXG5cdGlmIChkb21JbnN0YW5jZSgnZm9ybScsIGRhdGEpKSB7XG5cdFx0Ly8gVGhpcyBpcyBhIGZvcm0gZWxlbWVudFxuXHRcdGZvcm0gPSBkYXRhO1xuXG5cdFx0Ly8gRG9lcyB0aGlzIGZvcm0gbmVlZCB0byBiZSBhIG11bHRpcGFydCBmb3JtP1xuXHRcdHRvQXJyYXkoZm9ybS5lbGVtZW50cykuZm9yRWFjaChpbnB1dCA9PiB7XG5cdFx0XHRpZiAoIWlucHV0LmRpc2FibGVkICYmIGlucHV0LnR5cGUgPT09ICdmaWxlJykge1xuXHRcdFx0XHRmb3JtLmVuY29kaW5nID0gZm9ybS5lbmN0eXBlID0gJ211bHRpcGFydC9mb3JtLWRhdGEnO1xuXHRcdFx0XHRpbnB1dC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCAnZmlsZScpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cdGVsc2Uge1xuXHRcdC8vIEl0cyBub3QgYSBmb3JtIGVsZW1lbnQsXG5cdFx0Ly8gVGhlcmVmb3JlIGl0IG11c3QgYmUgYSBKU09OIG9iamVjdCBvZiBLZXk9PlZhbHVlIG9yIEtleT0+RWxlbWVudFxuXHRcdC8vIElmIGFueW9uZSBvZiB0aG9zZSB2YWx1ZXMgYXJlIGEgaW5wdXQgdHlwZT1maWxlIHdlIHNoYWxsIHNoYWxsIGluc2VydCBpdHMgc2libGluZ3MgaW50byB0aGUgZm9ybSBmb3Igd2hpY2ggaXQgYmVsb25ncy5cblx0XHRmb3IgKHggaW4gZGF0YSkgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoeCkpIHtcblx0XHRcdC8vIElzIHRoaXMgYW4gaW5wdXQgRWxlbWVudD9cblx0XHRcdGlmIChkb21JbnN0YW5jZSgnaW5wdXQnLCBkYXRhW3hdKSAmJiBkYXRhW3hdLnR5cGUgPT09ICdmaWxlJykge1xuXHRcdFx0XHRmb3JtID0gZGF0YVt4XS5mb3JtO1xuXHRcdFx0XHRmb3JtLmVuY29kaW5nID0gZm9ybS5lbmN0eXBlID0gJ211bHRpcGFydC9mb3JtLWRhdGEnO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIERvIElmIHRoZXJlIGlzIG5vIGRlZmluZWQgZm9ybSBlbGVtZW50LCBsZXRzIGNyZWF0ZSBvbmUuXG5cdFx0aWYgKCFmb3JtKSB7XG5cdFx0XHQvLyBCdWlsZCBmb3JtXG5cdFx0XHRmb3JtID0gYXBwZW5kKCdmb3JtJyk7XG5cblx0XHRcdC8vIEJpbmQgdGhlIHJlbW92YWwgb2YgdGhlIGZvcm1cblx0XHRcdG9uKGZvcm0sICdzdWJtaXQnLCAoKSA9PiB7XG5cdFx0XHRcdHNldEltbWVkaWF0ZSgoKSA9PiB7XG5cdFx0XHRcdFx0Zm9ybS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGZvcm0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdC8vIEJpbmQgdGhlIGNsZWFuIHVwIG9mIHRoZSBleGlzdGluZyBmb3JtLlxuXHRcdFx0b24oZm9ybSwgJ3N1Ym1pdCcsICgpID0+IHtcblx0XHRcdFx0c2V0SW1tZWRpYXRlKCgpID0+IHtcblx0XHRcdFx0XHRyZWVuYWJsZUFmdGVyU3VibWl0LmZvckVhY2goaW5wdXQgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKGlucHV0KSB7XG5cdFx0XHRcdFx0XHRcdGlucHV0LnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCBmYWxzZSk7XG5cdFx0XHRcdFx0XHRcdGlucHV0LmRpc2FibGVkID0gZmFsc2U7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHQvLyBSZXNldCwgaW5jYXNlIHRoaXMgaXMgY2FsbGVkIGFnYWluLlxuXHRcdFx0XHRcdHJlZW5hYmxlQWZ0ZXJTdWJtaXQubGVuZ3RoID0gMDtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRsZXQgaW5wdXQ7XG5cblx0XHQvLyBBZGQgZWxlbWVudHMgdG8gdGhlIGZvcm0gaWYgdGhleSBkb250IGV4aXN0XG5cdFx0Zm9yICh4IGluIGRhdGEpIGlmIChkYXRhLmhhc093blByb3BlcnR5KHgpKSB7XG5cblx0XHRcdC8vIElzIHRoaXMgYW4gZWxlbWVudD9cblx0XHRcdGNvbnN0IGVsID0gKGRvbUluc3RhbmNlKCdpbnB1dCcsIGRhdGFbeF0pIHx8IGRvbUluc3RhbmNlKCd0ZXh0QXJlYScsIGRhdGFbeF0pIHx8IGRvbUluc3RhbmNlKCdzZWxlY3QnLCBkYXRhW3hdKSk7XG5cblx0XHRcdC8vIElzIHRoaXMgbm90IGFuIGlucHV0IGVsZW1lbnQsIG9yIG9uZSB0aGF0IGV4aXN0cyBvdXRzaWRlIHRoZSBmb3JtLlxuXHRcdFx0aWYgKCFlbCB8fCBkYXRhW3hdLmZvcm0gIT09IGZvcm0pIHtcblxuXHRcdFx0XHQvLyBEb2VzIGFuIGVsZW1lbnQgaGF2ZSB0aGUgc2FtZSBuYW1lP1xuXHRcdFx0XHRsZXQgaW5wdXRzID0gZm9ybS5lbGVtZW50c1t4XTtcblx0XHRcdFx0aWYgKGlucHV0KSB7XG5cdFx0XHRcdFx0Ly8gUmVtb3ZlIGl0LlxuXHRcdFx0XHRcdGlmICghaW5zdGFuY2VPZihpbnB1dHMsIHdpbmRvdy5Ob2RlTGlzdCkpIHtcblx0XHRcdFx0XHRcdGlucHV0cyA9IFtpbnB1dHNdO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBpbnB1dHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdGlucHV0c1tpXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGlucHV0c1tpXSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBDcmVhdGUgYW4gaW5wdXQgZWxlbWVudFxuXHRcdFx0XHRpbnB1dCA9IGFwcGVuZCgnaW5wdXQnLCB7XG5cdFx0XHRcdFx0dHlwZTogJ2hpZGRlbicsXG5cdFx0XHRcdFx0bmFtZTogeFxuXHRcdFx0XHR9LCBmb3JtKTtcblxuXHRcdFx0XHQvLyBEb2VzIGl0IGhhdmUgYSB2YWx1ZSBhdHRyaWJ1dGU/XG5cdFx0XHRcdGlmIChlbCkge1xuXHRcdFx0XHRcdGlucHV0LnZhbHVlID0gZGF0YVt4XS52YWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIGlmIChkb21JbnN0YW5jZShudWxsLCBkYXRhW3hdKSkge1xuXHRcdFx0XHRcdGlucHV0LnZhbHVlID0gZGF0YVt4XS5pbm5lckhUTUwgfHwgZGF0YVt4XS5pbm5lclRleHQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0aW5wdXQudmFsdWUgPSBkYXRhW3hdO1xuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdFx0Ly8gSXQgaXMgYW4gZWxlbWVudCwgd2hpY2ggZXhpc3RzIHdpdGhpbiB0aGUgZm9ybSwgYnV0IHRoZSBuYW1lIGlzIHdyb25nXG5cdFx0XHRlbHNlIGlmIChlbCAmJiBkYXRhW3hdLm5hbWUgIT09IHgpIHtcblx0XHRcdFx0ZGF0YVt4XS5zZXRBdHRyaWJ1dGUoJ25hbWUnLCB4KTtcblx0XHRcdFx0ZGF0YVt4XS5uYW1lID0geDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBEaXNhYmxlIGVsZW1lbnRzIGZyb20gd2l0aGluIHRoZSBmb3JtIGlmIHRoZXkgd2VyZW4ndCBzcGVjaWZpZWRcblx0XHR0b0FycmF5KGZvcm0uZWxlbWVudHMpLmZvckVhY2goaW5wdXQgPT4ge1xuXG5cdFx0XHQvLyBEb2VzIHRoZSBzYW1lIG5hbWUgYW5kIHZhbHVlIGV4aXN0IGluIHRoZSBwYXJlbnRcblx0XHRcdGlmICghKGlucHV0Lm5hbWUgaW4gZGF0YSkgJiYgaW5wdXQuZ2V0QXR0cmlidXRlKCdkaXNhYmxlZCcpICE9PSB0cnVlKSB7XG5cdFx0XHRcdC8vIERpc2FibGVcblx0XHRcdFx0aW5wdXQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xuXG5cdFx0XHRcdC8vIEFkZCByZS1lbmFibGUgdG8gY2FsbGJhY2tcblx0XHRcdFx0cmVlbmFibGVBZnRlclN1Ym1pdC5wdXNoKGlucHV0KTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdHJldHVybiBmb3JtO1xufVxuIiwiY29uc3QgY3JlYXRlRWxlbWVudCA9IHJlcXVpcmUoJy4uLy4uL2RvbS9jcmVhdGVFbGVtZW50LmpzJyk7XG5jb25zdCBjcmVhdGVFdmVudCA9IHJlcXVpcmUoJy4uLy4uL2V2ZW50cy9jcmVhdGVFdmVudC5qcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICh1cmwsIGNhbGxiYWNrLCB0aW1lb3V0ID0gMCkgPT4ge1xuXG5cdC8vIEluamVjdCBhIHNjcmlwdCB0YWdcblx0bGV0IGJvb2wgPSAwO1xuXHRsZXQgdGltZXI7XG5cdGNvbnN0IGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF0ucGFyZW50Tm9kZTtcblx0Y29uc3QgY2IgPSBlID0+IHtcblx0XHRpZiAoIShib29sKyspICYmIGNhbGxiYWNrKSB7XG5cdFx0XHRjYWxsYmFjayhlKTtcblx0XHR9XG5cdFx0aWYgKHRpbWVyKSB7XG5cdFx0XHRjbGVhclRpbWVvdXQodGltZXIpO1xuXHRcdH1cblx0fTtcblxuXHQvLyBBZGQgdGltZW91dFxuXHRpZiAodGltZW91dCkge1xuXHRcdHRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0Y2IoY3JlYXRlRXZlbnQoJ3RpbWVvdXQnKSk7XG5cdFx0fSwgdGltZW91dCk7XG5cdH1cblxuXHQvLyBCdWlsZCBzY3JpcHQgdGFnXG5cdGNvbnN0IHNjcmlwdCA9IGNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcsIHtcblx0XHRzcmM6IHVybCxcblx0XHRvbmVycm9yOiBjYixcblx0XHRvbmxvYWQ6IGNiLFxuXHRcdG9ucmVhZHlzdGF0ZWNoYW5nZTogKCkgPT4ge1xuXHRcdFx0aWYgKC9sb2FkZWR8Y29tcGxldGUvaS50ZXN0KHNjcmlwdC5yZWFkeVN0YXRlKSkge1xuXHRcdFx0XHRjYihjcmVhdGVFdmVudCgnbG9hZCcpKTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXG5cdC8vIFNldCBBc3luY1xuXHRzY3JpcHQuYXN5bmMgPSB0cnVlO1xuXG5cdC8vIEluamVjdCBzY3JpcHQgdGFnIGludG8gdGhlIGhlYWQgZWxlbWVudFxuXHRoZWFkLmluc2VydEJlZm9yZShzY3JpcHQsIGhlYWQuZmlyc3RDaGlsZCk7XG5cblx0cmV0dXJuIHNjcmlwdDtcbn07XG4iLCIvLyBKU09OUFxuY29uc3QgZ2xvYmFsQ2FsbGJhY2sgPSByZXF1aXJlKCcuLi8uLi9ldmVudHMvZ2xvYmFsQ2FsbGJhY2suanMnKTtcbmNvbnN0IGdldFNjcmlwdCA9IHJlcXVpcmUoJy4vZ2V0U2NyaXB0LmpzJyk7XG5cbmNvbnN0IE1BVENIX0NBTExCQUNLX1BMQUNFSE9MREVSID0gLz1cXD8oJnwkKS87XG5cbm1vZHVsZS5leHBvcnRzID0gKHVybCwgY2FsbGJhY2ssIGNhbGxiYWNrX25hbWUsIHRpbWVvdXQgPSA2MDAwMCkgPT4ge1xuXG5cdC8vIENoYW5nZSB0aGUgbmFtZSBvZiB0aGUgY2FsbGJhY2tcblx0bGV0IHJlc3VsdDtcblxuXHQvLyBBZGQgY2FsbGJhY2sgdG8gdGhlIHdpbmRvdyBvYmplY3Rcblx0Y2FsbGJhY2tfbmFtZSA9IGdsb2JhbENhbGxiYWNrKGpzb24gPT4ge1xuXHRcdHJlc3VsdCA9IGpzb247XG5cdFx0cmV0dXJuIHRydWU7IC8vIHRoaXMgZW5zdXJlIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIHJlbW92ZWRcblx0fSwgY2FsbGJhY2tfbmFtZSk7XG5cblx0Ly8gVGhlIFVSTCBpcyBhIGZ1bmN0aW9uIGZvciBzb21lIGNhc2VzIGFuZCBhcyBzdWNoXG5cdC8vIERldGVybWluZSBpdHMgdmFsdWUgd2l0aCBhIGNhbGxiYWNrIGNvbnRhaW5pbmcgdGhlIG5ldyBwYXJhbWV0ZXJzIG9mIHRoaXMgZnVuY3Rpb24uXG5cdHVybCA9IHVybC5yZXBsYWNlKE1BVENIX0NBTExCQUNLX1BMQUNFSE9MREVSLCBgPSR7IGNhbGxiYWNrX25hbWUgfSQxYCk7XG5cblx0Y29uc3Qgc2NyaXB0ID0gZ2V0U2NyaXB0KHVybCwgKCkgPT4ge1xuXHRcdGNhbGxiYWNrKHJlc3VsdCk7XG5cdFx0c2NyaXB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcblx0fSwgdGltZW91dCk7XG5cblx0cmV0dXJuIHNjcmlwdDtcbn07XG4iLCIvLyBSZXF1ZXN0XG4vLyBNYWtlcyBhbiBSRVNUIHJlcXVlc3QgZ2l2ZW4gYW4gb2JqZWN0IHdoaWNoIGRlc2NyaWJlcyBob3cgKGFrYSwgeGhyLCBqc29ucCwgZm9ybXBvc3QpXG5jb25zdCBqc29ucCA9IHJlcXVpcmUoJy4vanNvbnAuanMnKTtcbmNvbnN0IHhociA9IHJlcXVpcmUoJy4veGhyLmpzJyk7XG5jb25zdCBmb3JtcG9zdCA9IHJlcXVpcmUoJy4vZm9ybXBvc3QuanMnKTtcbmNvbnN0IFN1cHBvcnRDT1JTID0gcmVxdWlyZSgnLi4vLi4vc3VwcG9ydC9jb3JzLmpzJyk7XG5jb25zdCBnbG9iYWxDYWxsYmFjayA9IHJlcXVpcmUoJy4uLy4uL2V2ZW50cy9nbG9iYWxDYWxsYmFjay5qcycpO1xuY29uc3QgY3JlYXRlVXJsID0gcmVxdWlyZSgnLi4vLi4vc3RyaW5nL2NyZWF0ZVVybC5qcycpO1xuY29uc3QgZXh0ZW5kID0gcmVxdWlyZSgnLi4vLi4vb2JqZWN0L2V4dGVuZC5qcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChwLCBjYWxsYmFjaykgPT4ge1xuXG5cdGlmICh0eXBlb2YgcCA9PT0gJ3N0cmluZycpIHtcblx0XHRwID0ge1xuXHRcdFx0dXJsOiBwXG5cdFx0fTtcblx0fVxuXG5cdC8vIFVzZSBpbnRlcmNoYW5nZWFibHlcblx0cC51cmwgPSBwLnVybCB8fCBwLnVyaTtcblxuXHQvLyBTZXQgZGVmYXVsdHNcblx0cC5xdWVyeSA9IHAucXVlcnkgfHwgcC5xcyB8fCB7fTtcblxuXHQvLyBEZWZhdWx0IG1ldGhvZFxuXHRwLm1ldGhvZCA9IChwLm1ldGhvZCB8fCAnZ2V0JykudG9Mb3dlckNhc2UoKTtcblxuXHQvLyBEZWZhdWx0IHByb3h5IHJlc3BvbnNlXG5cdHAucHJveHlIYW5kbGVyID0gcC5wcm94eUhhbmRsZXIgfHwgKChwLCBjYikgPT4ge1xuXHRcdGNiKCk7XG5cdH0pO1xuXG5cdC8vIENPUlNcblx0aWYgKFN1cHBvcnRDT1JTICYmICh0eXBlb2YgKHAueGhyKSA9PT0gJ2Z1bmN0aW9uJyA/IHAueGhyKHAsIHAucXVlcnkpIDogcC54aHIgIT09IGZhbHNlKSkge1xuXG5cdFx0Ly8gUGFzcyB0aGUgc2VsZWN0ZWQgcmVxdWVzdCB0aHJvdWdoIGEgcHJveHlcblx0XHRwLnByb3h5SGFuZGxlcihwLCAoKSA9PiB7XG5cdFx0XHQvLyBUaGUgYWdlbnQgYW5kIHRoZSBwcm92aWRlciBzdXBwb3J0IENPUlNcblx0XHRcdGNvbnN0IHVybCA9IGNyZWF0ZVVybChwLnVybCwgcC5xdWVyeSk7XG5cdFx0XHRjb25zdCB4ID0geGhyKHAubWV0aG9kLCB1cmwsIHAucmVzcG9uc2VUeXBlLCBwLmhlYWRlcnMsIHAuZGF0YSwgY2FsbGJhY2spO1xuXHRcdFx0eC5vbnByb2dyZXNzID0gcC5vbnByb2dyZXNzIHx8IG51bGw7XG5cblx0XHRcdC8vIEZlYXR1cmUgZGV0ZWN0LCBub3QgYXZhaWxhYmxlIG9uIGFsbCBpbXBsZW1lbnRhdGlvbnMgb2YgWE1MSHR0cFJlcXVlc3Rcblx0XHRcdGlmICh4LnVwbG9hZCAmJiBwLm9udXBsb2FkcHJvZ3Jlc3MpIHtcblx0XHRcdFx0eC51cGxvYWQub25wcm9ncmVzcyA9IHAub251cGxvYWRwcm9ncmVzcztcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIEFwcGx5IGEgZ2xvYmFsQ2FsbGJhY2tcblx0cC5jYWxsYmFja0lEID0gcC5xdWVyeS5jYWxsYmFjayA9IGdsb2JhbENhbGxiYWNrKGNhbGxiYWNrKTtcblxuXHQvLyBKU09OUFxuXHRpZiAocC5qc29ucCAhPT0gZmFsc2UpIHtcblxuXHRcdC8vIENhbGwgcC5qc29ucCBoYW5kbGVyXG5cdFx0aWYgKHR5cGVvZiAocC5qc29ucCkgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdC8vIEZvcm1hdCB0aGUgcmVxdWVzdCB2aWEgSlNPTlBcblx0XHRcdHAuanNvbnAocCwgcC5xdWVyeSk7XG5cdFx0fVxuXG5cdFx0Ly8gTGV0cyB1c2UgSlNPTlAgaWYgdGhlIG1ldGhvZCBpcyAnZ2V0J1xuXHRcdGlmIChwLm1ldGhvZCA9PT0gJ2dldCcpIHtcblxuXHRcdFx0cC5wcm94eUhhbmRsZXIocCwgKCkgPT4ge1xuXHRcdFx0XHRjb25zdCB1cmwgPSBjcmVhdGVVcmwocC51cmwsIGV4dGVuZChwLnF1ZXJ5LCBwLmRhdGEgfHwge30pKTtcblx0XHRcdFx0anNvbnAodXJsLCBjYWxsYmFjaywgcC5jYWxsYmFja0lELCBwLnRpbWVvdXQpO1xuXHRcdFx0fSk7XG5cblx0XHRcdHJldHVybjtcblx0XHR9XG5cdH1cblxuXHQvLyBPdGhlcndpc2Ugd2UncmUgb24gdG8gdGhlIG9sZCBzY2hvb2wsIGlmcmFtZSBoYWNrcyBhbmQgSlNPTlBcblx0aWYgKHAuZm9ybSAhPT0gZmFsc2UpIHtcblxuXHRcdC8vIEFkZCBzb21lIGFkZGl0aW9uYWwgcXVlcnkgcGFyYW1ldGVycyB0byB0aGUgVVJMXG5cdFx0Ly8gV2UncmUgcHJldHR5IHN0dWZmZWQgaWYgdGhlIGVuZHBvaW50IGRvZXNuJ3QgbGlrZSB0aGVzZVxuXHRcdHAucXVlcnkucmVkaXJlY3RfdXJpID0gcC5yZWRpcmVjdF91cmk7XG5cdFx0cC5xdWVyeS5zdGF0ZSA9IEpTT04uc3RyaW5naWZ5KHtjYWxsYmFjazogcC5jYWxsYmFja0lEfSk7XG5cdFx0ZGVsZXRlIHAucXVlcnkuY2FsbGJhY2s7XG5cblx0XHRsZXQgb3B0cztcblxuXHRcdGlmICh0eXBlb2YgKHAuZm9ybSkgPT09ICdmdW5jdGlvbicpIHtcblxuXHRcdFx0Ly8gRm9ybWF0IHRoZSByZXF1ZXN0XG5cdFx0XHRvcHRzID0gcC5mb3JtKHAsIHAucXVlcnkpO1xuXHRcdH1cblxuXHRcdGlmIChwLm1ldGhvZCA9PT0gJ3Bvc3QnICYmIG9wdHMgIT09IGZhbHNlKSB7XG5cblx0XHRcdHAucHJveHlIYW5kbGVyKHAsICgpID0+IHtcblx0XHRcdFx0Y29uc3QgdXJsID0gY3JlYXRlVXJsKHAudXJsLCBwLnF1ZXJ5KTtcblx0XHRcdFx0Zm9ybXBvc3QodXJsLCBwLmRhdGEsIG9wdHMsIGNhbGxiYWNrLCBwLmNhbGxiYWNrSUQsIHAudGltZW91dCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0fVxuXG5cdGNhbGxiYWNrKHtlcnJvcjogJ2ludmFsaWRfcmVxdWVzdCd9KTtcbn07XG4iLCIvLyBYSFI6IHVzZXMgQ09SUyB0byBtYWtlIHJlcXVlc3RzXG5jb25zdCBpbnN0YW5jZU9mID0gcmVxdWlyZSgnLi4vLi4vb2JqZWN0L2luc3RhbmNlT2YuanMnKTtcbmNvbnN0IGV4dHJhY3QgPSByZXF1aXJlKCcuLi8uLi9zdHJpbmcvZXh0cmFjdC5qcycpO1xuY29uc3QganNvblBhcnNlID0gcmVxdWlyZSgnLi4vLi4vc3RyaW5nL2pzb25QYXJzZS5qcycpO1xuY29uc3QgdHJ5Q2F0Y2ggPSByZXF1aXJlKCcuLi8uLi9vYmplY3QvdHJ5Q2F0Y2guanMnKTtcbmNvbnN0IHJld2lyZSA9IHJlcXVpcmUoJy4uLy4uL29iamVjdC9yZXdpcmUuanMnKTtcblxuY29uc3QgbWF0Y2hfaGVhZGVycyA9IC8oW2EtejAtOVxcLV0rKTpcXHMqKC4qKTs/L2dpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJld2lyZSh4aHIpO1xuXG5mdW5jdGlvbiB4aHIobWV0aG9kLCB1cmwsIHJlc3BvbnNlVHlwZSwgaGVhZGVycywgZGF0YSwgY2FsbGJhY2spIHtcblxuXHRjb25zdCByID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cblx0Ly8gTWFrZSBpdCBDQVBJVEFMXG5cdG1ldGhvZCA9IG1ldGhvZC50b1VwcGVyQ2FzZSgpO1xuXG5cdC8vIERlZmluZSB0aGUgY2FsbGJhY2sgZnVuY3Rpb25cblx0ci5vbmxvYWQgPSAoKSA9PiB7XG5cdFx0Ly8gUmVzcG9uc2Vcblx0XHRsZXQgcmVzcG9uc2UgPSByLnJlc3BvbnNlO1xuXG5cdFx0Ly8gV2FzIHRoaXMgdGV4dFxuXHRcdGlmICghcmVzcG9uc2UgJiYgKHIucmVzcG9uc2VUeXBlID09PSAnJyB8fCByLnJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnKSkge1xuXHRcdFx0cmVzcG9uc2UgPSByLnJlc3BvbnNlVGV4dDtcblx0XHR9XG5cblx0XHQvLyBJcyB0aGlzIGpzb24/XG5cdFx0aWYgKHR5cGVvZihyZXNwb25zZSkgPT09ICdzdHJpbmcnICYmIHJlc3BvbnNlVHlwZSA9PT0gJ2pzb24nKSB7XG5cblx0XHRcdC8vIFNldCB0aGlzIHRvIHRoZSBqc29uIHJlc3BvbnNlXG5cdFx0XHQvLyBGYWxsYmFjayBpZiB0aGUgYnJvd3NlciBkaWQgbm90IGRlZmluZWQgcmVzcG9uc2VKU09OLi4uXG5cdFx0XHRyZXNwb25zZSA9IHIucmVzcG9uc2VKU09OIHx8IGpzb25QYXJzZShyLnJlc3BvbnNlVGV4dCB8fCByLnJlc3BvbnNlKTtcblx0XHR9XG5cblx0XHRjb25zdCBoZWFkZXJzID0gZXh0cmFjdChyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLCBtYXRjaF9oZWFkZXJzKTtcblx0XHRoZWFkZXJzLnN0YXR1c0NvZGUgPSByLnN0YXR1cztcblxuXHRcdGNhbGxiYWNrKHJlc3BvbnNlLCBoZWFkZXJzKTtcblx0fTtcblxuXHRyLm9uZXJyb3IgPSByLm9ubG9hZDtcblxuXHQvLyBTaG91bGQgd2UgYWRkIHRoZSBxdWVyeSB0byB0aGUgVVJMP1xuXHRpZiAobWV0aG9kID09PSAnR0VUJyB8fCBtZXRob2QgPT09ICdERUxFVEUnKSB7XG5cdFx0ZGF0YSA9IG51bGw7XG5cdH1cblx0ZWxzZSBpZiAoZGF0YSAmJiB0eXBlb2YgKGRhdGEpICE9PSAnc3RyaW5nJyAmJlxuXHRcdCFpbnN0YW5jZU9mKGRhdGEsIHdpbmRvdy5Gb3JtRGF0YSkgJiZcblx0XHQhaW5zdGFuY2VPZihkYXRhLCB3aW5kb3cuRmlsZSkgJiZcblx0XHQhaW5zdGFuY2VPZihkYXRhLCB3aW5kb3cuQmxvYikpXHR7XG5cdFx0Ly8gTG9vcCB0aHJvdWdoIGFuZCBhZGQgZm9ybURhdGFcblx0XHRkYXRhID0gdG9Gb3JtRGF0YShkYXRhKTtcblx0fVxuXG5cdC8vIE9wZW4gdGhlIHBhdGgsIGFzeW5jXG5cdHIub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7XG5cblx0Ly8gU2V0IHJlc3BvbnNlVHlwZSBpZiBzdXBwb3J0ZWRcblx0aWYgKCdyZXNwb25zZVR5cGUnIGluIHIpIHtcblxuXHRcdHRyeUNhdGNoKCgpID0+IHtcblx0XHRcdC8vIFNldHRpbmcgdGhpcyB0byBhbiB1bnN1cHBvcnRlZCB2YWx1ZSBjYW4gcmVzdWx0IGluIGEgXCJTWU5UQVhfRVJSOiBET00gRXhjZXB0aW9uIDEyXCJcblx0XHRcdHIucmVzcG9uc2VUeXBlID0gcmVzcG9uc2VUeXBlO1xuXHRcdH0pO1xuXHR9XG5cdGVsc2UgaWYgKHJlc3BvbnNlVHlwZSA9PT0gJ2Jsb2InKSB7XG5cdFx0ci5vdmVycmlkZU1pbWVUeXBlKCd0ZXh0L3BsYWluOyBjaGFyc2V0PXgtdXNlci1kZWZpbmVkJyk7XG5cdH1cblxuXHQvLyBTZXQgYW55IGJlc3Bva2UgaGVhZGVyc1xuXHRpZiAoaGVhZGVycykge1xuXHRcdGZvciAoY29uc3QgeCBpbiBoZWFkZXJzKSB7XG5cdFx0XHRyLnNldFJlcXVlc3RIZWFkZXIoeCwgaGVhZGVyc1t4XSk7XG5cdFx0fVxuXHR9XG5cblx0ci5zZW5kKGRhdGEpO1xuXG5cdHJldHVybiByO1xufVxuXG5cbmZ1bmN0aW9uIHRvRm9ybURhdGEoZGF0YSkge1xuXHRjb25zdCBmID0gbmV3IEZvcm1EYXRhKCk7XG5cdGZvciAoY29uc3QgeCBpbiBkYXRhKSB7XG5cdFx0aWYgKGRhdGEuaGFzT3duUHJvcGVydHkoeCkpIHtcblx0XHRcdGlmIChpbnN0YW5jZU9mKGRhdGFbeF0sIHdpbmRvdy5IVE1MSW5wdXRFbGVtZW50KSAmJiAnZmlsZXMnIGluIGRhdGFbeF0pIHtcblx0XHRcdFx0aWYgKGRhdGFbeF0uZmlsZXMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdGYuYXBwZW5kKHgsIGRhdGFbeF0uZmlsZXNbMF0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmIChpbnN0YW5jZU9mKGRhdGFbeF0sIHdpbmRvdy5CbG9iKSkge1xuXHRcdFx0XHRmLmFwcGVuZCh4LCBkYXRhW3hdLCBkYXRhLm5hbWUpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGYuYXBwZW5kKHgsIGRhdGFbeF0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gZjtcbn1cbiIsImNvbnN0IGNyZWF0ZUVsZW1lbnQgPSByZXF1aXJlKCcuL2NyZWF0ZUVsZW1lbnQuanMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAodGFnTmFtZSwgcHJvcCwgcGFyZW50ID0gZG9jdW1lbnQuYm9keSkgPT4ge1xuXHRjb25zdCBlbG0gPSBjcmVhdGVFbGVtZW50KHRhZ05hbWUsIHByb3ApO1xuXHRwYXJlbnQuYXBwZW5kQ2hpbGQoZWxtKTtcblx0cmV0dXJuIGVsbTtcbn07XG4iLCJjb25zdCBlYWNoID0gcmVxdWlyZSgnLi9lYWNoLmpzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKGVsZW1lbnRzLCBwcm9wcykgPT5cblx0ZWFjaChlbGVtZW50cywgZWxlbWVudCA9PiB7XG5cdFx0Zm9yIChjb25zdCB4IGluIHByb3BzKSB7XG5cdFx0XHRjb25zdCBwcm9wID0gcHJvcHNbeF07XG5cdFx0XHRpZiAodHlwZW9mIHByb3AgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0ZWxlbWVudFt4XSA9IHByb3A7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0ZWxlbWVudC5zZXRBdHRyaWJ1dGUoeCwgcHJvcCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcbiIsImNvbnN0IGF0dHIgPSByZXF1aXJlKCcuL2F0dHIuanMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAodGFnTmFtZSwgYXR0cnMpID0+IHtcblx0Y29uc3QgZWxtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcblx0YXR0cihlbG0sIGF0dHJzKTtcblx0cmV0dXJuIGVsbTtcbn07XG4iLCJjb25zdCBpbnN0YW5jZU9mID0gcmVxdWlyZSgnLi4vb2JqZWN0L2luc3RhbmNlT2YuanMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAodHlwZSwgZGF0YSkgPT4ge1xuXHRjb25zdCB0ZXN0ID0gYEhUTUwkeyAodHlwZSB8fCAnJykucmVwbGFjZShcblx0XHQvXlthLXpdLyxcblx0XHRtID0+IG0udG9VcHBlckNhc2UoKVxuXHQpfUVsZW1lbnRgO1xuXG5cdGlmICghZGF0YSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGlmICh3aW5kb3dbdGVzdF0pIHtcblx0XHRyZXR1cm4gaW5zdGFuY2VPZihkYXRhLCB3aW5kb3dbdGVzdF0pO1xuXHR9XG5cdGVsc2UgaWYgKHdpbmRvdy5FbGVtZW50KSB7XG5cdFx0cmV0dXJuIGluc3RhbmNlT2YoZGF0YSwgd2luZG93LkVsZW1lbnQpICYmICghdHlwZSB8fCAoZGF0YS50YWdOYW1lICYmIGRhdGEudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlKSk7XG5cdH1cblx0ZWxzZSB7XG5cdFx0cmV0dXJuICghKGluc3RhbmNlT2YoZGF0YSwgT2JqZWN0KSB8fCBpbnN0YW5jZU9mKGRhdGEsIEFycmF5KSB8fCBpbnN0YW5jZU9mKGRhdGEsIFN0cmluZykgfHwgaW5zdGFuY2VPZihkYXRhLCBOdW1iZXIpKSAmJiBkYXRhLnRhZ05hbWUgJiYgZGF0YS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09IHR5cGUpO1xuXHR9XG59O1xuIiwiY29uc3QgaXNEb20gPSByZXF1aXJlKCcuL2lzRG9tLmpzJyk7XG5jb25zdCBpbnN0YW5jZU9mID0gcmVxdWlyZSgnLi4vb2JqZWN0L2luc3RhbmNlT2YuanMnKTtcbmNvbnN0IHRvQXJyYXkgPSByZXF1aXJlKCcuLi9hcnJheS90b0FycmF5LmpzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKG1hdGNoZXMsIGNhbGxiYWNrID0gKCkgPT4ge30pID0+IHtcblxuXHRpZiAoaXNEb20obWF0Y2hlcykpIHtcblx0XHRtYXRjaGVzID0gW21hdGNoZXNdO1xuXHR9XG5cdGVsc2UgaWYgKHR5cGVvZihtYXRjaGVzKSA9PT0gJ3N0cmluZycpIHtcblx0XHRtYXRjaGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChtYXRjaGVzKTtcblx0fVxuXG5cdGlmICghaW5zdGFuY2VPZihtYXRjaGVzLCBBcnJheSkpIHtcblx0XHRtYXRjaGVzID0gdG9BcnJheShtYXRjaGVzKTtcblx0fVxuXG5cdGlmIChjYWxsYmFjaykge1xuXHRcdG1hdGNoZXMuZm9yRWFjaChjYWxsYmFjayk7XG5cdH1cblxuXHRyZXR1cm4gbWF0Y2hlcztcbn07XG4iLCJjb25zdCBhcHBlbmQgPSByZXF1aXJlKCcuL2FwcGVuZC5qcycpO1xuY29uc3QgcGFyYW0gPSByZXF1aXJlKCcuLi9zdHJpbmcvcGFyYW0uanMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBzcmMgPT4ge1xuXG5cdGNvbnN0IHN0eWxlID0gcGFyYW0oe1xuXHRcdHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuXHRcdGxlZnQ6ICctMTAwMHB4Jyxcblx0XHRib3R0b206IDAsXG5cdFx0aGVpZ2h0OiAnMXB4Jyxcblx0XHR3aWR0aDogJzFweCdcblx0fSwgJzsnLCAnOicpO1xuXG5cdHJldHVybiBhcHBlbmQoJ2lmcmFtZScsIHtzcmMsIHN0eWxlfSk7XG59O1xuIiwiY29uc3QgaW5zdGFuY2VPZiA9IHJlcXVpcmUoJy4uL29iamVjdC9pbnN0YW5jZU9mLmpzJyk7XG5cbmNvbnN0IF9IVE1MRWxlbWVudCA9IHR5cGVvZiBIVE1MRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgPyBIVE1MRWxlbWVudCA6IEVsZW1lbnQ7XG5jb25zdCBfSFRNTERvY3VtZW50ID0gdHlwZW9mIEhUTUxEb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgPyBIVE1MRG9jdW1lbnQgOiBEb2N1bWVudDtcbmNvbnN0IF9XaW5kb3cgPSB3aW5kb3cuY29uc3RydWN0b3I7XG5cbm1vZHVsZS5leHBvcnRzID0gdGVzdCA9PlxuXHRpbnN0YW5jZU9mKHRlc3QsIF9IVE1MRWxlbWVudCkgfHxcblx0XHRpbnN0YW5jZU9mKHRlc3QsIF9IVE1MRG9jdW1lbnQpIHx8XG5cdFx0aW5zdGFuY2VPZih0ZXN0LCBfV2luZG93KVxuO1xuIiwiLy8gSUUgZG9lcyBub3Qgc3VwcG9ydCBgbmV3IEV2ZW50KClgXG4vLyBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvR3VpZGUvRXZlbnRzL0NyZWF0aW5nX2FuZF90cmlnZ2VyaW5nX2V2ZW50cyBmb3IgZGV0YWlsc1xuY29uc3QgZGljdCA9IHtidWJibGVzOiB0cnVlLCBjYW5jZWxhYmxlOiB0cnVlfTtcblxubGV0IGNyZWF0ZUV2ZW50ID0gKGV2ZW50bmFtZSwgb3B0aW9ucyA9IGRpY3QpID0+XG5cdG5ldyBFdmVudChldmVudG5hbWUsIG9wdGlvbnMpO1xuXG50cnkge1xuXHRjcmVhdGVFdmVudCgndGVzdCcpO1xufVxuY2F0Y2ggKGUpIHtcblx0Y3JlYXRlRXZlbnQgPSAoZXZlbnRuYW1lLCBvcHRpb25zID0gZGljdCkgPT4ge1xuXHRcdGNvbnN0IGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcblx0XHRlLmluaXRFdmVudChldmVudG5hbWUsICEhb3B0aW9ucy5idWJibGVzLCAhIW9wdGlvbnMuY2FuY2VsYWJsZSk7XG5cdFx0cmV0dXJuIGU7XG5cdH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlRXZlbnQ7XG4iLCIvLyBvbi5qc1xuLy8gTGlzdGVuIHRvIGV2ZW50cywgdGhpcyBpcyBhIHdyYXBwZXIgZm9yIGFkZEV2ZW50TGlzdGVuZXJcbmNvbnN0IGVhY2ggPSByZXF1aXJlKCcuLi9kb20vZWFjaC5qcycpO1xuY29uc3QgY3JlYXRlRXZlbnQgPSByZXF1aXJlKCcuL2NyZWF0ZUV2ZW50LmpzJyk7XG5cbi8vIFJldHVyblxubW9kdWxlLmV4cG9ydHMgPSAoZWxlbWVudHMsIGV2ZW50bmFtZSkgPT4gZWFjaChlbGVtZW50cywgZWwgPT4gZWwuZGlzcGF0Y2hFdmVudChjcmVhdGVFdmVudChldmVudG5hbWUpKSk7XG5cbiIsIi8vIEdsb2JhbCBFdmVudHNcbi8vIEF0dGFjaCB0aGUgY2FsbGJhY2sgdG8gdGhlIHdpbmRvdyBvYmplY3Rcbi8vIFJldHVybiBpdHMgdW5pcXVlIHJlZmVyZW5jZVxuY29uc3QgcmFuZG9tID0gcmVxdWlyZSgnLi4vc3RyaW5nL3JhbmRvbS5qcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChjYWxsYmFjaywgZ3VpZCwgcHJlZml4ID0gJ190cmlja3NfJykgPT4ge1xuXG5cdC8vIElmIHRoZSBndWlkIGhhcyBub3QgYmVlbiBzdXBwbGllZCB0aGVuIGNyZWF0ZSBhIG5ldyBvbmUuXG5cdGd1aWQgPSBndWlkIHx8IHByZWZpeCArIHJhbmRvbSgpO1xuXG5cdC8vIERlZmluZSB0aGUgY2FsbGJhY2sgZnVuY3Rpb25cblx0d2luZG93W2d1aWRdID0gaGFuZGxlLmJpbmQobnVsbCwgZ3VpZCwgY2FsbGJhY2spO1xuXG5cdHJldHVybiBndWlkO1xufTtcblxuZnVuY3Rpb24gaGFuZGxlKGd1aWQsIGNhbGxiYWNrLCAuLi5hcmdzKSB7XG5cdGNhbGxiYWNrKC4uLmFyZ3MpICYmIGRlbGV0ZSB3aW5kb3dbZ3VpZF07XG59XG4iLCIvLyBvbi5qc1xuLy8gTGlzdGVuIHRvIGV2ZW50cywgdGhpcyBpcyBhIHdyYXBwZXIgZm9yIGFkZEV2ZW50TGlzdGVuZXJcblxuY29uc3QgZWFjaCA9IHJlcXVpcmUoJy4uL2RvbS9lYWNoLmpzJyk7XG5jb25zdCBTRVBFUkFUT1IgPSAvW1xcc1xcLF0rLztcblxuLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9XSUNHL0V2ZW50TGlzdGVuZXJPcHRpb25zL2Jsb2IvZ2gtcGFnZXMvZXhwbGFpbmVyLm1kI2ZlYXR1cmUtZGV0ZWN0aW9uXG5sZXQgc3VwcG9ydHNQYXNzaXZlID0gZmFsc2U7XG50cnkge1xuXHRjb25zdCBvcHRzID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAncGFzc2l2ZScsIHtcblx0XHRnZXQoKSB7XG5cdFx0XHRzdXBwb3J0c1Bhc3NpdmUgPSB0cnVlO1xuXHRcdH1cblx0fSk7XG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0JywgbnVsbCwgb3B0cyk7XG59XG5jYXRjaCAoZSkge1xuXHQvLyBDb250aW51ZVxufVxuXG5cbm1vZHVsZS5leHBvcnRzID0gKGVsZW1lbnRzLCBldmVudG5hbWVzLCBjYWxsYmFjaywgb3B0aW9ucyA9IGZhbHNlKSA9PiB7XG5cblx0aWYgKHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0JyAmJiBvcHRpb25zLnBhc3NpdmUgJiYgIXN1cHBvcnRzUGFzc2l2ZSkge1xuXHRcdC8vIE92ZXJyaWRlIHRoZSBwYXNzaXZlIG1hcmtcblx0XHRvcHRpb25zID0gZmFsc2U7XG5cdH1cblxuXHRldmVudG5hbWVzID0gZXZlbnRuYW1lcy5zcGxpdChTRVBFUkFUT1IpO1xuXHRyZXR1cm4gZWFjaChlbGVtZW50cywgZWwgPT4gZXZlbnRuYW1lcy5mb3JFYWNoKGV2ZW50bmFtZSA9PiBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50bmFtZSwgY2FsbGJhY2ssIG9wdGlvbnMpKSk7XG59O1xuIiwiLy8gTWFrZXMgaXQgZWFzaWVyIHRvIGFzc2lnbiBwYXJhbWV0ZXJzLCB3aGVyZSBzb21lIGFyZSBvcHRpb25hbFxuLy8gQHBhcmFtIG8gb2JqZWN0XG4vLyBAcGFyYW0gYSBhcmd1bWVudHNcbm1vZHVsZS5leHBvcnRzID0gKG8sIGFyZ3MpID0+IHtcblxuXHRjb25zdCBwID0ge307XG5cdGxldCBpID0gMDtcblx0bGV0IHQgPSBudWxsO1xuXHRsZXQgeCA9IG51bGw7XG5cblx0Ly8gJ3gnIGlzIHRoZSBmaXJzdCBrZXkgaW4gdGhlIGxpc3Qgb2Ygb2JqZWN0IHBhcmFtZXRlcnNcblx0Zm9yICh4IGluIG8pIHtcblx0XHRpZiAoby5oYXNPd25Qcm9wZXJ0eSh4KSkge1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9XG5cblx0Ly8gUGFzc2luZyBpbiBoYXNoIG9iamVjdCBvZiBhcmd1bWVudHM/XG5cdC8vIFdoZXJlIHRoZSBmaXJzdCBhcmd1bWVudCBjYW4ndCBiZSBhbiBvYmplY3Rcblx0aWYgKChhcmdzLmxlbmd0aCA9PT0gMSkgJiYgKHR5cGVvZiAoYXJnc1swXSkgPT09ICdvYmplY3QnKSAmJiBvW3hdICE9PSAnbyEnKSB7XG5cblx0XHQvLyBDb3VsZCB0aGlzIG9iamVjdCBzdGlsbCBiZWxvbmcgdG8gYSBwcm9wZXJ0eT9cblx0XHQvLyBDaGVjayB0aGUgb2JqZWN0IGtleXMgaWYgdGhleSBtYXRjaCBhbnkgb2YgdGhlIHByb3BlcnR5IGtleXNcblx0XHRmb3IgKHggaW4gYXJnc1swXSkge1xuXHRcdFx0aWYgKG8uaGFzT3duUHJvcGVydHkoeCkpIHtcblx0XHRcdFx0Ly8gRG9lcyB0aGlzIGtleSBleGlzdCBpbiB0aGUgcHJvcGVydHkgbGlzdD9cblx0XHRcdFx0aWYgKHggaW4gbykge1xuXHRcdFx0XHRcdC8vIFllcyB0aGlzIGtleSBkb2VzIGV4aXN0IHNvIGl0cyBtb3N0IGxpa2VseSB0aGlzIGZ1bmN0aW9uIGhhcyBiZWVuIGludm9rZWQgd2l0aCBhbiBvYmplY3QgcGFyYW1ldGVyXG5cdFx0XHRcdFx0Ly8gUmV0dXJuIGZpcnN0IGFyZ3VtZW50IGFzIHRoZSBoYXNoIG9mIGFsbCBhcmd1bWVudHNcblx0XHRcdFx0XHRyZXR1cm4gYXJnc1swXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIEVsc2UgbG9vcCB0aHJvdWdoIGFuZCBhY2NvdW50IGZvciB0aGUgbWlzc2luZyBvbmVzLlxuXHRmb3IgKHggaW4gbykge1xuXHRcdGlmIChvLmhhc093blByb3BlcnR5KHgpKSB7XG5cblx0XHRcdHQgPSB0eXBlb2YgKGFyZ3NbaV0pO1xuXG5cdFx0XHRpZiAoKHR5cGVvZiAob1t4XSkgPT09ICdmdW5jdGlvbicgJiYgb1t4XS50ZXN0KGFyZ3NbaV0pKSB8fCAodHlwZW9mIChvW3hdKSA9PT0gJ3N0cmluZycgJiYgKFxuXHRcdFx0XHQob1t4XS5pbmRleE9mKCdzJykgPiAtMSAmJiB0ID09PSAnc3RyaW5nJykgfHxcblx0XHRcdFx0KG9beF0uaW5kZXhPZignbycpID4gLTEgJiYgdCA9PT0gJ29iamVjdCcpIHx8XG5cdFx0XHRcdChvW3hdLmluZGV4T2YoJ2knKSA+IC0xICYmIHQgPT09ICdudW1iZXInKSB8fFxuXHRcdFx0XHQob1t4XS5pbmRleE9mKCdhJykgPiAtMSAmJiB0ID09PSAnb2JqZWN0JykgfHxcblx0XHRcdFx0KG9beF0uaW5kZXhPZignZicpID4gLTEgJiYgdCA9PT0gJ2Z1bmN0aW9uJylcblx0XHRcdFx0KSlcblx0XHRcdFx0KSB7XG5cdFx0XHRcdHBbeF0gPSBhcmdzW2krK107XG5cdFx0XHR9XG5cblx0XHRcdGVsc2UgaWYgKHR5cGVvZiAob1t4XSkgPT09ICdzdHJpbmcnICYmIG9beF0uaW5kZXhPZignIScpID4gLTEpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBwO1xufTtcbiIsImNvbnN0IGlzQmluYXJ5ID0gcmVxdWlyZSgnLi9pc0JpbmFyeS5qcycpO1xuXG4vLyBDcmVhdGUgYSBjbG9uZSBvZiBhbiBvYmplY3Rcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY2xvbmUob2JqKSB7XG5cdC8vIERvZXMgbm90IGNsb25lIERPTSBlbGVtZW50cywgbm9yIEJpbmFyeSBkYXRhLCBlLmcuIEJsb2JzLCBGaWxlbGlzdHNcblx0aWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2YgKG9iaikgIT09ICdvYmplY3QnIHx8IG9iaiBpbnN0YW5jZW9mIERhdGUgfHwgJ25vZGVOYW1lJyBpbiBvYmogfHwgaXNCaW5hcnkob2JqKSB8fCAodHlwZW9mIEZvcm1EYXRhID09PSAnZnVuY3Rpb24nICYmIG9iaiBpbnN0YW5jZW9mIEZvcm1EYXRhKSkge1xuXHRcdHJldHVybiBvYmo7XG5cdH1cblxuXHRpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG5cdFx0Ly8gQ2xvbmUgZWFjaCBpdGVtIGluIHRoZSBhcnJheVxuXHRcdHJldHVybiBvYmoubWFwKGNsb25lLmJpbmQodGhpcykpO1xuXHR9XG5cblx0Ly8gQnV0IGRvZXMgY2xvbmUgZXZlcnl0aGluZyBlbHNlLlxuXHRjb25zdCBfY2xvbmUgPSB7fTtcblx0Zm9yIChjb25zdCB4IGluIG9iaikge1xuXHRcdF9jbG9uZVt4XSA9IGNsb25lKG9ialt4XSk7XG5cdH1cblxuXHRyZXR1cm4gX2Nsb25lO1xufTtcbiIsIi8vIFJldHVybiBhbGwgdGhlIHByb3BlcnRpZXMgaW4gJ2EnIHdoaWNoIGFyZW4ndCBpbiAnYic7XG5tb2R1bGUuZXhwb3J0cyA9IChhLCBiKSA9PiB7XG5cdGlmIChhIHx8ICFiKSB7XG5cdFx0Y29uc3QgciA9IHt9O1xuXHRcdGZvciAoY29uc3QgeCBpbiBhKSB7XG5cdFx0XHQvLyBpcyB0aGlzIGEgY3VzdG9tIHByb3BlcnR5P1xuXHRcdFx0aWYgKCEoeCBpbiBiKSkge1xuXHRcdFx0XHRyW3hdID0gYVt4XTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHI7XG5cdH1cblx0cmV0dXJuIGE7XG59O1xuIiwiY29uc3QgaW5zdGFuY2VPZiA9IHJlcXVpcmUoJy4vaW5zdGFuY2VPZi5qcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGV4dGVuZChyLCAuLi5hcmdzKSB7XG5cdGFyZ3MuZm9yRWFjaChvID0+IHtcblx0XHRpZiAoQXJyYXkuaXNBcnJheShyKSAmJiBBcnJheS5pc0FycmF5KG8pKSB7XG5cdFx0XHRBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShyLCBvKTtcblx0XHR9XG5cdFx0ZWxzZSBpZiAoaW5zdGFuY2VPZihyLCBPYmplY3QpICYmIGluc3RhbmNlT2YobywgT2JqZWN0KSAmJiByICE9PSBvKSB7XG5cdFx0XHRmb3IgKGNvbnN0IHggaW4gbykge1xuXHRcdFx0XHRyW3hdID0gZXh0ZW5kKHJbeF0sIG9beF0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRlbHNlIGlmIChBcnJheS5pc0FycmF5KG8pKSB7XG5cdFx0XHQvLyBDbG9uZSBpdFxuXHRcdFx0ciA9IG8uc2xpY2UoMCk7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0ciA9IG87XG5cdFx0fVxuXHR9KTtcblx0cmV0dXJuIHI7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSAodGVzdCwgcm9vdCkgPT4gcm9vdCAmJiB0ZXN0IGluc3RhbmNlb2Ygcm9vdDtcbiIsImNvbnN0IGluc3RhbmNlT2YgPSByZXF1aXJlKCcuL2luc3RhbmNlT2YuanMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBkYXRhID0+XG5cdGluc3RhbmNlT2YoZGF0YSwgT2JqZWN0KSAmJiAoXG5cdChpbnN0YW5jZU9mKGRhdGEsIHR5cGVvZiBIVE1MSW5wdXRFbGVtZW50ICE9PSAndW5kZWZpbmVkJyA/IEhUTUxJbnB1dEVsZW1lbnQgOiB1bmRlZmluZWQpICYmIGRhdGEudHlwZSA9PT0gJ2ZpbGUnKSB8fFxuXHQoaW5zdGFuY2VPZihkYXRhLCB0eXBlb2YgSFRNTElucHV0ICE9PSAndW5kZWZpbmVkJyA/IEhUTUxJbnB1dCA6IHVuZGVmaW5lZCkgJiYgZGF0YS50eXBlID09PSAnZmlsZScpIHx8XG5cdGluc3RhbmNlT2YoZGF0YSwgdHlwZW9mIEZpbGVMaXN0ICE9PSAndW5kZWZpbmVkJyA/IEZpbGVMaXN0IDogdW5kZWZpbmVkKSB8fFxuXHRpbnN0YW5jZU9mKGRhdGEsIHR5cGVvZiBGaWxlICE9PSAndW5kZWZpbmVkJyA/IEZpbGUgOiB1bmRlZmluZWQpIHx8XG5cdGluc3RhbmNlT2YoZGF0YSwgdHlwZW9mIEJsb2IgIT09ICd1bmRlZmluZWQnID8gQmxvYiA6IHVuZGVmaW5lZCkpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBvYmogPT4ge1xuXG5cdC8vIFNjYWxhclxuXHRpZiAoIW9iailcblx0XHRyZXR1cm4gdHJ1ZTtcblxuXHQvLyBBcnJheVxuXHRpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG5cdFx0cmV0dXJuICFvYmoubGVuZ3RoO1xuXHR9XG5cdGVsc2UgaWYgKHR5cGVvZiAob2JqKSA9PT0gJ29iamVjdCcpIHtcblx0XHQvLyBPYmplY3Rcblx0XHRmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcblx0XHRcdGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRydWU7XG59O1xuIiwiLy8gRXh0ZW5kIGFuIG9iamVjdFxuY29uc3QgZXh0ZW5kID0gcmVxdWlyZSgnLi9leHRlbmQuanMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoLi4uYXJncykgPT4ge1xuXHRhcmdzLnVuc2hpZnQoe30pO1xuXHRyZXR1cm4gZXh0ZW5kKC4uLmFyZ3MpO1xufTtcbiIsIi8vIFB1YnN1YiBleHRlbnNpb25cbi8vIEEgY29udHJ1Y3RvciBzdXBlcmNsYXNzIGZvciBhZGRpbmcgZXZlbnQgbWVudGhvZHMsIG9uLCBvZmYsIGVtaXQuXG5jb25zdCBzZXRJbW1lZGlhdGUgPSByZXF1aXJlKCcuLi90aW1lL3NldEltbWVkaWF0ZS5qcycpO1xuXG5jb25zdCBzZXBhcmF0b3IgPSAvW1xcc1xcLF0rLztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblxuXHQvLyBJZiB0aGlzIGRvZXNuJ3Qgc3VwcG9ydCBnZXRQcm90b3R5cGUgdGhlbiB3ZSBjYW4ndCBnZXQgcHJvdG90eXBlLmV2ZW50cyBvZiB0aGUgcGFyZW50XG5cdC8vIFNvIGxldHMgZ2V0IHRoZSBjdXJyZW50IGluc3RhbmNlIGV2ZW50cywgYW5kIGFkZCB0aG9zZSB0byBhIHBhcmVudCBwcm9wZXJ0eVxuXHR0aGlzLnBhcmVudCA9IHtcblx0XHRldmVudHM6IHRoaXMuZXZlbnRzLFxuXHRcdGZpbmRFdmVudHM6IHRoaXMuZmluZEV2ZW50cyxcblx0XHRwYXJlbnQ6IHRoaXMucGFyZW50LFxuXHRcdHV0aWxzOiB0aGlzLnV0aWxzXG5cdH07XG5cblx0dGhpcy5ldmVudHMgPSB7fTtcblxuXHR0aGlzLm9mZiA9IG9mZjtcblx0dGhpcy5vbiA9IG9uO1xuXHR0aGlzLmVtaXQgPSBlbWl0O1xuXHR0aGlzLmVtaXRBZnRlciA9IGVtaXRBZnRlcjtcblx0dGhpcy5maW5kRXZlbnRzID0gZmluZEV2ZW50cztcblxuXHRyZXR1cm4gdGhpcztcbn07XG5cblxuLy8gT24sIHN1YnNjcmliZSB0byBldmVudHNcbi8vIEBwYXJhbSBldnQgICBzdHJpbmdcbi8vIEBwYXJhbSBjYWxsYmFjayAgZnVuY3Rpb25cbmZ1bmN0aW9uIG9uKGV2dCwgY2FsbGJhY2spIHtcblxuXHRpZiAoY2FsbGJhY2sgJiYgdHlwZW9mIChjYWxsYmFjaykgPT09ICdmdW5jdGlvbicpIHtcblx0XHRldnQuc3BsaXQoc2VwYXJhdG9yKS5mb3JFYWNoKG5hbWUgPT4ge1xuXHRcdFx0Ly8gSGFzIHRoaXMgZXZlbnQgYWxyZWFkeSBiZWVuIGZpcmVkIG9uIHRoaXMgaW5zdGFuY2U/XG5cdFx0XHR0aGlzLmV2ZW50c1tuYW1lXSA9IFtjYWxsYmFja10uY29uY2F0KHRoaXMuZXZlbnRzW25hbWVdIHx8IFtdKTtcblx0XHR9KTtcblx0fVxuXG5cdHJldHVybiB0aGlzO1xufVxuXG5cbi8vIE9mZiwgdW5zdWJzY3JpYmUgdG8gZXZlbnRzXG4vLyBAcGFyYW0gZXZ0ICAgc3RyaW5nXG4vLyBAcGFyYW0gY2FsbGJhY2sgIGZ1bmN0aW9uXG5mdW5jdGlvbiBvZmYoZXZ0LCBjYWxsYmFjaykge1xuXG5cdHRoaXMuZmluZEV2ZW50cyhldnQsIGZ1bmN0aW9uKG5hbWUsIGluZGV4KSB7XG5cdFx0aWYgKCFjYWxsYmFjayB8fCB0aGlzLmV2ZW50c1tuYW1lXVtpbmRleF0gPT09IGNhbGxiYWNrKSB7XG5cdFx0XHR0aGlzLmV2ZW50c1tuYW1lXVtpbmRleF0gPSBudWxsO1xuXHRcdH1cblx0fSk7XG5cblx0cmV0dXJuIHRoaXM7XG59XG5cbi8vIEVtaXRcbi8vIFRyaWdnZXJzIGFueSBzdWJzY3JpYmVkIGV2ZW50c1xuZnVuY3Rpb24gZW1pdChldnQsIC4uLmFyZ3MpIHtcblxuXHQvLyBBcHBlbmQgdGhlIGV2ZW50bmFtZSB0byB0aGUgZW5kIG9mIHRoZSBhcmd1bWVudHNcblx0YXJncy5wdXNoKGV2dCk7XG5cblx0Ly8gSGFuZGxlclxuXHRjb25zdCBoYW5kbGVyID0gZnVuY3Rpb24obmFtZSwgaW5kZXgpIHtcblxuXHRcdC8vIFJlcGxhY2UgdGhlIGxhc3QgcHJvcGVydHkgd2l0aCB0aGUgZXZlbnQgbmFtZVxuXHRcdGFyZ3NbYXJncy5sZW5ndGggLSAxXSA9IChuYW1lID09PSAnKicgPyBldnQgOiBuYW1lKTtcblxuXHRcdC8vIFRyaWdnZXJcblx0XHR0aGlzLmV2ZW50c1tuYW1lXVtpbmRleF0uYXBwbHkodGhpcywgYXJncyk7XG5cdH07XG5cblx0Ly8gRmluZCB0aGUgY2FsbGJhY2tzIHdoaWNoIG1hdGNoIHRoZSBjb25kaXRpb24gYW5kIGNhbGxcblx0bGV0IF90aGlzID0gdGhpcztcblx0d2hpbGUgKF90aGlzICYmIF90aGlzLmZpbmRFdmVudHMpIHtcblxuXHRcdC8vIEZpbmQgZXZlbnRzIHdoaWNoIG1hdGNoXG5cdFx0X3RoaXMuZmluZEV2ZW50cyhgJHtldnQgfSwqYCwgaGFuZGxlcik7XG5cdFx0X3RoaXMgPSBfdGhpcy5wYXJlbnQ7XG5cdH1cblxuXHRyZXR1cm4gdGhpcztcbn1cblxuLy8gRWFzeSBmdW5jdGlvbnNcbmZ1bmN0aW9uIGVtaXRBZnRlciguLi5hcmdzKSB7XG5cblx0c2V0SW1tZWRpYXRlKCgpID0+IHtcblx0XHR0aGlzLmVtaXQoLi4uYXJncyk7XG5cdH0pO1xuXG5cdHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBmaW5kRXZlbnRzKGV2dCwgY2FsbGJhY2spIHtcblxuXHRjb25zdCBhID0gZXZ0LnNwbGl0KHNlcGFyYXRvcik7XG5cblx0Zm9yIChjb25zdCBuYW1lIGluIHRoaXMuZXZlbnRzKSB7XG5cdFx0aWYgKHRoaXMuZXZlbnRzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG5cblx0XHRcdGlmIChhLmluZGV4T2YobmFtZSkgPiAtMSkge1xuXG5cdFx0XHRcdHRoaXMuZXZlbnRzW25hbWVdLmZvckVhY2godHJpZ2dlckNhbGxiYWNrLmJpbmQodGhpcywgbmFtZSwgY2FsbGJhY2spKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gdHJpZ2dlckNhbGxiYWNrKG5hbWUsIGNhbGxiYWNrLCBoYW5kbGVyLCBpKSB7XG5cdC8vIERvZXMgdGhlIGV2ZW50IGhhbmRsZXIgZXhpc3Q/XG5cdGlmIChoYW5kbGVyKSB7XG5cdFx0Ly8gRW1pdCBvbiB0aGUgbG9jYWwgaW5zdGFuY2Ugb2YgdGhpc1xuXHRcdGNhbGxiYWNrLmNhbGwodGhpcywgbmFtZSwgaSk7XG5cdH1cbn1cbiIsIi8vIFJld2lyZSBmdW5jdGlvbnNcbm1vZHVsZS5leHBvcnRzID0gZm4gPT4ge1xuXHRjb25zdCBmID0gKC4uLmFyZ3MpID0+IGYuZm4uYXBwbHkobnVsbCwgYXJncyk7XG5cdGYuZm4gPSBmbjtcblx0cmV0dXJuIGY7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmbiA9PiB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIGZuLmNhbGwobnVsbCk7XG5cdH1cblx0Y2F0Y2ggKGUpIHtcblx0XHQvLyBDb250aW51ZVxuXHR9XG59O1xuIiwiY29uc3QgcXVlcnlzdHJpbmdpZnkgPSByZXF1aXJlKCcuL3F1ZXJ5c3RyaW5naWZ5LmpzJyk7XG5jb25zdCBpc0VtcHR5ID0gcmVxdWlyZSgnLi4vb2JqZWN0L2lzRW1wdHkuanMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAodXJsLCBwYXJhbXMsIGZvcm1hdEZ1bmN0aW9uKSA9PiB7XG5cblx0bGV0IHJlZztcblxuXHRpZiAocGFyYW1zKSB7XG5cdFx0Ly8gU2V0IGRlZmF1bHQgZm9ybWF0dGluZyBmdW5jdGlvblxuXHRcdGZvcm1hdEZ1bmN0aW9uID0gZm9ybWF0RnVuY3Rpb24gfHwgZW5jb2RlVVJJQ29tcG9uZW50O1xuXG5cdFx0Ly8gT3ZlcnJpZGUgdGhlIGl0ZW1zIGluIHRoZSBVUkwgd2hpY2ggYWxyZWFkeSBleGlzdFxuXHRcdGZvciAoY29uc3QgeCBpbiBwYXJhbXMpIHtcblx0XHRcdGNvbnN0IHN0ciA9IGAoW1xcXFw/XFxcXCZdKSR7IHggfT1bXlxcXFwmXSpgO1xuXHRcdFx0cmVnID0gbmV3IFJlZ0V4cChzdHIpO1xuXHRcdFx0aWYgKHVybC5tYXRjaChyZWcpKSB7XG5cdFx0XHRcdHVybCA9IHVybC5yZXBsYWNlKHJlZywgYCQxJHsgeCB9PSR7IGZvcm1hdEZ1bmN0aW9uKHBhcmFtc1t4XSl9YCk7XG5cdFx0XHRcdGRlbGV0ZSBwYXJhbXNbeF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aWYgKCFpc0VtcHR5KHBhcmFtcykpIHtcblx0XHRyZXR1cm4gdXJsICsgKHVybC5pbmRleE9mKCc/JykgPiAtMSA/ICcmJyA6ICc/JykgKyBxdWVyeXN0cmluZ2lmeShwYXJhbXMsIGZvcm1hdEZ1bmN0aW9uKTtcblx0fVxuXG5cdHJldHVybiB1cmw7XG59O1xuIiwiLy8gRXh0cmFjdFxuLy8gRXh0cmFjdCB0aGUgcGFyYW1ldGVycyBvZiBhbiBVUkwgc3RyaW5nXG4vLyBAcGFyYW0gc3RyaW5nIHMsIHN0cmluZyB0byBkZWNvZGVcblxubW9kdWxlLmV4cG9ydHMgPSAoc3RyLCBtYXRjaF9wYXJhbXMsIGZvcm1hdEZ1bmN0aW9uID0geCA9PiB4KSA9PiB7XG5cdGNvbnN0IGEgPSB7fTtcblx0bGV0IG07XG5cdHdoaWxlICgobSA9IG1hdGNoX3BhcmFtcy5leGVjKHN0cikpKSB7XG5cdFx0YVttWzFdXSA9IGZvcm1hdEZ1bmN0aW9uKG1bMl0pO1xuXHR9XG5cdHJldHVybiBhO1xufTtcbiIsImNvbnN0IHRyeUNhdGNoID0gcmVxdWlyZSgnLi4vb2JqZWN0L3RyeUNhdGNoLmpzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHN0ciA9PiB0cnlDYXRjaCgoKSA9PiBKU09OLnBhcnNlKHN0cikpO1xuIiwiLy8gUGFyYW1cbi8vIEV4cGxvZGUvZW5jb2RlIHRoZSBwYXJhbWV0ZXJzIG9mIGFuIFVSTCBzdHJpbmcvb2JqZWN0XG4vLyBAcGFyYW0gc3RyaW5nIHMsIHN0cmluZyB0byBkZWNvZGVcbm1vZHVsZS5leHBvcnRzID0gKGhhc2gsIGRlbGltaXRlciA9ICcmJywgc2VwZXJhdG9yID0gJz0nLCBmb3JtYXRGdW5jdGlvbiA9IG8gPT4gbykgPT5cblx0T2JqZWN0LmtleXMoaGFzaCkubWFwKG5hbWUgPT4ge1xuXHRcdGNvbnN0IHZhbHVlID0gZm9ybWF0RnVuY3Rpb24oaGFzaFtuYW1lXSk7XG5cdFx0cmV0dXJuIG5hbWUgKyAodmFsdWUgIT09IG51bGwgPyBzZXBlcmF0b3IgKyB2YWx1ZSA6ICcnKTtcblx0fSkuam9pbihkZWxpbWl0ZXIpXG47XG4iLCIvLyBDcmVhdGUgYSBRdWVyeSBzdHJpbmdcbmNvbnN0IGV4dHJhY3QgPSByZXF1aXJlKCcuL2V4dHJhY3QuanMnKTtcblxuY29uc3QgdHJpbV9sZWZ0ID0gL15bXFwjXFw/XS87XG5jb25zdCBtYXRjaF9wYXJhbXMgPSAvKFtePVxcL1xcJl0rKT0oW15cXCZdKykvZztcblxubW9kdWxlLmV4cG9ydHMgPSAoc3RyLCBmb3JtYXRGdW5jdGlvbiA9IGRlY29kZVVSSUNvbXBvbmVudCkgPT4ge1xuXHRzdHIgPSBzdHIucmVwbGFjZSh0cmltX2xlZnQsICcnKTtcblx0cmV0dXJuIGV4dHJhY3Qoc3RyLCBtYXRjaF9wYXJhbXMsIGZvcm1hdEZ1bmN0aW9uKTtcbn07XG4iLCIvLyBDcmVhdGUgYSBRdWVyeSBzdHJpbmdcbmNvbnN0IHBhcmFtID0gcmVxdWlyZSgnLi9wYXJhbS5qcycpO1xuY29uc3QgZm4gPSB2YWx1ZSA9PiAodmFsdWUgPT09ICc/JyA/ICc/JyA6IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChvLCBmb3JtYXR0ZXIgPSBmbikgPT4gcGFyYW0obywgJyYnLCAnPScsIGZvcm1hdHRlcik7XG4iLCJtb2R1bGUuZXhwb3J0cyA9ICgpID0+IHBhcnNlSW50KE1hdGgucmFuZG9tKCkgKiAxZTEyLCAxMCkudG9TdHJpbmcoMzYpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSAoJ3dpdGhDcmVkZW50aWFscycgaW4gbmV3IFhNTEh0dHBSZXF1ZXN0KCkpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygc2V0SW1tZWRpYXRlID09PSAnZnVuY3Rpb24nID8gc2V0SW1tZWRpYXRlIDogKGNiID0+IHNldFRpbWVvdXQoY2IsIDApKTtcbiIsIi8vIENsb3NlIGEgd2luZG93XG5tb2R1bGUuZXhwb3J0cyA9IHdpbmRvdyA9PiB7XG5cblx0Ly8gSXMgdGhpcyB3aW5kb3cgd2l0aGluIGFuIElmcmFtZT9cblx0aWYgKHdpbmRvdy5mcmFtZUVsZW1lbnQpIHtcblx0XHR3aW5kb3cucGFyZW50LmRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQod2luZG93LmZyYW1lRWxlbWVudCk7XG5cdH1cblx0ZWxzZSB7XG5cdFx0Ly8gQ2xvc2UgdGhpcyBjdXJyZW50IHdpbmRvd1xuXHRcdHRyeSB7XG5cdFx0XHR3aW5kb3cuY2xvc2UoKTtcblx0XHR9XG5cdFx0Y2F0Y2ggKGUpIHtcblx0XHRcdC8vIENvbnRpbnVlXG5cdFx0fVxuXG5cdFx0Ly8gSU9TIGJ1ZyB3b250IGxldCB1cyBjbG9zZSBhIHBvcHVwIGlmIHN0aWxsIGxvYWRpbmdcblx0XHRpZiAod2luZG93LmFkZEV2ZW50TGlzdGVuZXIpIHtcblx0XHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4gd2luZG93LmNsb3NlKCkpO1xuXHRcdH1cblx0fVxufTtcbiIsIi8vIHBvcHVwXG4vLyBFYXN5IG9wdGlvbnMgYXMgYSBoYXNoXG5jb25zdCBwYXJhbSA9IHJlcXVpcmUoJy4uL3N0cmluZy9wYXJhbS5qcycpO1xuXG5jb25zdCBkb2N1bWVudEVsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5jb25zdCBkaW1lbnNpb25zID0gW1snVG9wJywgJ0hlaWdodCddLCBbJ0xlZnQnLCAnV2lkdGgnXV07XG5cbm1vZHVsZS5leHBvcnRzID0gKHVybCwgdGFyZ2V0LCBvcHRpb25zID0ge30pID0+IHtcblxuXHQvLyBjZW50ZXJzIHRoZSBwb3B1cCBjb3JyZWN0bHkgdG8gdGhlIGN1cnJlbnQgZGlzcGxheSBvZiBhIG11bHRpLXNjcmVlbiBkaXNwbGF5LlxuXHRkaW1lbnNpb25zLmZvckVhY2goZ2VuZXJhdGVQb3NpdGlvbi5iaW5kKG9wdGlvbnMpKTtcblxuXHQvLyBPcGVuXG5cdHJldHVybiB3aW5kb3cub3Blbih1cmwsIHRhcmdldCwgcGFyYW0ob3B0aW9ucywgJywnKSk7XG59O1xuXG5mdW5jdGlvbiBnZW5lcmF0ZVBvc2l0aW9uIChbUG9zaXRpb24sIERpbWVuc2lvbl0pIHtcblx0Y29uc3QgcG9zaXRpb24gPSBQb3NpdGlvbi50b0xvd2VyQ2FzZSgpO1xuXHRjb25zdCBkaW1lbnNpb24gPSBEaW1lbnNpb24udG9Mb3dlckNhc2UoKTtcblx0aWYgKHRoaXNbZGltZW5zaW9uXSAmJiAhKHBvc2l0aW9uIGluIHRoaXMpKSB7XG5cdFx0Y29uc3QgZHVhbFNjcmVlblBvcyA9IHdpbmRvd1tgc2NyZWVuJHsgUG9zaXRpb259YF0gIT09IHVuZGVmaW5lZCA/IHdpbmRvd1tgc2NyZWVuJHsgUG9zaXRpb259YF0gOiBzY3JlZW5bcG9zaXRpb25dO1xuXHRcdGNvbnN0IGQgPSBzY3JlZW5bZGltZW5zaW9uXSB8fCB3aW5kb3dbYGlubmVyJHsgRGltZW5zaW9ufWBdIHx8IGRvY3VtZW50RWxlbWVudFtgY2xpZW50JHsgRGltZW5zaW9ufWBdO1xuXHRcdHRoaXNbcG9zaXRpb25dID0gcGFyc2VJbnQoKGQgLSB0aGlzW2RpbWVuc2lvbl0pIC8gMiwgMTApICsgZHVhbFNjcmVlblBvcztcblx0fVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBwYXRoID0+IHtcblxuXHQvLyBJZiB0aGUgcGF0aCBpcyBlbXB0eVxuXHRpZiAoIXBhdGgpIHtcblx0XHRyZXR1cm4gd2luZG93LmxvY2F0aW9uO1xuXHR9XG5cblx0Ly8gQ2hyb21lIGFuZCBGaXJlRm94IHN1cHBvcnQgbmV3IFVSTCgpIHRvIGV4dHJhY3QgVVJMIG9iamVjdHNcblx0ZWxzZSBpZiAod2luZG93LlVSTCAmJiBVUkwgaW5zdGFuY2VvZiBGdW5jdGlvbiAmJiBVUkwubGVuZ3RoICE9PSAwKSB7XG5cdFx0cmV0dXJuIG5ldyBVUkwocGF0aCwgd2luZG93LmxvY2F0aW9uKTtcblx0fVxuXG5cdC8vIFVnbHkgc2hpbSwgaXQgd29ya3MhXG5cdGVsc2Uge1xuXHRcdGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG5cdFx0YS5ocmVmID0gcGF0aDtcblx0XHQvLyBSZXR1cm4gY2xvbmUgZm9yIElFIGNvbXBhdGliaWxpdHkgdmlldy5cblx0XHRyZXR1cm4gYS5jbG9uZU5vZGUoZmFsc2UpO1xuXHR9XG59O1xuIiwiLyoqXG4gKiBAaGVsbG8uanNcbiAqXG4gKiBIZWxsb0pTIGlzIGEgY2xpZW50IHNpZGUgSmF2YXNjcmlwdCBTREsgZm9yIG1ha2luZyBPQXV0aDIgbG9naW5zIGFuZCBzdWJzZXF1ZW50IFJFU1QgY2FsbHMuXG4gKlxuICogQGF1dGhvciBBbmRyZXcgRG9kc29uXG4gKiBAd2Vic2l0ZSBodHRwczovL2Fkb2Rzb24uY29tL2hlbGxvLmpzL1xuXG4gKiBAY29weXJpZ2h0IEFuZHJldyBEb2Rzb24sIDIwMTIgLSAyMDE1XG4gKiBAbGljZW5zZSBNSVQ6IFlvdSBhcmUgZnJlZSB0byB1c2UgYW5kIG1vZGlmeSB0aGlzIGNvZGUgZm9yIGFueSB1c2UsIG9uIHRoZSBjb25kaXRpb24gdGhhdCB0aGlzIGNvcHlyaWdodCBub3RpY2UgcmVtYWlucy5cbiAqL1xuXG5jb25zdCBhcmdtYXAgPSByZXF1aXJlKCd0cmlja3Mvb2JqZWN0L2FyZ3MnKTtcbmNvbnN0IGNsb25lID0gcmVxdWlyZSgndHJpY2tzL29iamVjdC9jbG9uZScpO1xuY29uc3QgY2xvc2VXaW5kb3cgPSByZXF1aXJlKCd0cmlja3Mvd2luZG93L2Nsb3NlJyk7XG5jb25zdCBjcmVhdGVVcmwgPSByZXF1aXJlKCd0cmlja3Mvc3RyaW5nL2NyZWF0ZVVybCcpO1xuY29uc3QgZGlmZktleSA9IHJlcXVpcmUoJ3RyaWNrcy9vYmplY3QvZGlmZktleScpO1xuY29uc3QgZGlmZiA9IHJlcXVpcmUoJ3RyaWNrcy9hcnJheS9kaWZmJyk7XG5jb25zdCBleHRlbmQgPSByZXF1aXJlKCd0cmlja3Mvb2JqZWN0L2V4dGVuZCcpO1xuY29uc3QgZ2xvYmFsQ2FsbGJhY2sgPSByZXF1aXJlKCd0cmlja3MvZXZlbnRzL2dsb2JhbENhbGxiYWNrJyk7XG5jb25zdCBpZnJhbWUgPSByZXF1aXJlKCd0cmlja3MvZG9tL2hpZGRlbkZyYW1lJyk7XG5jb25zdCBpc0VtcHR5ID0gcmVxdWlyZSgndHJpY2tzL29iamVjdC9pc0VtcHR5Jyk7XG5jb25zdCBtZXJnZSA9IHJlcXVpcmUoJ3RyaWNrcy9vYmplY3QvbWVyZ2UnKTtcbmNvbnN0IHBhcmFtID0gcmVxdWlyZSgndHJpY2tzL3N0cmluZy9xdWVyeXBhcnNlJyk7XG5jb25zdCBwb3B1cCA9IHJlcXVpcmUoJ3RyaWNrcy93aW5kb3cvcG9wdXAnKTtcbmNvbnN0IHB1YnN1YiA9IHJlcXVpcmUoJ3RyaWNrcy9vYmplY3QvcHVic3ViJyk7XG5jb25zdCByYW5kb20gPSByZXF1aXJlKCd0cmlja3Mvc3RyaW5nL3JhbmRvbScpO1xuY29uc3QgcmVxdWVzdCA9IHJlcXVpcmUoJ3RyaWNrcy9odHRwL3JlcXVlc3QnKTtcbmNvbnN0IHN0b3JlID0gcmVxdWlyZSgndHJpY2tzL2Jyb3dzZXIvYWdlbnQvbG9jYWxTdG9yYWdlJyk7XG5jb25zdCB1bmlxdWUgPSByZXF1aXJlKCd0cmlja3MvYXJyYXkvdW5pcXVlJyk7XG5jb25zdCBVcmwgPSByZXF1aXJlKCd0cmlja3Mvd2luZG93L3VybCcpO1xuXG5jb25zdCBoZWxsbyA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0cmV0dXJuIGhlbGxvLnVzZShuYW1lKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gaGVsbG87XG5cbmV4dGVuZChoZWxsbywge1xuXG5cdHNldHRpbmdzOiB7XG5cblx0XHQvLyBPQXV0aDIgYXV0aGVudGljYXRpb24gZGVmYXVsdHNcblx0XHRyZWRpcmVjdF91cmk6ICh0eXBlb2YgbG9jYXRpb24gIT09ICd1bmRlZmluZWQnID8gbG9jYXRpb24uaHJlZi5zcGxpdCgnIycpWzBdIDogbnVsbCksXG5cdFx0cmVzcG9uc2VfdHlwZTogJ3Rva2VuJyxcblx0XHRkaXNwbGF5OiAncG9wdXAnLFxuXHRcdHN0YXRlOiAnJyxcblxuXHRcdC8vIE9BdXRoMSBzaGltXG5cdFx0Ly8gVGhlIHBhdGggdG8gdGhlIE9BdXRoMSBzZXJ2ZXIgZm9yIHNpZ25pbmcgdXNlciByZXF1ZXN0c1xuXHRcdC8vIFdhbnQgdG8gcmVjcmVhdGUgeW91ciBvd24/IENoZWNrb3V0IGh0dHBzOi8vZ2l0aHViLmNvbS9NclN3aXRjaC9ub2RlLW9hdXRoLXNoaW1cblx0XHRvYXV0aF9wcm94eTogJ2h0dHBzOi8vYXV0aC1zZXJ2ZXIuaGVyb2t1YXBwLmNvbS9wcm94eScsXG5cblx0XHQvLyBBUEkgdGltZW91dCBpbiBtaWxsaXNlY29uZHNcblx0XHR0aW1lb3V0OiAyMDAwMCxcblxuXHRcdC8vIFBvcHVwIE9wdGlvbnNcblx0XHRwb3B1cDoge1xuXHRcdFx0cmVzaXphYmxlOiAxLFxuXHRcdFx0c2Nyb2xsYmFyczogMSxcblx0XHRcdHdpZHRoOiA1MDAsXG5cdFx0XHRoZWlnaHQ6IDU1MFxuXHRcdH0sXG5cblx0XHQvLyBEZWZhdWx0IHNjb3BlXG5cdFx0Ly8gTWFueSBzZXJ2aWNlcyByZXF1aXJlIGF0bGVhc3QgYSBwcm9maWxlIHNjb3BlLFxuXHRcdC8vIEhlbGxvSlMgYXV0b21hdGlhbGx5IGluY2x1ZGVzIHRoZSB2YWx1ZSBvZiBwcm92aWRlci5zY29wZV9tYXAuYmFzaWNcblx0XHQvLyBJZiB0aGF0J3Mgbm90IHJlcXVpcmVkIGl0IGNhbiBiZSByZW1vdmVkIHZpYSBoZWxsby5zZXR0aW5ncy5zY29wZS5sZW5ndGggPSAwO1xuXHRcdHNjb3BlOiBbJ2Jhc2ljJ10sXG5cblx0XHQvLyBTY29wZSBNYXBzXG5cdFx0Ly8gVGhpcyBpcyB0aGUgZGVmYXVsdCBtb2R1bGUgc2NvcGUsIHRoZXNlIGFyZSB0aGUgZGVmYXVsdHMgd2hpY2ggZWFjaCBzZXJ2aWNlIGlzIG1hcHBlZCB0b28uXG5cdFx0Ly8gQnkgaW5jbHVkaW5nIHRoZW0gaGVyZSBpdCBwcmV2ZW50cyB0aGUgc2NvcGUgZnJvbSBiZWluZyBhcHBsaWVkIGFjY2lkZW50YWxseVxuXHRcdHNjb3BlX21hcDoge1xuXHRcdFx0YmFzaWM6ICcnXG5cdFx0fSxcblxuXHRcdC8vIERlZmF1bHQgc2VydmljZSAvIG5ldHdvcmtcblx0XHRkZWZhdWx0X3NlcnZpY2U6IG51bGwsXG5cblx0XHQvLyBGb3JjZSBhdXRoZW50aWNhdGlvblxuXHRcdC8vIFdoZW4gaGVsbG8ubG9naW4gaXMgZmlyZWQuXG5cdFx0Ly8gKG51bGwpOiBpZ25vcmUgY3VycmVudCBzZXNzaW9uIGV4cGlyeSBhbmQgY29udGludWUgd2l0aCBsb2dpblxuXHRcdC8vICh0cnVlKTogaWdub3JlIGN1cnJlbnQgc2Vzc2lvbiBleHBpcnkgYW5kIGNvbnRpbnVlIHdpdGggbG9naW4sIGFzayBmb3IgdXNlciB0byByZWF1dGhlbnRpY2F0ZVxuXHRcdC8vIChmYWxzZSk6IGlmIHRoZSBjdXJyZW50IHNlc3Npb24gbG9va3MgZ29vZCBmb3IgdGhlIHJlcXVlc3Qgc2NvcGVzIHJldHVybiB0aGUgY3VycmVudCBzZXNzaW9uLlxuXHRcdGZvcmNlOiBudWxsLFxuXG5cdFx0Ly8gUGFnZSBVUkxcblx0XHQvLyBXaGVuICdkaXNwbGF5PXBhZ2UnIHRoaXMgcHJvcGVydHkgZGVmaW5lcyB3aGVyZSB0aGUgdXNlcnMgcGFnZSBzaG91bGQgZW5kIHVwIGFmdGVyIHJlZGlyZWN0X3VyaVxuXHRcdC8vIFRocyBjb3VsZCBiZSBwcm9ibGVtYXRpYyBpZiB0aGUgcmVkaXJlY3RfdXJpIGlzIGluZGVlZCB0aGUgZmluYWwgcGxhY2UsXG5cdFx0Ly8gVHlwaWNhbGx5IHRoaXMgY2lyY3VtdmVudHMgdGhlIHByb2JsZW0gb2YgdGhlIHJlZGlyZWN0X3VybCBiZWluZyBhIGR1bWIgcmVsYXkgcGFnZS5cblx0XHRwYWdlX3VyaTogKHR5cGVvZiBsb2NhdGlvbiAhPT0gJ3VuZGVmaW5lZCcgPyBsb2NhdGlvbi5ocmVmIDogbnVsbClcblx0fSxcblxuXHQvLyBTZXJ2aWNlIGNvbmZpZ3VyYXRpb24gb2JqZWN0c1xuXHRzZXJ2aWNlczoge30sXG5cblx0Ly8gVXNlXG5cdC8vIERlZmluZSBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgSGVsbG9KUyBsaWJyYXJ5IHdpdGggYSBkZWZhdWx0IHNlcnZpY2Vcblx0dXNlKHNlcnZpY2UpIHtcblxuXHRcdC8vIENyZWF0ZSBzZWxmLCB3aGljaCBpbmhlcml0cyBmcm9tIGl0cyBwYXJlbnRcblx0XHRjb25zdCBzZWxmID0gT2JqZWN0LmNyZWF0ZSh0aGlzKTtcblxuXHRcdC8vIEluaGVyaXQgdGhlIHByb3RvdHlwZSBmcm9tIGl0cyBwYXJlbnRcblx0XHRzZWxmLnNldHRpbmdzID0gT2JqZWN0LmNyZWF0ZSh0aGlzLnNldHRpbmdzKTtcblxuXHRcdC8vIERlZmluZSB0aGUgZGVmYXVsdCBzZXJ2aWNlXG5cdFx0aWYgKHNlcnZpY2UpIHtcblx0XHRcdHNlbGYuc2V0dGluZ3MuZGVmYXVsdF9zZXJ2aWNlID0gc2VydmljZTtcblx0XHR9XG5cblx0XHQvLyBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgRXZlbnRzXG5cdFx0cHVic3ViLmNhbGwoc2VsZik7XG5cblx0XHRyZXR1cm4gc2VsZjtcblx0fSxcblxuXHQvLyBJbml0aWFsaXplXG5cdC8vIERlZmluZSB0aGUgY2xpZW50X2lkcyBmb3IgdGhlIGVuZHBvaW50IHNlcnZpY2VzXG5cdC8vIEBwYXJhbSBvYmplY3QgbywgY29udGFpbnMgYSBrZXkgdmFsdWUgcGFpciwgc2VydmljZSA9PiBjbGllbnRJZFxuXHQvLyBAcGFyYW0gb2JqZWN0IG9wdHMsIGNvbnRhaW5zIGEga2V5IHZhbHVlIHBhaXIgb2Ygb3B0aW9ucyB1c2VkIGZvciBkZWZpbmluZyB0aGUgYXV0aGVudGljYXRpb24gZGVmYXVsdHNcblx0Ly8gQHBhcmFtIG51bWJlciB0aW1lb3V0LCB0aW1lb3V0IGluIHNlY29uZHNcblx0aW5pdChzZXJ2aWNlcywgb3B0aW9ucykge1xuXG5cdFx0aWYgKCFzZXJ2aWNlcykge1xuXHRcdFx0cmV0dXJuIHRoaXMuc2VydmljZXM7XG5cdFx0fVxuXG5cdFx0Ly8gRGVmaW5lIHByb3ZpZGVyIGNyZWRlbnRpYWxzXG5cdFx0Ly8gUmVmb3JtYXQgdGhlIElEIGZpZWxkXG5cdFx0Zm9yIChjb25zdCB4IGluIHNlcnZpY2VzKSB7XG5cdFx0XHRpZiAoc2VydmljZXMuaGFzT3duUHJvcGVydHkoeCkpIHtcblx0XHRcdFx0aWYgKHR5cGVvZiAoc2VydmljZXNbeF0pICE9PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRcdHNlcnZpY2VzW3hdID0ge2lkOiBzZXJ2aWNlc1t4XX07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBNZXJnZSBzZXJ2aWNlcyBpZiB0aGVyZSBhbHJlYWR5IGV4aXN0cyBzb21lXG5cdFx0ZXh0ZW5kKHRoaXMuc2VydmljZXMsIHNlcnZpY2VzKTtcblxuXHRcdC8vIFVwZGF0ZSB0aGUgZGVmYXVsdCBzZXR0aW5ncyB3aXRoIHRoaXMgb25lLlxuXHRcdGlmIChvcHRpb25zKSB7XG5cdFx0XHRleHRlbmQodGhpcy5zZXR0aW5ncywgb3B0aW9ucyk7XG5cblx0XHRcdC8vIERvIHRoaXMgaW1tZWRpYXRseSBpbmNhc2UgdGhlIGJyb3dzZXIgY2hhbmdlcyB0aGUgY3VycmVudCBwYXRoLlxuXHRcdFx0aWYgKCdyZWRpcmVjdF91cmknIGluIG9wdGlvbnMpIHtcblx0XHRcdFx0dGhpcy5zZXR0aW5ncy5yZWRpcmVjdF91cmkgPSBVcmwob3B0aW9ucy5yZWRpcmVjdF91cmkpLmhyZWY7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Ly8gTG9naW5cblx0Ly8gVXNpbmcgdGhlIGVuZHBvaW50XG5cdC8vIEBwYXJhbSBuZXR3b3JrIHN0cmluZ2lmeSAgICAgICBuYW1lIHRvIGNvbm5lY3QgdG9cblx0Ly8gQHBhcmFtIG9wdGlvbnMgb2JqZWN0ICAgIChvcHRpb25hbCkgIHtkaXNwbGF5IG1vZGUsIGlzIGVpdGhlciBub25lfHBvcHVwKGRlZmF1bHQpfHBhZ2UsIHNjb3BlOiBlbWFpbCxiaXJ0aGRheSxwdWJsaXNoLCAuLiB9XG5cdC8vIEBwYXJhbSBjYWxsYmFjayAgZnVuY3Rpb24gIChvcHRpb25hbCkgIGZpcmVkIG9uIHNpZ25pblxuXHRhc3luYyBsb2dpbiguLi5hcmdzKSB7XG5cblx0XHRjb25zdCB1dGlscyA9IHRoaXMudXRpbHM7XG5cdFx0Ly8gR2V0IHBhcmFtZXRlcnNcblx0XHRjb25zdCBwID0gYXJnbWFwKHtuZXR3b3JrOiAncycsIG9wdGlvbnM6ICdvJywgY2FsbGJhY2s6ICdmJ30sIGFyZ3MpO1xuXG5cdFx0Ly8gTG9jYWwgdmFyc1xuXHRcdGxldCB1cmw7XG5cblx0XHQvLyBHZXQgYWxsIHRoZSBjdXN0b20gb3B0aW9ucyBhbmQgc3RvcmUgdG8gYmUgYXBwZW5kZWQgdG8gdGhlIHF1ZXJ5c3RyaW5nXG5cdFx0Y29uc3QgcXMgPSBkaWZmS2V5KHAub3B0aW9ucywgdGhpcy5zZXR0aW5ncyk7XG5cblx0XHQvLyBNZXJnZS9vdmVycmlkZSBvcHRpb25zIHdpdGggYXBwIGRlZmF1bHRzXG5cdFx0Y29uc3Qgb3B0cyA9IHAub3B0aW9ucyA9IG1lcmdlKHRoaXMuc2V0dGluZ3MsIHAub3B0aW9ucyB8fCB7fSk7XG5cblx0XHQvLyBNZXJnZS9vdmVycmlkZSBvcHRpb25zIHdpdGggYXBwIGRlZmF1bHRzXG5cdFx0b3B0cy5wb3B1cCA9IG1lcmdlKHRoaXMuc2V0dGluZ3MucG9wdXAsIHAub3B0aW9ucy5wb3B1cCB8fCB7fSk7XG5cblx0XHQvLyBOZXR3b3JrXG5cdFx0cC5uZXR3b3JrID0gcC5uZXR3b3JrIHx8IHRoaXMuc2V0dGluZ3MuZGVmYXVsdF9zZXJ2aWNlO1xuXG5cdFx0Ly8gSXMgb3VyIHNlcnZpY2UgdmFsaWQ/XG5cdFx0aWYgKHR5cGVvZiAocC5uZXR3b3JrKSAhPT0gJ3N0cmluZycgfHwgIShwLm5ldHdvcmsgaW4gdGhpcy5zZXJ2aWNlcykpIHtcblx0XHRcdC8vIFRyaWdnZXIgdGhlIGRlZmF1bHQgbG9naW4uXG5cdFx0XHQvLyBBaGggd2UgZG9udCBoYXZlIG9uZS5cblx0XHRcdHRocm93IGVycm9yKCdpbnZhbGlkX25ldHdvcmsnLCAnVGhlIHByb3ZpZGVkIG5ldHdvcmsgd2FzIG5vdCByZWNvZ25pemVkJyk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgcHJvdmlkZXIgPSB0aGlzLnNlcnZpY2VzW3AubmV0d29ya107XG5cblx0XHQvLyBDcmVhdGUgYSBnbG9iYWwgbGlzdGVuZXIgdG8gY2FwdHVyZSBldmVudHMgdHJpZ2dlcmVkIG91dCBvZiBzY29wZVxuXHRcdGNvbnN0IGNhbGxiYWNrSWQgPSBgX2hlbGxvanNfJHtyYW5kb20oKX1gO1xuXG5cdFx0Y29uc3QgcHJzID0gW107XG5cblx0XHRwcnMucHVzaChuZXcgUHJvbWlzZSgoYWNjZXB0LCByZWplY3QpID0+IHtcblx0XHRcdGdsb2JhbENhbGxiYWNrKHN0ciA9PiB7XG5cblx0XHRcdFx0Ly8gVGhlIHJlc3BvbnNlSGFuZGxlciByZXR1cm5zIGEgc3RyaW5nLCBsZXRzIHNhdmUgdGhpcyBsb2NhbGx5XG5cdFx0XHRcdGxldCBvYmo7XG5cblx0XHRcdFx0aWYgKHN0cikge1xuXHRcdFx0XHRcdG9iaiA9IEpTT04ucGFyc2Uoc3RyKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRvYmogPSBlcnJvcignY2FuY2VsbGVkJywgJ1RoZSBhdXRoZW50aWNhdGlvbiB3YXMgbm90IGNvbXBsZXRlZCcpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gSGFuZGxlIHRoZXNlIHJlc3BvbnNlIHVzaW5nIHRoZSBsb2NhbFxuXHRcdFx0XHQvLyBUcmlnZ2VyIG9uIHRoZSBwYXJlbnRcblx0XHRcdFx0aWYgKCFvYmouZXJyb3IpIHtcblxuXHRcdFx0XHRcdC8vIFNhdmUgb24gdGhlIHBhcmVudCB3aW5kb3cgdGhlIG5ldyBjcmVkZW50aWFsc1xuXHRcdFx0XHRcdC8vIFRoaXMgZml4ZXMgYW4gSUUxMCBidWcgaSB0aGluay4uLiBhdGxlYXN0IGl0IGRvZXMgZm9yIG1lLlxuXHRcdFx0XHRcdHV0aWxzLnN0b3JlKG9iai5uZXR3b3JrLCBvYmopO1xuXG5cdFx0XHRcdFx0Ly8gRnVsZmlsbCBhIHN1Y2Nlc3NmdWwgbG9naW5cblx0XHRcdFx0XHRhY2NlcHQoe1xuXHRcdFx0XHRcdFx0bmV0d29yazogb2JqLm5ldHdvcmssXG5cdFx0XHRcdFx0XHRhdXRoUmVzcG9uc2U6IG9ialxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdC8vIFJlamVjdCBhIHN1Y2Nlc3NmdWwgbG9naW5cblx0XHRcdFx0XHRyZWplY3Qob2JqKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgY2FsbGJhY2tJZCk7XG5cdFx0fSkpO1xuXG5cdFx0Y29uc3QgcmVkaXJlY3RVcmkgPSBVcmwob3B0cy5yZWRpcmVjdF91cmkpLmhyZWY7XG5cblx0XHQvLyBNYXkgYmUgYSBzcGFjZS1kZWxpbWl0ZWQgbGlzdCBvZiBtdWx0aXBsZSwgY29tcGxlbWVudGFyeSB0eXBlc1xuXHRcdGxldCByZXNwb25zZVR5cGUgPSBwcm92aWRlci5vYXV0aC5yZXNwb25zZV90eXBlIHx8IG9wdHMucmVzcG9uc2VfdHlwZTtcblxuXHRcdC8vIEZhbGxiYWNrIHRvIHRva2VuIGlmIHRoZSBtb2R1bGUgaGFzbid0IGRlZmluZWQgYSBncmFudCB1cmxcblx0XHRpZiAoL1xcYmNvZGVcXGIvLnRlc3QocmVzcG9uc2VUeXBlKSAmJiAhcHJvdmlkZXIub2F1dGguZ3JhbnQpIHtcblx0XHRcdHJlc3BvbnNlVHlwZSA9IHJlc3BvbnNlVHlwZS5yZXBsYWNlKC9cXGJjb2RlXFxiLywgJ3Rva2VuJyk7XG5cdFx0fVxuXG5cdFx0Ly8gUXVlcnkgc3RyaW5nIHBhcmFtZXRlcnMsIHdlIG1heSBwYXNzIG91ciBvd24gYXJndW1lbnRzIHRvIGZvcm0gdGhlIHF1ZXJ5c3RyaW5nXG5cdFx0cC5xcyA9IG1lcmdlKHFzLCB7XG5cdFx0XHRjbGllbnRfaWQ6IGVuY29kZVVSSUNvbXBvbmVudChwcm92aWRlci5pZCksXG5cdFx0XHRyZXNwb25zZV90eXBlOiBlbmNvZGVVUklDb21wb25lbnQocmVzcG9uc2VUeXBlKSxcblx0XHRcdHJlZGlyZWN0X3VyaTogZW5jb2RlVVJJQ29tcG9uZW50KHJlZGlyZWN0VXJpKSxcblx0XHRcdHN0YXRlOiB7XG5cdFx0XHRcdGNsaWVudF9pZDogcHJvdmlkZXIuaWQsXG5cdFx0XHRcdG5ldHdvcms6IHAubmV0d29yayxcblx0XHRcdFx0ZGlzcGxheTogb3B0cy5kaXNwbGF5LFxuXHRcdFx0XHRjYWxsYmFjazogY2FsbGJhY2tJZCxcblx0XHRcdFx0c3RhdGU6IG9wdHMuc3RhdGUsXG5cdFx0XHRcdHJlZGlyZWN0X3VyaTogcmVkaXJlY3RVcmlcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIEdldCBjdXJyZW50IHNlc3Npb24gZm9yIG1lcmdpbmcgc2NvcGVzLCBhbmQgZm9yIHF1aWNrIGF1dGggcmVzcG9uc2Vcblx0XHRjb25zdCBzZXNzaW9uID0gdXRpbHMuc3RvcmUocC5uZXR3b3JrKTtcblxuXHRcdC8vIFNjb3BlcyAoYXV0aGVudGljYXRpb24gcGVybWlzaW9ucylcblx0XHQvLyBFbnN1cmUgdGhpcyBpcyBhIHN0cmluZyAtIElFIGhhcyBhIHByb2JsZW0gbW92aW5nIEFycmF5cyBiZXR3ZWVuIHdpbmRvd3Ncblx0XHQvLyBBcHBlbmQgdGhlIHNldHVwIHNjb3BlXG5cdFx0Y29uc3QgU0NPUEVfU1BMSVQgPSAvWyxcXHNdKy87XG5cblx0XHQvLyBJbmNsdWRlIGRlZmF1bHQgc2NvcGUgc2V0dGluZ3MgKGNsb25lZCkuXG5cdFx0bGV0IHNjb3BlID0gdGhpcy5zZXR0aW5ncy5zY29wZSA/IFt0aGlzLnNldHRpbmdzLnNjb3BlLnRvU3RyaW5nKCldIDogW107XG5cblx0XHQvLyBFeHRlbmQgdGhlIHByb3ZpZGVycyBzY29wZSBsaXN0IHdpdGggdGhlIGRlZmF1bHRcblx0XHRjb25zdCBzY29wZU1hcCA9IG1lcmdlKHRoaXMuc2V0dGluZ3Muc2NvcGVfbWFwLCBwcm92aWRlci5zY29wZSB8fCB7fSk7XG5cblx0XHQvLyBBZGQgdXNlciBkZWZpbmVkIHNjb3Blcy4uLlxuXHRcdGlmIChvcHRzLnNjb3BlKSB7XG5cdFx0XHRzY29wZS5wdXNoKG9wdHMuc2NvcGUudG9TdHJpbmcoKSk7XG5cdFx0fVxuXG5cdFx0Ly8gQXBwZW5kIHNjb3BlcyBmcm9tIGEgcHJldmlvdXMgc2Vzc2lvbi5cblx0XHQvLyBUaGlzIGhlbHBzIGtlZXAgYXBwIGNyZWRlbnRpYWxzIGNvbnN0YW50LFxuXHRcdC8vIEF2b2lkaW5nIGhhdmluZyB0byBrZWVwIHRhYnMgb24gd2hhdCBzY29wZXMgYXJlIGF1dGhvcml6ZWRcblx0XHRpZiAoc2Vzc2lvbiAmJiAnc2NvcGUnIGluIHNlc3Npb24gJiYgc2Vzc2lvbi5zY29wZSBpbnN0YW5jZW9mIFN0cmluZykge1xuXHRcdFx0c2NvcGUucHVzaChzZXNzaW9uLnNjb3BlKTtcblx0XHR9XG5cblx0XHQvLyBKb2luIGFuZCBTcGxpdCBhZ2FpblxuXHRcdHNjb3BlID0gc2NvcGUuam9pbignLCcpLnNwbGl0KFNDT1BFX1NQTElUKTtcblxuXHRcdC8vIEZvcm1hdCByZW1vdmUgZHVwbGljYXRlcyBhbmQgZW1wdHkgdmFsdWVzXG5cdFx0c2NvcGUgPSB1bmlxdWUoc2NvcGUpLmZpbHRlcihmaWx0ZXJFbXB0eSk7XG5cblx0XHQvLyBTYXZlIHRoZSB0aGUgc2NvcGVzIHRvIHRoZSBzdGF0ZSB3aXRoIHRoZSBuYW1lcyB0aGF0IHRoZXkgd2VyZSByZXF1ZXN0ZWQgd2l0aC5cblx0XHRwLnFzLnN0YXRlLnNjb3BlID0gc2NvcGUuam9pbignLCcpO1xuXG5cdFx0Ly8gTWFwIHNjb3BlcyB0byB0aGUgcHJvdmlkZXJzIG5hbWluZyBjb252ZW50aW9uXG5cdFx0Ly8gRG9lcyB0aGlzIGhhdmUgYSBtYXBwaW5nP1xuXHRcdHNjb3BlID0gc2NvcGUubWFwKGl0ZW0gPT4gKChpdGVtIGluIHNjb3BlTWFwKSA/IHNjb3BlTWFwW2l0ZW1dIDogaXRlbSkpO1xuXG5cdFx0Ly8gU3RyaW5naWZ5IGFuZCBBcnJheWlmeSBzbyB0aGF0IGRvdWJsZSBtYXBwZWQgc2NvcGVzIGFyZSBnaXZlbiB0aGUgY2hhbmNlIHRvIGJlIGZvcm1hdHRlZFxuXHRcdHNjb3BlID0gc2NvcGUuam9pbignLCcpLnNwbGl0KFNDT1BFX1NQTElUKTtcblxuXHRcdC8vIEFnYWluLi4uXG5cdFx0Ly8gRm9ybWF0IHJlbW92ZSBkdXBsaWNhdGVzIGFuZCBlbXB0eSB2YWx1ZXNcblx0XHRzY29wZSA9IHVuaXF1ZShzY29wZSkuZmlsdGVyKGZpbHRlckVtcHR5KTtcblxuXHRcdC8vIEpvaW4gd2l0aCB0aGUgZXhwZWN0ZWQgc2NvcGUgZGVsaW1pdGVyIGludG8gYSBzdHJpbmdcblx0XHRwLnFzLnNjb3BlID0gc2NvcGUuam9pbihwcm92aWRlci5zY29wZV9kZWxpbSB8fCAnLCcpO1xuXG5cdFx0Ly8gSXMgdGhlIHVzZXIgYWxyZWFkeSBzaWduZWQgaW4gd2l0aCB0aGUgYXBwcm9wcmlhdGUgc2NvcGVzLCB2YWxpZCBhY2Nlc3NfdG9rZW4/XG5cdFx0aWYgKG9wdHMuZm9yY2UgPT09IGZhbHNlKSB7XG5cblx0XHRcdGlmIChzZXNzaW9uICYmICdhY2Nlc3NfdG9rZW4nIGluIHNlc3Npb24gJiYgc2Vzc2lvbi5hY2Nlc3NfdG9rZW4gJiYgJ2V4cGlyZXMnIGluIHNlc3Npb24gJiYgc2Vzc2lvbi5leHBpcmVzID4gKChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgLyAxZTMpKSB7XG5cdFx0XHRcdC8vIFdoYXQgaXMgZGlmZmVyZW50IGFib3V0IHRoZSBzY29wZXMgaW4gdGhlIHNlc3Npb24gdnMgdGhlIHNjb3BlcyBpbiB0aGUgbmV3IGxvZ2luP1xuXHRcdFx0XHRjb25zdCBhID0gZGlmZigoc2Vzc2lvbi5zY29wZSB8fCAnJykuc3BsaXQoU0NPUEVfU1BMSVQpLCAocC5xcy5zdGF0ZS5zY29wZSB8fCAnJykuc3BsaXQoU0NPUEVfU1BMSVQpKTtcblx0XHRcdFx0aWYgKGEubGVuZ3RoID09PSAwKSB7XG5cblx0XHRcdFx0XHQvLyBPSyB0cmlnZ2VyIHRoZSBjYWxsYmFja1xuXHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHR1bmNoYW5nZWQ6IHRydWUsXG5cdFx0XHRcdFx0XHRuZXR3b3JrOiBwLm5ldHdvcmssXG5cdFx0XHRcdFx0XHRhdXRoUmVzcG9uc2U6IHNlc3Npb25cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUGFnZSBVUkxcblx0XHRpZiAob3B0cy5kaXNwbGF5ID09PSAncGFnZScgJiYgb3B0cy5wYWdlX3VyaSkge1xuXHRcdFx0Ly8gQWRkIGEgcGFnZSBsb2NhdGlvbiwgcGxhY2UgdG8gZW5kdXAgYWZ0ZXIgc2Vzc2lvbiBoYXMgYXV0aGVudGljYXRlZFxuXHRcdFx0cC5xcy5zdGF0ZS5wYWdlX3VyaSA9IFVybChvcHRzLnBhZ2VfdXJpKS5ocmVmO1xuXHRcdH1cblxuXHRcdC8vIEJlc3Bva2Vcblx0XHQvLyBPdmVycmlkZSBsb2dpbiBxdWVyeXN0cmluZ3MgZnJvbSBhdXRoX29wdGlvbnNcblx0XHRpZiAoJ2xvZ2luJyBpbiBwcm92aWRlciAmJiB0eXBlb2YgKHByb3ZpZGVyLmxvZ2luKSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0Ly8gRm9ybWF0IHRoZSBwYXJhbWF0ZXJzIGFjY29yZGluZyB0byB0aGUgcHJvdmlkZXJzIGZvcm1hdHRpbmcgZnVuY3Rpb25cblx0XHRcdHByb3ZpZGVyLmxvZ2luKHApO1xuXHRcdH1cblxuXHRcdC8vIEFkZCBPQXV0aCB0byBzdGF0ZVxuXHRcdC8vIFdoZXJlIHRoZSBzZXJ2aWNlIGlzIGdvaW5nIHRvIHRha2UgYWR2YW50YWdlIG9mIHRoZSBvYXV0aF9wcm94eVxuXHRcdGlmICghL1xcYnRva2VuXFxiLy50ZXN0KHJlc3BvbnNlVHlwZSkgfHxcblx0XHRwYXJzZUludChwcm92aWRlci5vYXV0aC52ZXJzaW9uLCAxMCkgPCAyIHx8XG5cdFx0KG9wdHMuZGlzcGxheSA9PT0gJ25vbmUnICYmIHByb3ZpZGVyLm9hdXRoLmdyYW50ICYmIHNlc3Npb24gJiYgc2Vzc2lvbi5yZWZyZXNoX3Rva2VuKSkge1xuXG5cdFx0XHQvLyBBZGQgdGhlIG9hdXRoIGVuZHBvaW50c1xuXHRcdFx0cC5xcy5zdGF0ZS5vYXV0aCA9IHByb3ZpZGVyLm9hdXRoO1xuXG5cdFx0XHQvLyBBZGQgdGhlIHByb3h5IHVybFxuXHRcdFx0cC5xcy5zdGF0ZS5vYXV0aF9wcm94eSA9IG9wdHMub2F1dGhfcHJveHk7XG5cblx0XHR9XG5cblx0XHQvLyBDb252ZXJ0IHN0YXRlIHRvIGEgc3RyaW5nXG5cdFx0cC5xcy5zdGF0ZSA9IGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShwLnFzLnN0YXRlKSk7XG5cblx0XHQvLyBVUkxcblx0XHRpZiAocGFyc2VJbnQocHJvdmlkZXIub2F1dGgudmVyc2lvbiwgMTApID09PSAxKSB7XG5cblx0XHRcdC8vIFR1cm4gdGhlIHJlcXVlc3QgdG8gdGhlIE9BdXRoIFByb3h5IGZvciAzLWxlZ2dlZCBhdXRoXG5cdFx0XHR1cmwgPSBjcmVhdGVVcmwob3B0cy5vYXV0aF9wcm94eSwgcC5xcywgZW5jb2RlRnVuY3Rpb24pO1xuXHRcdH1cblxuXHRcdC8vIFJlZnJlc2ggdG9rZW5cblx0XHRlbHNlIGlmIChvcHRzLmRpc3BsYXkgPT09ICdub25lJyAmJiBwcm92aWRlci5vYXV0aC5ncmFudCAmJiBzZXNzaW9uICYmIHNlc3Npb24ucmVmcmVzaF90b2tlbikge1xuXG5cdFx0XHQvLyBBZGQgdGhlIHJlZnJlc2hfdG9rZW4gdG8gdGhlIHJlcXVlc3Rcblx0XHRcdHAucXMucmVmcmVzaF90b2tlbiA9IHNlc3Npb24ucmVmcmVzaF90b2tlbjtcblxuXHRcdFx0Ly8gRGVmaW5lIHRoZSByZXF1ZXN0IHBhdGhcblx0XHRcdHVybCA9IGNyZWF0ZVVybChvcHRzLm9hdXRoX3Byb3h5LCBwLnFzLCBlbmNvZGVGdW5jdGlvbik7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0dXJsID0gY3JlYXRlVXJsKHByb3ZpZGVyLm9hdXRoLmF1dGgsIHAucXMsIGVuY29kZUZ1bmN0aW9uKTtcblx0XHR9XG5cblx0XHQvLyBCcm9hZGNhc3QgdGhpcyBldmVudCBhcyBhbiBhdXRoOmluaXRcblx0XHRlbWl0KCdhdXRoLmluaXQnLCBwKTtcblxuXHRcdC8vIEV4ZWN1dGVcblx0XHQvLyBUcmlnZ2VyIGhvdyB3ZSB3YW50IHNlbGYgZGlzcGxheWVkXG5cdFx0aWYgKG9wdHMuZGlzcGxheSA9PT0gJ25vbmUnKSB7XG5cdFx0XHQvLyBTaWduLWluIGluIHRoZSBiYWNrZ3JvdW5kLCBpZnJhbWVcblx0XHRcdHV0aWxzLmlmcmFtZSh1cmwsIHJlZGlyZWN0VXJpKTtcblx0XHR9XG5cblx0XHQvLyBUcmlnZ2VyaW5nIHBvcHVwP1xuXHRcdGVsc2UgaWYgKG9wdHMuZGlzcGxheSA9PT0gJ3BvcHVwJykge1xuXG5cdFx0XHRjb25zdCB3aW4gPSB1dGlscy5wb3B1cCh1cmwsIHJlZGlyZWN0VXJpLCBvcHRzLnBvcHVwKTtcblxuXHRcdFx0cHJzLnB1c2gobmV3IFByb21pc2UoKGFjY2VwdCwgcmVqZWN0KSA9PiB7XG5cblx0XHRcdFx0Y29uc3QgdGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG5cdFx0XHRcdFx0aWYgKCF3aW4gfHwgd2luLmNsb3NlZCkge1xuXHRcdFx0XHRcdFx0Y2xlYXJJbnRlcnZhbCh0aW1lcik7XG5cblx0XHRcdFx0XHRcdGxldCByZXNwb25zZSA9IGVycm9yKCdjYW5jZWxsZWQnLCAnTG9naW4gaGFzIGJlZW4gY2FuY2VsbGVkJyk7XG5cblx0XHRcdFx0XHRcdGlmICghcG9wdXApIHtcblx0XHRcdFx0XHRcdFx0cmVzcG9uc2UgPSBlcnJvcignYmxvY2tlZCcsICdQb3B1cCB3YXMgYmxvY2tlZCcpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRyZXNwb25zZS5uZXR3b3JrID0gcC5uZXR3b3JrO1xuXG5cdFx0XHRcdFx0XHRyZWplY3QocmVzcG9uc2UpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSwgMTAwKTtcblxuXHRcdFx0fSkpO1xuXHRcdH1cblxuXHRcdGVsc2Uge1xuXHRcdFx0d2luZG93LmxvY2F0aW9uID0gdXJsO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGVuY29kZUZ1bmN0aW9uKHMpIHtcblx0XHRcdHJldHVybiBzO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGZpbHRlckVtcHR5KHMpIHtcblx0XHRcdHJldHVybiAhIXM7XG5cdFx0fVxuXG5cdFx0Ly8gUmV0dXJuIHRoZSBmaXJzdCBzdWNjZXNzIG9yIGZhaWx1cmUuLi5cblx0XHRjb25zdCBwcm9taXNlID0gUHJvbWlzZS5yYWNlKHBycyk7XG5cblx0XHQvLyBCaW5kIGNhbGxiYWNrIHRvIGJvdGggcmVqZWN0IGFuZCBmdWxmaWxsIHN0YXRlc1xuXHRcdHByb21pc2UudGhlbihwLmNhbGxiYWNrLCBwLmNhbGxiYWNrKTtcblxuXHRcdC8vIFRyaWdnZXIgYW4gZXZlbnQgb24gdGhlIGdsb2JhbCBsaXN0ZW5lclxuXHRcdGZ1bmN0aW9uIGVtaXQocywgdmFsdWUpIHtcblx0XHRcdGhlbGxvLmVtaXQocywgdmFsdWUpO1xuXHRcdH1cblxuXHRcdHByb21pc2UudGhlbihlbWl0LmJpbmQodGhpcywgJ2F1dGgubG9naW4gYXV0aCcpLCBlbWl0LmJpbmQodGhpcywgJ2F1dGguZmFpbGVkIGF1dGgnKSk7XG5cblx0XHRyZXR1cm4gcHJvbWlzZTtcblx0fSxcblxuXHQvLyBSZW1vdmUgYW55IGRhdGEgYXNzb2NpYXRlZCB3aXRoIGEgZ2l2ZW4gc2VydmljZVxuXHQvLyBAcGFyYW0gc3RyaW5nIG5hbWUgb2YgdGhlIHNlcnZpY2Vcblx0Ly8gQHBhcmFtIGZ1bmN0aW9uIGNhbGxiYWNrXG5cdGFzeW5jIGxvZ291dCguLi5hcmdzKSB7XG5cblx0XHRjb25zdCB1dGlscyA9IHRoaXMudXRpbHM7XG5cblx0XHRjb25zdCBwID0gYXJnbWFwKHtuYW1lOiAncycsIG9wdGlvbnM6ICdvJywgY2FsbGJhY2s6ICdmJ30sIGFyZ3MpO1xuXG5cdFx0Y29uc3QgcHJzID0gW107XG5cblx0XHRwLm9wdGlvbnMgPSBwLm9wdGlvbnMgfHwge307XG5cblx0XHQvLyBOZXR3b3JrXG5cdFx0cC5uYW1lID0gcC5uYW1lIHx8IHRoaXMuc2V0dGluZ3MuZGVmYXVsdF9zZXJ2aWNlO1xuXHRcdHAuYXV0aFJlc3BvbnNlID0gdXRpbHMuc3RvcmUocC5uYW1lKTtcblxuXHRcdGlmIChwLm5hbWUgJiYgIShwLm5hbWUgaW4gdGhpcy5zZXJ2aWNlcykpIHtcblxuXHRcdFx0dGhyb3cgZXJyb3IoJ2ludmFsaWRfbmV0d29yaycsICdUaGUgbmV0d29yayB3YXMgdW5yZWNvZ25pemVkJyk7XG5cblx0XHR9XG5cdFx0ZWxzZSBpZiAocC5uYW1lICYmIHAuYXV0aFJlc3BvbnNlKSB7XG5cblx0XHRcdGNvbnN0IHByb21pc2VMb2dvdXQgPSBuZXcgUHJvbWlzZShhY2NlcHQgPT4ge1xuXHRcdFx0XHQvLyBSdW4gYW4gYXN5bmMgb3BlcmF0aW9uIHRvIHJlbW92ZSB0aGUgdXNlcnMgc2Vzc2lvblxuXHRcdFx0XHRjb25zdCBfb3B0cyA9IHt9O1xuXG5cdFx0XHRcdGlmIChwLm9wdGlvbnMuZm9yY2UpIHtcblx0XHRcdFx0XHRsZXQgbG9nb3V0ID0gdGhpcy5zZXJ2aWNlc1twLm5hbWVdLmxvZ291dDtcblx0XHRcdFx0XHRpZiAobG9nb3V0KSB7XG5cdFx0XHRcdFx0XHQvLyBDb252ZXJ0IGxvZ291dCB0byBVUkwgc3RyaW5nLFxuXHRcdFx0XHRcdFx0Ly8gSWYgbm8gc3RyaW5nIGlzIHJldHVybmVkLCB0aGVuIHRoaXMgZnVuY3Rpb24gd2lsbCBoYW5kbGUgdGhlIGxvZ291dCBhc3luYyBzdHlsZVxuXHRcdFx0XHRcdFx0aWYgKHR5cGVvZiAobG9nb3V0KSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0XHRsb2dvdXQgPSBsb2dvdXQoYWNjZXB0LCBwKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gSWYgbG9nb3V0IGlzIGEgc3RyaW5nIHRoZW4gYXNzdW1lIFVSTCBhbmQgb3BlbiBpbiBpZnJhbWUuXG5cdFx0XHRcdFx0XHRpZiAodHlwZW9mIChsb2dvdXQpID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHRcdFx0XHR1dGlscy5pZnJhbWUobG9nb3V0KTtcblx0XHRcdFx0XHRcdFx0X29wdHMuZm9yY2UgPSBudWxsO1xuXHRcdFx0XHRcdFx0XHRfb3B0cy5tZXNzYWdlID0gJ0xvZ291dCBzdWNjZXNzIG9uIHByb3ZpZGVycyBzaXRlIHdhcyBpbmRldGVybWluYXRlJztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGVsc2UgaWYgKGxvZ291dCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRcdC8vIFRoZSBjYWxsYmFjayBmdW5jdGlvbiB3aWxsIGhhbmRsZSB0aGUgcmVzcG9uc2UuXG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRhY2NlcHQoX29wdHMpO1xuXHRcdFx0fSlcblx0XHRcdFx0LnRoZW4ob3B0cyA9PiB7XG5cblx0XHRcdFx0XHQvLyBSZW1vdmUgZnJvbSB0aGUgc3RvcmVcblx0XHRcdFx0XHR1dGlscy5zdG9yZShwLm5hbWUsIG51bGwpO1xuXG5cdFx0XHRcdFx0Ly8gRW1pdCBldmVudHMgYnkgZGVmYXVsdFxuXHRcdFx0XHRcdHJldHVybiBtZXJnZSh7XG5cdFx0XHRcdFx0XHRuZXR3b3JrOiBwLm5hbWVcblx0XHRcdFx0XHR9LCBvcHRzIHx8IHt9KTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdHBycy5wdXNoKHByb21pc2VMb2dvdXQpO1xuXG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0dGhyb3cgZXJyb3IoJ2ludmFsaWRfc2Vzc2lvbicsICdUaGVyZSB3YXMgbm8gc2Vzc2lvbiB0byByZW1vdmUnKTtcblx0XHR9XG5cblx0XHQvLyBQcm9tc2Vcblx0XHRjb25zdCBwcm9taXNlID0gUHJvbWlzZS5yYWNlKHBycyk7XG5cblx0XHQvLyBBZGQgY2FsbGJhY2sgdG8gZXZlbnRzXG5cdFx0cHJvbWlzZS50aGVuKHAuY2FsbGJhY2ssIHAuY2FsbGJhY2spO1xuXG5cdFx0Ly8gVHJpZ2dlciBhbiBldmVudCBvbiB0aGUgZ2xvYmFsIGxpc3RlbmVyXG5cdFx0cHJvbWlzZS50aGVuKFxuXHRcdFx0dmFsdWUgPT4gaGVsbG8uZW1pdCgnYXV0aC5sb2dvdXQgYXV0aCcsIHZhbHVlKSxcblx0XHRcdGVyciA9PiBoZWxsby5lbWl0KCdlcnJvcicsIGVycilcblx0XHQpO1xuXG5cdFx0cmV0dXJuIHByb21pc2U7XG5cdH0sXG5cblx0Ly8gUmV0dXJucyBhbGwgdGhlIHNlc3Npb25zIHRoYXQgYXJlIHN1YnNjcmliZWQgdG9vXG5cdC8vIEBwYXJhbSBzdHJpbmcgb3B0aW9uYWwsIG5hbWUgb2YgdGhlIHNlcnZpY2UgdG8gZ2V0IGluZm9ybWF0aW9uIGFib3V0LlxuXHRnZXRBdXRoUmVzcG9uc2Uoc2VydmljZSkge1xuXG5cdFx0Ly8gSWYgdGhlIHNlcnZpY2UgZG9lc24ndCBleGlzdFxuXHRcdHNlcnZpY2UgPSBzZXJ2aWNlIHx8IHRoaXMuc2V0dGluZ3MuZGVmYXVsdF9zZXJ2aWNlO1xuXG5cdFx0aWYgKCFzZXJ2aWNlIHx8ICEoc2VydmljZSBpbiB0aGlzLnNlcnZpY2VzKSkge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMudXRpbHMuc3RvcmUoc2VydmljZSkgfHwgbnVsbDtcblx0fSxcblxuXHQvLyBFdmVudHM6IHBsYWNlaG9sZGVyIGZvciB0aGUgZXZlbnRzXG5cdGV2ZW50czoge31cbn0pO1xuXG5mdW5jdGlvbiBlcnJvcihjb2RlLCBtZXNzYWdlKSB7XG5cdHJldHVybiB7XG5cdFx0ZXJyb3I6IHtcblx0XHRcdGNvZGUsXG5cdFx0XHRtZXNzYWdlXG5cdFx0fVxuXHR9O1xufVxuXG5oZWxsby51dGlscyA9IHtcblx0aWZyYW1lLFxuXHRwb3B1cCxcblx0cmVxdWVzdCxcblx0c3RvcmVcbn07XG5cbi8vIENvcmUgdXRpbGl0aWVzXG5leHRlbmQoaGVsbG8udXRpbHMsIHtcblxuXHQvLyBPQXV0aCBhbmQgQVBJIHJlc3BvbnNlIGhhbmRsZXJcblx0cmVzcG9uc2VIYW5kbGVyKHdpbmRvdywgcGFyZW50KSB7XG5cdFx0Y29uc3QgdXRpbHMgPSB0aGlzO1xuXG5cdFx0bGV0IHA7XG5cdFx0Y29uc3QgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247XG5cblx0XHRjb25zdCByZWRpcmVjdCA9IChsb2NhdGlvbi5hc3NpZ24gJiYgbG9jYXRpb24uYXNzaWduLmJpbmQobG9jYXRpb24pKSB8fCAodXJsID0+IHtcblx0XHRcdHdpbmRvdy5sb2NhdGlvbiA9IHVybDtcblx0XHR9KTtcblxuXHRcdC8vIElzIHRoaXMgYW4gYXV0aCByZWxheSBtZXNzYWdlIHdoaWNoIG5lZWRzIHRvIGNhbGwgdGhlIHByb3h5P1xuXHRcdHAgPSBwYXJhbShsb2NhdGlvbi5zZWFyY2gpO1xuXG5cdFx0Ly8gT0F1dGgyIG9yIE9BdXRoMSBzZXJ2ZXIgcmVzcG9uc2U/XG5cdFx0aWYgKHAgJiYgcC5zdGF0ZSAmJiAocC5jb2RlIHx8IHAub2F1dGhfdG9rZW4pKSB7XG5cblx0XHRcdGNvbnN0IHN0YXRlID0gSlNPTi5wYXJzZShwLnN0YXRlKTtcblxuXHRcdFx0Ly8gQWRkIHRoaXMgcGF0aCBhcyB0aGUgcmVkaXJlY3RfdXJpXG5cdFx0XHRwLnJlZGlyZWN0X3VyaSA9IHN0YXRlLnJlZGlyZWN0X3VyaSB8fCBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoL1s/I10uKiQvLCAnJyk7XG5cblx0XHRcdC8vIFJlZGlyZWN0IHRvIHRoZSBob3N0XG5cdFx0XHRjb25zdCBwYXRoID0gYCR7c3RhdGUub2F1dGhfcHJveHl9PyR7cGFyYW0ocCl9YDtcblxuXHRcdFx0cmVkaXJlY3QocGF0aCk7XG5cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBTYXZlIHNlc3Npb24sIGZyb20gcmVkaXJlY3RlZCBhdXRoZW50aWNhdGlvblxuXHRcdC8vICNhY2Nlc3NfdG9rZW4gaGFzIGNvbWUgaW4/XG5cdFx0Ly9cblx0XHQvLyBGQUNFQk9PSyBpcyByZXR1cm5pbmcgYXV0aCBlcnJvcnMgd2l0aGluIGFzIGEgcXVlcnlfc3RyaW5nLi4uIHRoYXRzIGEgc3RpY2tsZXIgZm9yIGNvbnNpc3RlbmN5LlxuXHRcdC8vIFNvdW5kQ2xvdWQgaXMgdGhlIHN0YXRlIGluIHRoZSBxdWVyeXN0cmluZyBhbmQgdGhlIHRva2VuIGluIHRoZSBoYXNodGFnLCBzbyB3ZSdsbCBtaXggdGhlIHR3byB0b2dldGhlclxuXG5cdFx0cCA9IG1lcmdlKHBhcmFtKGxvY2F0aW9uLnNlYXJjaCB8fCAnJyksIHBhcmFtKGxvY2F0aW9uLmhhc2ggfHwgJycpKTtcblxuXHRcdC8vIElmIHAuc3RhdGVcblx0XHRpZiAocCAmJiAnc3RhdGUnIGluIHApIHtcblxuXHRcdFx0Ly8gUmVtb3ZlIGFueSBhZGRpdGlvbiBpbmZvcm1hdGlvblxuXHRcdFx0Ly8gRS5nLiBwLnN0YXRlID0gJ2ZhY2Vib29rLnBhZ2UnO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29uc3QgYSA9IEpTT04ucGFyc2UocC5zdGF0ZSk7XG5cdFx0XHRcdGV4dGVuZChwLCBhKTtcblx0XHRcdH1cblx0XHRcdGNhdGNoIChlKSB7XG5cdFx0XHRcdGhlbGxvLmVtaXQoJ2Vycm9yJywgJ0NvdWxkIG5vdCBkZWNvZGUgc3RhdGUgcGFyYW1ldGVyJyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFjY2Vzc190b2tlbj9cblx0XHRcdGlmICgoJ2FjY2Vzc190b2tlbicgaW4gcCAmJiBwLmFjY2Vzc190b2tlbikgJiYgcC5uZXR3b3JrKSB7XG5cblx0XHRcdFx0aWYgKCFwLmV4cGlyZXNfaW4gfHwgcGFyc2VJbnQocC5leHBpcmVzX2luLCAxMCkgPT09IDApIHtcblx0XHRcdFx0XHQvLyBJZiBwLmV4cGlyZXNfaW4gaXMgdW5zZXQsIHNldCB0byAwXG5cdFx0XHRcdFx0cC5leHBpcmVzX2luID0gMDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHAuZXhwaXJlc19pbiA9IHBhcnNlSW50KHAuZXhwaXJlc19pbiwgMTApO1xuXHRcdFx0XHRwLmV4cGlyZXMgPSAoKG5ldyBEYXRlKCkpLmdldFRpbWUoKSAvIDFlMykgKyAocC5leHBpcmVzX2luIHx8ICg2MCAqIDYwICogMjQgKiAzNjUpKTtcblxuXHRcdFx0XHQvLyBMZXRzIHVzZSB0aGUgXCJzdGF0ZVwiIHRvIGFzc2lnbiBpdCB0byBvbmUgb2Ygb3VyIG5ldHdvcmtzXG5cdFx0XHRcdGF1dGhDYWxsYmFjayhwLCB3aW5kb3csIHBhcmVudCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEVycm9yPT9cblx0XHRcdC8vICZlcnJvcl9kZXNjcmlwdGlvbj0/XG5cdFx0XHQvLyAmc3RhdGU9P1xuXHRcdFx0ZWxzZSBpZiAoKCdlcnJvcicgaW4gcCAmJiBwLmVycm9yKSAmJiBwLm5ldHdvcmspIHtcblxuXHRcdFx0XHRwLmVycm9yID0ge1xuXHRcdFx0XHRcdGNvZGU6IHAuZXJyb3IsXG5cdFx0XHRcdFx0bWVzc2FnZTogcC5lcnJvcl9tZXNzYWdlIHx8IHAuZXJyb3JfZGVzY3JpcHRpb25cblx0XHRcdFx0fTtcblxuXHRcdFx0XHQvLyBMZXQgdGhlIHN0YXRlIGhhbmRsZXIgaGFuZGxlIGl0XG5cdFx0XHRcdGF1dGhDYWxsYmFjayhwLCB3aW5kb3csIHBhcmVudCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFQSSBjYWxsLCBvciBhIGNhbmNlbGxlZCBsb2dpblxuXHRcdFx0Ly8gUmVzdWx0IGlzIHNlcmlhbGl6ZWQgSlNPTiBzdHJpbmdcblx0XHRcdGVsc2UgaWYgKHAuY2FsbGJhY2sgJiYgcC5jYWxsYmFjayBpbiBwYXJlbnQpIHtcblxuXHRcdFx0XHQvLyBUcmlnZ2VyIGEgZnVuY3Rpb24gaW4gdGhlIHBhcmVudFxuXHRcdFx0XHRjb25zdCByZXMgPSAncmVzdWx0JyBpbiBwICYmIHAucmVzdWx0ID8gSlNPTi5wYXJzZShwLnJlc3VsdCkgOiBmYWxzZTtcblxuXHRcdFx0XHQvLyBUcmlnZ2VyIHRoZSBjYWxsYmFjayBvbiB0aGUgcGFyZW50XG5cdFx0XHRcdGNhbGxiYWNrKHBhcmVudCwgcC5jYWxsYmFjaykocmVzKTtcblx0XHRcdFx0Y2xvc2VXaW5kb3cod2luZG93KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgdGhpcyBwYWdlIGlzIHN0aWxsIG9wZW5cblx0XHRcdGlmIChwLnBhZ2VfdXJpKSB7XG5cdFx0XHRcdHJlZGlyZWN0KHAucGFnZV91cmkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIE9BdXRoIHJlZGlyZWN0LCBmaXhlcyBVUkkgZnJhZ21lbnRzIGZyb20gYmVpbmcgbG9zdCBpbiBTYWZhcmlcblx0XHQvLyAoVVJJIEZyYWdtZW50cyB3aXRoaW4gMzAyIExvY2F0aW9uIFVSSSBhcmUgbG9zdCBvdmVyIEhUVFBTKVxuXHRcdC8vIExvYWRpbmcgdGhlIHJlZGlyZWN0Lmh0bWwgYmVmb3JlIHRyaWdnZXJpbmcgdGhlIE9BdXRoIEZsb3cgc2VlbXMgdG8gZml4IGl0LlxuXHRcdGVsc2UgaWYgKCdvYXV0aF9yZWRpcmVjdCcgaW4gcCkge1xuXG5cdFx0XHRyZWRpcmVjdChkZWNvZGVVUklDb21wb25lbnQocC5vYXV0aF9yZWRpcmVjdCkpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIFRyaWdnZXIgYSBjYWxsYmFjayB0byBhdXRoZW50aWNhdGVcblx0XHRmdW5jdGlvbiBhdXRoQ2FsbGJhY2sob2JqLCB3aW5kb3csIHBhcmVudCkge1xuXG5cdFx0XHRjb25zdCBjYiA9IG9iai5jYWxsYmFjaztcblx0XHRcdGNvbnN0IG5ldHdvcmsgPSBvYmoubmV0d29yaztcblxuXHRcdFx0Ly8gVHJpZ2dlciB0aGUgY2FsbGJhY2sgb24gdGhlIHBhcmVudFxuXHRcdFx0dXRpbHMuc3RvcmUobmV0d29yaywgb2JqKTtcblxuXHRcdFx0Ly8gSWYgdGhpcyBpcyBhIHBhZ2UgcmVxdWVzdCBpdCBoYXMgbm8gcGFyZW50IG9yIG9wZW5lciB3aW5kb3cgdG8gaGFuZGxlIGNhbGxiYWNrc1xuXHRcdFx0aWYgKCgnZGlzcGxheScgaW4gb2JqKSAmJiBvYmouZGlzcGxheSA9PT0gJ3BhZ2UnKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmVtb3ZlIGZyb20gc2Vzc2lvbiBvYmplY3Rcblx0XHRcdGlmIChwYXJlbnQgJiYgY2IgJiYgY2IgaW4gcGFyZW50KSB7XG5cblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRkZWxldGUgb2JqLmNhbGxiYWNrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0Ly8gY29udGludWVcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFVwZGF0ZSBzdG9yZVxuXHRcdFx0XHR1dGlscy5zdG9yZShuZXR3b3JrLCBvYmopO1xuXG5cdFx0XHRcdC8vIENhbGwgdGhlIGdsb2JhbEV2ZW50IGZ1bmN0aW9uIG9uIHRoZSBwYXJlbnRcblx0XHRcdFx0Ly8gSXQncyBzYWZlciB0byBwYXNzIGJhY2sgYSBzdHJpbmcgdG8gdGhlIHBhcmVudCxcblx0XHRcdFx0Ly8gUmF0aGVyIHRoYW4gYW4gb2JqZWN0L2FycmF5IChiZXR0ZXIgZm9yIElFOClcblx0XHRcdFx0Y29uc3Qgc3RyID0gSlNPTi5zdHJpbmdpZnkob2JqKTtcblxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGNhbGxiYWNrKHBhcmVudCwgY2IpKHN0cik7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y2F0Y2ggKGUpIHtcblx0XHRcdFx0XHQvLyBFcnJvciB0aHJvd24gd2hpbHN0IGV4ZWN1dGluZyBwYXJlbnQgY2FsbGJhY2tcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRjbG9zZVdpbmRvdyh3aW5kb3cpO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGNhbGxiYWNrKHBhcmVudCwgY2FsbGJhY2tJRCkge1xuXHRcdFx0aWYgKGNhbGxiYWNrSUQuaW5kZXhPZignX2hlbGxvanNfJykgIT09IDApIHtcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHRocm93IGBDb3VsZCBub3QgZXhlY3V0ZSBjYWxsYmFjayAke2NhbGxiYWNrSUR9YDtcblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHBhcmVudFtjYWxsYmFja0lEXTtcblx0XHR9XG5cdH1cbn0pO1xuXG5cbi8vIEV2ZW50c1xuLy8gRXh0ZW5kIHRoZSBoZWxsbyBvYmplY3Qgd2l0aCBpdHMgb3duIGV2ZW50IGluc3RhbmNlXG5wdWJzdWIuY2FsbChoZWxsbyk7XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBNb25pdG9yaW5nIHNlc3Npb24gc3RhdGVcbi8vIENoZWNrIGZvciBzZXNzaW9uIGNoYW5nZXNcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbihmdW5jdGlvbihoZWxsbykge1xuXG5cdC8vIE1vbml0b3IgZm9yIGEgY2hhbmdlIGluIHN0YXRlIGFuZCBmaXJlXG5cdGNvbnN0IG9sZFNlc3Npb25zID0ge307XG5cblx0Ly8gSGFzaCBvZiBleHBpcmVkIHRva2Vuc1xuXHRjb25zdCBleHBpcmVkID0ge307XG5cblx0Ly8gTGlzdGVuIHRvIG90aGVyIHRyaWdnZXJzIHRvIEF1dGggZXZlbnRzLCB1c2UgdGhlc2UgdG8gdXBkYXRlIHRoaXNcblx0aGVsbG8ub24oJ2F1dGgubG9naW4sIGF1dGgubG9nb3V0JywgYXV0aCA9PiB7XG5cdFx0aWYgKGF1dGggJiYgdHlwZW9mIChhdXRoKSA9PT0gJ29iamVjdCcgJiYgYXV0aC5uZXR3b3JrKSB7XG5cdFx0XHRvbGRTZXNzaW9uc1thdXRoLm5ldHdvcmtdID0gaGVsbG8udXRpbHMuc3RvcmUoYXV0aC5uZXR3b3JrKSB8fCB7fTtcblx0XHR9XG5cdH0pO1xuXG5cdChmdW5jdGlvbiBzZWxmKCkge1xuXG5cdFx0Y29uc3QgQ1VSUkVOVF9USU1FID0gKChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgLyAxZTMpO1xuXG5cdFx0Ly8gTG9vcCB0aHJvdWdoIHRoZSBzZXJ2aWNlc1xuXHRcdGZvciAoY29uc3QgbmFtZSBpbiBoZWxsby5zZXJ2aWNlcykge1xuXHRcdFx0aWYgKGhlbGxvLnNlcnZpY2VzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG5cblx0XHRcdFx0aWYgKCFoZWxsby5zZXJ2aWNlc1tuYW1lXS5pZCkge1xuXHRcdFx0XHQvLyBXZSBoYXZlbid0IGF0dGFjaGVkIGFuIElEIHNvIGRvbnQgbGlzdGVuLlxuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gR2V0IHNlc3Npb25cblx0XHRcdFx0Y29uc3Qgc2Vzc2lvbiA9IGhlbGxvLnV0aWxzLnN0b3JlKG5hbWUpIHx8IHt9O1xuXHRcdFx0XHRjb25zdCBwcm92aWRlciA9IGhlbGxvLnNlcnZpY2VzW25hbWVdO1xuXHRcdFx0XHRjb25zdCBvbGRTZXNzID0gb2xkU2Vzc2lvbnNbbmFtZV0gfHwge307XG5cblx0XHRcdFx0Y29uc3QgZW1pdCA9IGZ1bmN0aW9uKGV2ZW50TmFtZSkge1xuXHRcdFx0XHRcdGhlbGxvLmVtaXQoYGF1dGguJHtldmVudE5hbWV9YCwge1xuXHRcdFx0XHRcdFx0bmV0d29yazogbmFtZSxcblx0XHRcdFx0XHRcdGF1dGhSZXNwb25zZTogc2Vzc2lvblxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdC8vIExpc3RlbiBmb3IgZ2xvYmFsRXZlbnRzIHRoYXQgZGlkIG5vdCBnZXQgdHJpZ2dlcmVkIGZyb20gdGhlIGNoaWxkXG5cdFx0XHRcdGlmIChzZXNzaW9uICYmICdjYWxsYmFjaycgaW4gc2Vzc2lvbikge1xuXG5cdFx0XHRcdFx0Ly8gVG8gZG8gcmVtb3ZlIGZyb20gc2Vzc2lvbiBvYmplY3QuLi5cblx0XHRcdFx0XHRjb25zdCBjYiA9IHNlc3Npb24uY2FsbGJhY2s7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdGRlbGV0ZSBzZXNzaW9uLmNhbGxiYWNrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjYXRjaCAoZSkge1xuXHRcdFx0XHRcdFx0Ly8gQ29udGludWVcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBVcGRhdGUgc3RvcmVcblx0XHRcdFx0XHQvLyBSZW1vdmluZyB0aGUgY2FsbGJhY2tcblx0XHRcdFx0XHRoZWxsby51dGlscy5zdG9yZShuYW1lLCBzZXNzaW9uKTtcblxuXHRcdFx0XHRcdC8vIEVtaXQgZ2xvYmFsIGV2ZW50c1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHR3aW5kb3dbY2JdKHNlc3Npb24pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjYXRjaCAoZSkge1xuXHRcdFx0XHRcdFx0Ly8gQ29udGludWVcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZWZyZXNoIHRva2VuXG5cdFx0XHRcdGlmIChzZXNzaW9uICYmICgnZXhwaXJlcycgaW4gc2Vzc2lvbikgJiYgc2Vzc2lvbi5leHBpcmVzIDwgQ1VSUkVOVF9USU1FKSB7XG5cblx0XHRcdFx0XHQvLyBJZiBhdXRvIHJlZnJlc2ggaXMgcG9zc2libGVcblx0XHRcdFx0XHQvLyBFaXRoZXIgdGhlIGJyb3dzZXIgc3VwcG9ydHNcblx0XHRcdFx0XHRjb25zdCByZWZyZXNoID0gcHJvdmlkZXIucmVmcmVzaCB8fCBzZXNzaW9uLnJlZnJlc2hfdG9rZW47XG5cblx0XHRcdFx0XHQvLyBIYXMgdGhlIHJlZnJlc2ggYmVlbiBydW4gcmVjZW50bHk/XG5cdFx0XHRcdFx0aWYgKHJlZnJlc2ggJiYgKCEobmFtZSBpbiBleHBpcmVkKSB8fCBleHBpcmVkW25hbWVdIDwgQ1VSUkVOVF9USU1FKSkge1xuXHRcdFx0XHRcdFx0Ly8gVHJ5IHRvIHJlc2lnbmluXG5cdFx0XHRcdFx0XHRoZWxsby5lbWl0KCdub3RpY2UnLCBgJHtuYW1lfSBoYXMgZXhwaXJlZCB0cnlpbmcgdG8gcmVzaWduaW5gKTtcblx0XHRcdFx0XHRcdGhlbGxvLmxvZ2luKG5hbWUsIHtkaXNwbGF5OiAnbm9uZScsIGZvcmNlOiBmYWxzZX0pO1xuXG5cdFx0XHRcdFx0XHQvLyBVcGRhdGUgZXhwaXJlZCwgZXZlcnkgMTAgbWludXRlc1xuXHRcdFx0XHRcdFx0ZXhwaXJlZFtuYW1lXSA9IENVUlJFTlRfVElNRSArIDYwMDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBEb2VzIHRoaXMgcHJvdmlkZXIgbm90IHN1cHBvcnQgcmVmcmVzaFxuXHRcdFx0XHRcdGVsc2UgaWYgKCFyZWZyZXNoICYmICEobmFtZSBpbiBleHBpcmVkKSkge1xuXHRcdFx0XHRcdC8vIExhYmVsIHRoZSBldmVudFxuXHRcdFx0XHRcdFx0ZW1pdCgnZXhwaXJlZCcpO1xuXHRcdFx0XHRcdFx0ZXhwaXJlZFtuYW1lXSA9IHRydWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gSWYgc2Vzc2lvbiBoYXMgZXhwaXJlZCB0aGVuIHdlIGRvbnQgd2FudCB0byBzdG9yZSBpdHMgdmFsdWUgdW50aWwgaXQgY2FuIGJlIGVzdGFibGlzaGVkIHRoYXQgaXRzIGJlZW4gdXBkYXRlZFxuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gSGFzIHNlc3Npb24gY2hhbmdlZD9cblx0XHRcdFx0ZWxzZSBpZiAob2xkU2Vzcy5hY2Nlc3NfdG9rZW4gPT09IHNlc3Npb24uYWNjZXNzX3Rva2VuICYmXG5cdFx0XHRvbGRTZXNzLmV4cGlyZXMgPT09IHNlc3Npb24uZXhwaXJlcykge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQWNjZXNzX3Rva2VuIGhhcyBiZWVuIHJlbW92ZWRcblx0XHRcdFx0ZWxzZSBpZiAoIXNlc3Npb24uYWNjZXNzX3Rva2VuICYmIG9sZFNlc3MuYWNjZXNzX3Rva2VuKSB7XG5cdFx0XHRcdFx0ZW1pdCgnbG9nb3V0Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBBY2Nlc3NfdG9rZW4gaGFzIGJlZW4gY3JlYXRlZFxuXHRcdFx0XHRlbHNlIGlmIChzZXNzaW9uLmFjY2Vzc190b2tlbiAmJiAhb2xkU2Vzcy5hY2Nlc3NfdG9rZW4pIHtcblx0XHRcdFx0XHRlbWl0KCdsb2dpbicpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQWNjZXNzX3Rva2VuIGhhcyBiZWVuIHVwZGF0ZWRcblx0XHRcdFx0ZWxzZSBpZiAoc2Vzc2lvbi5leHBpcmVzICE9PSBvbGRTZXNzLmV4cGlyZXMpIHtcblx0XHRcdFx0XHRlbWl0KCd1cGRhdGUnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFVwZGF0ZWQgc3RvcmVkIHNlc3Npb25cblx0XHRcdFx0b2xkU2Vzc2lvbnNbbmFtZV0gPSBzZXNzaW9uO1xuXG5cdFx0XHRcdC8vIFJlbW92ZSB0aGUgZXhwaXJlZCBmbGFnc1xuXHRcdFx0XHRpZiAobmFtZSBpbiBleHBpcmVkKSB7XG5cdFx0XHRcdFx0ZGVsZXRlIGV4cGlyZWRbbmFtZV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBDaGVjayBlcnJvciBldmVudHNcblx0XHRzZXRUaW1lb3V0KHNlbGYsIDEwMDApO1xuXHR9KSgpO1xuXG59KShoZWxsbyk7XG5cbi8vIEVPRiBDT1JFIGxpYlxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gQVBJXG4vLyBAcGFyYW0gcGF0aCAgICBzdHJpbmdcbi8vIEBwYXJhbSBxdWVyeSAgIG9iamVjdCAob3B0aW9uYWwpXG4vLyBAcGFyYW0gbWV0aG9kICBzdHJpbmcgKG9wdGlvbmFsKVxuLy8gQHBhcmFtIGRhdGEgICAgb2JqZWN0IChvcHRpb25hbClcbi8vIEBwYXJhbSB0aW1lb3V0IGludGVnZXIgKG9wdGlvbmFsKVxuLy8gQHBhcmFtIGNhbGxiYWNrICBmdW5jdGlvbiAob3B0aW9uYWwpXG5cbmhlbGxvLmFwaSA9IGFzeW5jIGZ1bmN0aW9uKC4uLmFyZ3MpIHtcblxuXHQvLyBBcmd1bWVudHNcblx0Y29uc3QgcCA9IGFyZ21hcCh7cGF0aDogJ3MhJywgcXVlcnk6ICdvJywgbWV0aG9kOiAncycsIGRhdGE6ICdvJywgdGltZW91dDogJ2knLCBjYWxsYmFjazogJ2YnfSwgYXJncyk7XG5cblx0Ly8gUmVtb3ZlIHRoZSBuZXR3b3JrIGZyb20gcGF0aCwgZS5nLiBmYWNlYm9vazovbWUvZnJpZW5kc1xuXHQvLyBSZXN1bHRzIGluIHsgbmV0d29yayA6IGZhY2Vib29rLCBwYXRoIDogbWUvZnJpZW5kcyB9XG5cdGlmICghcCB8fCAhcC5wYXRoKSB7XG5cdFx0dGhyb3cgZXJyb3IoJ2ludmFsaWRfcGF0aCcsICdNaXNzaW5nIHRoZSBwYXRoIHBhcmFtZXRlciBmcm9tIHRoZSByZXF1ZXN0Jyk7XG5cdH1cblxuXHQvLyBNZXRob2Rcblx0cC5tZXRob2QgPSAocC5tZXRob2QgfHwgJ2dldCcpLnRvTG93ZXJDYXNlKCk7XG5cblx0Ly8gSGVhZGVyc1xuXHRwLmhlYWRlcnMgPSBwLmhlYWRlcnMgfHwge307XG5cblx0Ly8gUmVzcG9uc2UgZm9ybWF0XG5cdHAucmVzcG9uc2VUeXBlID0gcC5yZXNwb25zZVR5cGUgfHwgJ2pzb24nO1xuXG5cdC8vIFF1ZXJ5XG5cdHAucXVlcnkgPSBwLnF1ZXJ5IHx8IHt9O1xuXG5cdC8vIElmIGdldCwgcHV0IGFsbCBwYXJhbWV0ZXJzIGludG8gcXVlcnlcblx0aWYgKHAubWV0aG9kID09PSAnZ2V0JyB8fCBwLm1ldGhvZCA9PT0gJ2RlbGV0ZScpIHtcblx0XHRleHRlbmQocC5xdWVyeSwgcC5kYXRhKTtcblx0XHRwLmRhdGEgPSB7fTtcblx0fVxuXG5cdGNvbnN0IGRhdGEgPSBwLmRhdGEgPSBwLmRhdGEgfHwge307XG5cblx0cC5wYXRoID0gcC5wYXRoLnJlcGxhY2UoL15cXC8rLywgJycpO1xuXHRjb25zdCBhID0gKHAucGF0aC5zcGxpdCgvWy86XS8sIDIpIHx8IFtdKVswXS50b0xvd2VyQ2FzZSgpO1xuXG5cdGlmIChhIGluIHRoaXMuc2VydmljZXMpIHtcblx0XHRwLm5ldHdvcmsgPSBhO1xuXHRcdGNvbnN0IHJlZyA9IG5ldyBSZWdFeHAoYF4ke2F9Oj8vP2ApO1xuXHRcdHAucGF0aCA9IHAucGF0aC5yZXBsYWNlKHJlZywgJycpO1xuXHR9XG5cblx0Ly8gTmV0d29yayAmIFByb3ZpZGVyXG5cdC8vIERlZmluZSB0aGUgbmV0d29yayB0aGF0IHRoaXMgcmVxdWVzdCBpcyBtYWRlIGZvclxuXHRwLm5ldHdvcmsgPSB0aGlzLnNldHRpbmdzLmRlZmF1bHRfc2VydmljZSA9IHAubmV0d29yayB8fCB0aGlzLnNldHRpbmdzLmRlZmF1bHRfc2VydmljZTtcblx0Y29uc3QgbyA9IHRoaXMuc2VydmljZXNbcC5uZXR3b3JrXTtcblxuXHQvLyBJTlZBTElEXG5cdC8vIElzIHRoZXJlIG5vIHNlcnZpY2UgYnkgdGhlIGdpdmVuIG5ldHdvcmsgbmFtZT9cblx0aWYgKCFvKSB7XG5cdFx0dGhyb3cgZXJyb3IoJ2ludmFsaWRfbmV0d29yaycsIGBDb3VsZCBub3QgbWF0Y2ggdGhlIHNlcnZpY2UgcmVxdWVzdGVkOiAkeyAgcC5uZXR3b3JrfWApO1xuXHR9XG5cblx0Ly8gUEFUSFxuXHQvLyBBcyBsb25nIGFzIHRoZSBwYXRoIGlzbid0IGZsYWdnZWQgYXMgdW5hdmFpYWJsZSwgZS5nLiBwYXRoID09IGZhbHNlXG5cblx0aWYgKCEoIShwLm1ldGhvZCBpbiBvKSB8fCAhKHAucGF0aCBpbiBvW3AubWV0aG9kXSkgfHwgb1twLm1ldGhvZF1bcC5wYXRoXSAhPT0gZmFsc2UpKSB7XG5cdFx0dGhyb3cgZXJyb3IoJ2ludmFsaWRfcGF0aCcsICdUaGUgcHJvdmlkZWQgcGF0aCBpcyBub3QgYXZhaWxhYmxlIG9uIHRoZSBzZWxlY3RlZCBuZXR3b3JrJyk7XG5cdH1cblxuXHQvLyBQUk9YWVxuXHQvLyBPQXV0aDEgY2FsbHMgYWx3YXlzIG5lZWQgYSBwcm94eVxuXG5cdGlmICghcC5vYXV0aF9wcm94eSkge1xuXHRcdHAub2F1dGhfcHJveHkgPSB0aGlzLnNldHRpbmdzLm9hdXRoX3Byb3h5O1xuXHR9XG5cblx0aWYgKCEoJ3Byb3h5JyBpbiBwKSkge1xuXHRcdHAucHJveHkgPSBwLm9hdXRoX3Byb3h5ICYmIG8ub2F1dGggJiYgcGFyc2VJbnQoby5vYXV0aC52ZXJzaW9uLCAxMCkgPT09IDE7XG5cdH1cblxuXHQvLyBUSU1FT1VUXG5cdC8vIEFkb3B0IHRpbWVvdXQgZnJvbSBnbG9iYWwgc2V0dGluZ3MgYnkgZGVmYXVsdFxuXG5cdGlmICghKCd0aW1lb3V0JyBpbiBwKSkge1xuXHRcdHAudGltZW91dCA9IHRoaXMuc2V0dGluZ3MudGltZW91dDtcblx0fVxuXG5cdC8vIEZvcm1hdCByZXNwb25zZVxuXHQvLyBXaGV0aGVyIHRvIHJ1biB0aGUgcmF3IHJlc3BvbnNlIHRocm91Z2ggcG9zdCBwcm9jZXNzaW5nLlxuXHRpZiAoISgnZm9ybWF0UmVzcG9uc2UnIGluIHApKSB7XG5cdFx0cC5mb3JtYXRSZXNwb25zZSA9IHRydWU7XG5cdH1cblxuXHQvLyBHZXQgdGhlIGN1cnJlbnQgc2Vzc2lvblxuXHQvLyBBcHBlbmQgdGhlIGFjY2Vzc190b2tlbiB0byB0aGUgcXVlcnlcblx0cC5hdXRoUmVzcG9uc2UgPSB0aGlzLmdldEF1dGhSZXNwb25zZShwLm5ldHdvcmspO1xuXHRpZiAocC5hdXRoUmVzcG9uc2UgJiYgcC5hdXRoUmVzcG9uc2UuYWNjZXNzX3Rva2VuKSB7XG5cdFx0cC5xdWVyeS5hY2Nlc3NfdG9rZW4gPSBwLmF1dGhSZXNwb25zZS5hY2Nlc3NfdG9rZW47XG5cdH1cblxuXHRsZXQgdXJsID0gcC5wYXRoO1xuXHRsZXQgbTtcblxuXHQvLyBTdG9yZSB0aGUgcXVlcnkgYXMgb3B0aW9uc1xuXHQvLyBUaGlzIGlzIHVzZWQgdG8gcG9wdWxhdGUgdGhlIHJlcXVlc3Qgb2JqZWN0IGJlZm9yZSB0aGUgZGF0YSBpcyBhdWdtZW50ZWQgYnkgdGhlIHByZXdyYXAgaGFuZGxlcnMuXG5cdHAub3B0aW9ucyA9IGNsb25lKHAucXVlcnkpO1xuXG5cdC8vIENsb25lIHRoZSBkYXRhIG9iamVjdFxuXHQvLyBQcmV2ZW50IHRoaXMgc2NyaXB0IG92ZXJ3cml0aW5nIHRoZSBkYXRhIG9mIHRoZSBpbmNvbWluZyBvYmplY3QuXG5cdC8vIEVuc3VyZSB0aGF0IGV2ZXJ5dGltZSB3ZSBydW4gYW4gaXRlcmF0aW9uIHRoZSBjYWxsYmFja3MgaGF2ZW4ndCByZW1vdmVkIHNvbWUgZGF0YVxuXHRwLmRhdGEgPSBjbG9uZShkYXRhKTtcblxuXHQvLyBVUkwgTWFwcGluZ1xuXHQvLyBJcyB0aGVyZSBhIG1hcCBmb3IgdGhlIGdpdmVuIFVSTD9cblx0Y29uc3QgYWN0aW9ucyA9IG9be2RlbGV0ZTogJ2RlbCd9W3AubWV0aG9kXSB8fCBwLm1ldGhvZF0gfHwge307XG5cblx0Ly8gRXh0cmFwb2xhdGUgdGhlIFF1ZXJ5U3RyaW5nXG5cdC8vIFByb3ZpZGUgYSBjbGVhbiBwYXRoXG5cdC8vIE1vdmUgdGhlIHF1ZXJ5c3RyaW5nIGludG8gdGhlIGRhdGFcblx0aWYgKHAubWV0aG9kID09PSAnZ2V0Jykge1xuXG5cdFx0Y29uc3QgcXVlcnkgPSB1cmwuc3BsaXQoL1s/I10vKVsxXTtcblx0XHRpZiAocXVlcnkpIHtcblx0XHRcdGV4dGVuZChwLnF1ZXJ5LCBwYXJhbShxdWVyeSkpO1xuXG5cdFx0XHQvLyBSZW1vdmUgdGhlIHF1ZXJ5IHBhcnQgZnJvbSB0aGUgVVJMXG5cdFx0XHR1cmwgPSB1cmwucmVwbGFjZSgvXFw/Lio/KCN8JCkvLCAnJDEnKTtcblx0XHR9XG5cdH1cblxuXHQvLyBJcyB0aGUgaGFzaCBmcmFnbWVudCBkZWZpbmVkXG5cdGlmICgobSA9IHVybC5tYXRjaCgvIyguKykvLCAnJykpKSB7XG5cdFx0dXJsID0gdXJsLnNwbGl0KCcjJylbMF07XG5cdFx0cC5wYXRoID0gbVsxXTtcblx0fVxuXHRlbHNlIGlmICh1cmwgaW4gYWN0aW9ucykge1xuXHRcdHAucGF0aCA9IHVybDtcblx0XHR1cmwgPSBhY3Rpb25zW3VybF07XG5cdH1cblx0ZWxzZSBpZiAoJ2RlZmF1bHQnIGluIGFjdGlvbnMpIHtcblx0XHR1cmwgPSBhY3Rpb25zLmRlZmF1bHQ7XG5cdH1cblxuXHQvLyBSZWRpcmVjdCBIYW5kbGVyXG5cdC8vIFRoaXMgZGVmaW5lcyBmb3IgdGhlIEZvcm0rSWZyYW1lK0hhc2ggaGFjayB3aGVyZSB0byByZXR1cm4gdGhlIHJlc3VsdHMgdG9vLlxuXHRwLnJlZGlyZWN0X3VyaSA9IHRoaXMuc2V0dGluZ3MucmVkaXJlY3RfdXJpO1xuXG5cdC8vIERlZmluZSBGb3JtYXRIYW5kbGVyXG5cdC8vIFRoZSByZXF1ZXN0IGNhbiBiZSBwcm9jZXNlZCBpbiBhIG11bHRpdHVkZSBvZiB3YXlzXG5cdC8vIEhlcmUncyB0aGUgb3B0aW9ucyAtIGRlcGVuZGluZyBvbiB0aGUgYnJvd3NlciBhbmQgZW5kcG9pbnRcblx0cC54aHIgPSBvLnhocjtcblx0cC5qc29ucCA9IG8uanNvbnA7XG5cdHAuZm9ybSA9IG8uZm9ybTtcblxuXHQvLyBEZWZpbmUgUHJveHkgaGFuZGxlclxuXHRwLnByb3h5SGFuZGxlciA9IChwLCBjYWxsYmFjaykgPT4ge1xuXG5cdFx0Ly8gQXJlIHdlIHNpZ25pbmcgdGhlIHJlcXVlc3Q/XG5cdFx0bGV0IHNpZ247XG5cblx0XHQvLyBPQXV0aDFcblx0XHQvLyBSZW1vdmUgdGhlIHRva2VuIGZyb20gdGhlIHF1ZXJ5IGJlZm9yZSBzaWduaW5nXG5cdFx0aWYgKHAuYXV0aFJlc3BvbnNlICYmIHAuYXV0aFJlc3BvbnNlLm9hdXRoICYmIHBhcnNlSW50KHAuYXV0aFJlc3BvbnNlLm9hdXRoLnZlcnNpb24sIDEwKSA9PT0gMSkge1xuXG5cdFx0XHQvLyBPQVVUSCBTSUdOSU5HIFBST1hZXG5cdFx0XHRzaWduID0gcC5xdWVyeS5hY2Nlc3NfdG9rZW47XG5cblx0XHRcdC8vIFJlbW92ZSB0aGUgYWNjZXNzX3Rva2VuXG5cdFx0XHRkZWxldGUgcC5xdWVyeS5hY2Nlc3NfdG9rZW47XG5cblx0XHRcdC8vIEVuZm9yZSB1c2Ugb2YgUHJveHlcblx0XHRcdHAucHJveHkgPSB0cnVlO1xuXHRcdH1cblxuXHRcdC8vIFBPU1QgYm9keSB0byBxdWVyeXN0cmluZ1xuXHRcdGlmIChwLmRhdGEgJiYgKHAubWV0aG9kID09PSAnZ2V0JyB8fCBwLm1ldGhvZCA9PT0gJ2RlbGV0ZScpKSB7XG5cdFx0XHQvLyBBdHRhY2ggdGhlIHAuZGF0YSB0byB0aGUgcXVlcnlzdHJpbmcuXG5cdFx0XHRleHRlbmQocC5xdWVyeSwgcC5kYXRhKTtcblx0XHRcdHAuZGF0YSA9IG51bGw7XG5cdFx0fVxuXG5cdFx0Ly8gQ29uc3RydWN0IHRoZSBwYXRoXG5cdFx0bGV0IHBhdGggPSBjcmVhdGVVcmwocC51cmwsIHAucXVlcnkpO1xuXG5cdFx0Ly8gUHJveHkgdGhlIHJlcXVlc3QgdGhyb3VnaCBhIHNlcnZlclxuXHRcdC8vIFVzZWQgZm9yIHNpZ25pbmcgT0F1dGgxXG5cdFx0Ly8gQW5kIGNpcmN1bXZlbnRpbmcgc2VydmljZXMgd2l0aG91dCBBY2Nlc3MtQ29udHJvbCBIZWFkZXJzXG5cdFx0aWYgKHAucHJveHkpIHtcblx0XHRcdC8vIFVzZSB0aGUgcHJveHkgYXMgYSBwYXRoXG5cdFx0XHRwYXRoID0gY3JlYXRlVXJsKHAub2F1dGhfcHJveHksIHtcblx0XHRcdFx0cGF0aCxcblx0XHRcdFx0YWNjZXNzX3Rva2VuOiBzaWduIHx8ICcnLFxuXG5cdFx0XHRcdC8vIFRoaXMgd2lsbCBwcm9tcHQgdGhlIHJlcXVlc3QgdG8gYmUgc2lnbmVkIGFzIHRob3VnaCBpdCBpcyBPQXV0aDFcblx0XHRcdFx0dGhlbjogcC5wcm94eV9yZXNwb25zZV90eXBlIHx8IChwLm1ldGhvZC50b0xvd2VyQ2FzZSgpID09PSAnZ2V0JyA/ICdyZWRpcmVjdCcgOiAncHJveHknKSxcblx0XHRcdFx0bWV0aG9kOiBwLm1ldGhvZC50b0xvd2VyQ2FzZSgpLFxuXHRcdFx0XHRzdXBwcmVzc19yZXNwb25zZV9jb2RlczogdHJ1ZVxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0Y2FsbGJhY2socGF0aCk7XG5cdH07XG5cblxuXHQvLyBJZiB1cmwgbmVlZHMgYSBiYXNlXG5cdC8vIFdyYXAgZXZlcnl0aGluZyBpblxuXG5cdGxldCBwcm9taXNlO1xuXG5cdC8vIE1ha2UgcmVxdWVzdFxuXHRpZiAodHlwZW9mICh1cmwpID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0Ly8gRG9lcyBzZWxmIGhhdmUgaXRzIG93biBjYWxsYmFjaz9cblx0XHRwcm9taXNlID0gbmV3IFByb21pc2UoYWNjZXB0ID0+IHVybChwLCBhY2NlcHQpKTtcblx0fVxuXHRlbHNlIHtcblx0XHQvLyBFbHNlIHRoZSBVUkwgaXMgYSBzdHJpbmdcblx0XHRwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKHVybCk7XG5cdH1cblxuXHQvLyBIYW5kbGUgdGhlIHVybC4uLlxuXHRwcm9taXNlID0gcHJvbWlzZS50aGVuKHVybCA9PiB7XG5cblx0XHQvLyBGb3JtYXQgdGhlIHN0cmluZyBpZiBpdCBuZWVkcyBpdFxuXHRcdHVybCA9IHVybC5yZXBsYWNlKC9AXFx7KFthLXpfLV0rKShcXHwuKj8pP1xcfS9naSwgKG0sIGtleSwgZGVmYXVsdHMpID0+IHtcblx0XHRcdGxldCB2YWwgPSBkZWZhdWx0cyA/IGRlZmF1bHRzLnJlcGxhY2UoL15cXHwvLCAnJykgOiAnJztcblx0XHRcdGlmIChrZXkgaW4gcC5xdWVyeSkge1xuXHRcdFx0XHR2YWwgPSBwLnF1ZXJ5W2tleV07XG5cdFx0XHRcdGRlbGV0ZSBwLnF1ZXJ5W2tleV07XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmIChwLmRhdGEgJiYga2V5IGluIHAuZGF0YSkge1xuXHRcdFx0XHR2YWwgPSBwLmRhdGFba2V5XTtcblx0XHRcdFx0ZGVsZXRlIHAuZGF0YVtrZXldO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoIWRlZmF1bHRzKSB7XG5cdFx0XHRcdHRocm93IGVycm9yKCdtaXNzaW5nX2F0dHJpYnV0ZScsIGBUaGUgYXR0cmlidXRlICR7ICBrZXkgIH0gaXMgbWlzc2luZyBmcm9tIHRoZSByZXF1ZXN0YCk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB2YWw7XG5cdFx0fSk7XG5cblx0XHQvLyBBZGQgYmFzZVxuXHRcdGlmICghdXJsLm1hdGNoKC9eaHR0cHM/OlxcL1xcLy8pKSB7XG5cdFx0XHR1cmwgPSBvLmJhc2UgKyB1cmw7XG5cdFx0fVxuXG5cdFx0Ly8gRGVmaW5lIHRoZSByZXF1ZXN0IFVSTFxuXHRcdHAudXJsID0gdXJsO1xuXG5cdFx0Ly8gTWFrZSB0aGUgSFRUUCByZXF1ZXN0IHdpdGggdGhlIGN1cmF0ZWQgcmVxdWVzdCBvYmplY3Rcblx0XHQvLyBDQUxMQkFDSyBIQU5ETEVSXG5cdFx0Ly8gQCByZXNwb25zZSBvYmplY3Rcblx0XHQvLyBAIHN0YXR1c0NvZGUgaW50ZWdlciBpZiBhdmFpbGFibGVcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoYWNjZXB0ID0+IHRoaXMudXRpbHMucmVxdWVzdChwLCAoZGF0YSwgaGVhZGVycykgPT4gYWNjZXB0KHtkYXRhLCBoZWFkZXJzfSkpKTtcblxuXHR9KVxuXHRcdC50aGVuKHJlc3AgPT4ge1xuXG5cdFx0XHRsZXQge2RhdGF9ID0gcmVzcDtcblx0XHRcdGNvbnN0IHtoZWFkZXJzfSA9IHJlc3A7XG5cblx0XHRcdC8vIElzIHRoaXMgYSByYXcgcmVzcG9uc2U/XG5cdFx0XHRpZiAoIXAuZm9ybWF0UmVzcG9uc2UpIHtcblx0XHRcdFx0Ly8gQmFkIHJlcXVlc3Q/IGVycm9yIHN0YXR1c0NvZGUgb3Igb3RoZXJ3aXNlIGNvbnRhaW5zIGFuIGVycm9yIHJlc3BvbnNlIHZpcyBKU09OUD9cblx0XHRcdFx0aWYgKHR5cGVvZiBoZWFkZXJzID09PSAnb2JqZWN0JyA/IChoZWFkZXJzLnN0YXR1c0NvZGUgPj0gNDAwKSA6ICh0eXBlb2YgciA9PT0gJ29iamVjdCcgJiYgJ2Vycm9yJyBpbiBkYXRhKSkge1xuXHRcdFx0XHRcdHRocm93IGRhdGE7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2hvdWxkIHRoaXMgYmUgYW4gb2JqZWN0XG5cdFx0XHRpZiAoZGF0YSA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRkYXRhID0ge3N1Y2Nlc3M6IHRydWV9O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBUaGUgZGVsZXRlIGNhbGxiYWNrIG5lZWRzIGEgYmV0dGVyIHJlc3BvbnNlXG5cdFx0XHRpZiAocC5tZXRob2QgPT09ICdkZWxldGUnKSB7XG5cdFx0XHRcdGRhdGEgPSAoIWRhdGEgfHwgaXNFbXB0eShkYXRhKSkgPyB7c3VjY2VzczogdHJ1ZX0gOiBkYXRhO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBGT1JNQVQgUkVTUE9OU0U/XG5cdFx0XHQvLyBEb2VzIHNlbGYgcmVxdWVzdCBoYXZlIGEgY29ycmVzcG9uZGluZyBmb3JtYXR0ZXJcblx0XHRcdGlmIChvLndyYXAgJiYgKChwLnBhdGggaW4gby53cmFwKSB8fCAoJ2RlZmF1bHQnIGluIG8ud3JhcCkpKSB7XG5cdFx0XHRcdGNvbnN0IHdyYXAgPSAocC5wYXRoIGluIG8ud3JhcCA/IHAucGF0aCA6ICdkZWZhdWx0Jyk7XG5cblx0XHRcdFx0Ly8gRk9STUFUIFJFU1BPTlNFXG5cdFx0XHRcdGNvbnN0IGIgPSBvLndyYXBbd3JhcF0oZGF0YSwgaGVhZGVycywgcCk7XG5cblx0XHRcdFx0Ly8gSGFzIHRoZSByZXNwb25zZSBiZWVuIHV0dGVybHkgb3ZlcndyaXR0ZW4/XG5cdFx0XHRcdC8vIFR5cGljYWxseSBzZWxmIGF1Z21lbnRzIHRoZSBleGlzdGluZyBvYmplY3QuLiBidXQgZm9yIHRob3NlIHJhcmUgb2NjYXNzaW9uc1xuXHRcdFx0XHRpZiAoYikge1xuXHRcdFx0XHRcdGRhdGEgPSBiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIElzIHRoZXJlIGEgbmV4dF9wYWdlIGRlZmluZWQgaW4gdGhlIHJlc3BvbnNlP1xuXHRcdFx0aWYgKGRhdGEgJiYgJ3BhZ2luZycgaW4gZGF0YSAmJiBkYXRhLnBhZ2luZy5uZXh0KSB7XG5cblx0XHRcdFx0Ly8gQWRkIHRoZSByZWxhdGl2ZSBwYXRoIGlmIGl0IGlzIG1pc3NpbmcgZnJvbSB0aGUgcGFnaW5nL25leHQgcGF0aFxuXHRcdFx0XHRpZiAoZGF0YS5wYWdpbmcubmV4dFswXSA9PT0gJz8nKSB7XG5cdFx0XHRcdFx0ZGF0YS5wYWdpbmcubmV4dCA9IHAucGF0aCArIGRhdGEucGFnaW5nLm5leHQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBUaGUgcmVsYXRpdmUgcGF0aCBoYXMgYmVlbiBkZWZpbmVkLCBsZXRzIG1hcmt1cCB0aGUgaGFuZGxlciBpbiB0aGUgSGFzaEZyYWdtZW50XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdGRhdGEucGFnaW5nLm5leHQgKz0gYCMkeyAgcC5wYXRofWA7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gRGlzcGF0Y2ggdG8gbGlzdGVuZXJzXG5cdFx0XHQvLyBFbWl0IGV2ZW50cyB3aGljaCBwZXJ0YWluIHRvIHRoZSBmb3JtYXR0ZWQgcmVzcG9uc2Vcblx0XHRcdGlmICghZGF0YSB8fCAnZXJyb3InIGluIGRhdGEpIHtcblx0XHRcdFx0dGhyb3cgZGF0YTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHQvLyBDb21wbGV0ZWQgZXZlbnQgY2FsbGJhY2tcblx0cHJvbWlzZS50aGVuKHAuY2FsbGJhY2ssIHAuY2FsbGJhY2spO1xuXG5cdHJldHVybiBwcm9taXNlO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vL1xuLy8gU2F2ZSBhbnkgYWNjZXNzIHRva2VuIHRoYXQgaXMgaW4gdGhlIGN1cnJlbnQgcGFnZSBVUkxcbi8vIEhhbmRsZSBhbnkgcmVzcG9uc2Ugc29saWNpdGVkIHRocm91Z2ggaWZyYW1lIGhhc2ggdGFnIGZvbGxvd2luZyBhbiBBUEkgcmVxdWVzdFxuLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuaGVsbG8udXRpbHMucmVzcG9uc2VIYW5kbGVyKHdpbmRvdywgd2luZG93Lm9wZW5lciB8fCB3aW5kb3cucGFyZW50KTtcblxubW9kdWxlLmV4cG9ydHMgPSBoZWxsbzsiXX0="}