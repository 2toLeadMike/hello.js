{
  "version": 3,
  "sources": [
    "node_modules/browser-pack/_prelude.js",
    "src/hello.all.js",
    "src/hello.amd.js",
    "src/hello.chromeapp.js",
    "src/hello.js",
    "src/hello.phonegap.js",
    "src/modules/dropbox.js",
    "src/modules/facebook.js",
    "src/modules/flickr.js",
    "src/modules/foursquare.js",
    "src/modules/github.js",
    "src/modules/google.js",
    "src/modules/instagram.js",
    "src/modules/joinme.js",
    "src/modules/linkedin.js",
    "src/modules/soundcloud.js",
    "src/modules/twitter.js",
    "src/modules/vk.js",
    "src/modules/windows.js",
    "src/modules/yahoo.js",
    "../tricks/array/diff.js",
    "../tricks/array/find.js",
    "../tricks/array/toArray.js",
    "../tricks/array/unique.js",
    "../tricks/browser/agent/Storage.js",
    "../tricks/browser/agent/cookieStorage.js",
    "../tricks/browser/agent/localStorage.js",
    "../tricks/browser/agent/sessionStorage.js",
    "../tricks/browser/http/formpost.js",
    "../tricks/browser/http/getScript.js",
    "../tricks/browser/http/jsonp.js",
    "../tricks/browser/http/request.js",
    "../tricks/browser/http/xhr.js",
    "../tricks/dom/append.js",
    "../tricks/dom/attr.js",
    "../tricks/dom/createElement.js",
    "../tricks/dom/domInstance.js",
    "../tricks/dom/each.js",
    "../tricks/dom/hiddenFrame.js",
    "../tricks/dom/isDom.js",
    "../tricks/events/createEvent.js",
    "../tricks/events/emit.js",
    "../tricks/events/globalCallback.js",
    "../tricks/events/on.js",
    "../tricks/object/args.js",
    "../tricks/object/clone.js",
    "../tricks/object/diffKey.js",
    "../tricks/object/extend.js",
    "../tricks/object/hasBinary.js",
    "../tricks/object/instanceOf.js",
    "../tricks/object/isBinary.js",
    "../tricks/object/isEmpty.js",
    "../tricks/object/merge.js",
    "../tricks/object/pubsub.js",
    "../tricks/object/rewire.js",
    "../tricks/object/then.js",
    "../tricks/object/toBlob.js",
    "../tricks/object/tryCatch.js",
    "../tricks/string/createUrl.js",
    "../tricks/string/extract.js",
    "../tricks/string/jsonParse.js",
    "../tricks/string/param.js",
    "../tricks/string/queryparse.js",
    "../tricks/string/querystringify.js",
    "../tricks/string/random.js",
    "../tricks/support/cors.js",
    "../tricks/time/setImmediate.js",
    "../tricks/window/close.js",
    "../tricks/window/popup.js",
    "../tricks/window/url.js"
  ],
  "names": [],
  "mappings": "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",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "\n// Services\nrequire('./modules/dropbox.js');\nrequire('./modules/facebook.js');\nrequire('./modules/flickr.js');\nrequire('./modules/foursquare.js');\nrequire('./modules/github.js');\nrequire('./modules/google.js');\nrequire('./modules/instagram.js');\nrequire('./modules/joinme.js');\nrequire('./modules/linkedin.js');\nrequire('./modules/soundcloud.js');\nrequire('./modules/twitter.js');\nrequire('./modules/vk.js');\nrequire('./modules/windows.js');\nrequire('./modules/yahoo.js');\n\n// Environment tweaks\nrequire('./hello.phonegap.js');\nrequire('./hello.chromeapp.js');\n\n// Build environments\nrequire('./hello.amd.js');\n\n// Export HelloJS\nmodule.exports = require('./hello.js');\n",
    "// Register as anonymous AMD module\nif (typeof define === 'function' && define.amd) {\n\tdefine(function() {\n\t\treturn hello;\n\t});\n}\n",
    "// Script to support ChromeApps\n// This overides the hello.utils.popup method to support chrome.identity.launchWebAuthFlow\n// See https://developer.chrome.com/apps/app_identity#non\n\nconst URL = require('tricks/window/url');\nconst hello = require('./hello');\n\n// Is this a chrome app?\nif (typeof chrome === 'object' && typeof chrome.identity === 'object' && chrome.identity.launchWebAuthFlow) {\n\n\t\t// Swap the popup method\n\t\thello.utils.popup = function(url) {\n\n\t\t\treturn _open(url, true);\n\n\t\t};\n\n\t\t// Swap the hidden iframe method\n\t\thello.utils.iframe = function(url) {\n\n\t\t\t_open(url, false);\n\n\t\t};\n\n\t\t// Swap the request_cors method\n\t\thello.utils.request_cors = function(callback) {\n\n\t\t\tcallback();\n\n\t\t\t// Always run as CORS\n\n\t\t\treturn true;\n\t\t};\n\n\t\t// Swap the storage method\n\t\tvar _cache = {};\n\t\tchrome.storage.local.get('hello', function(r) {\n\t\t\t// Update the cache\n\t\t\t_cache = r.hello || {};\n\t\t});\n\n\t\thello.utils.store = function(name, value) {\n\n\t\t\t// Get all\n\t\t\tif (arguments.length === 0) {\n\t\t\t\treturn _cache;\n\t\t\t}\n\n\t\t\t// Get\n\t\t\tif (arguments.length === 1) {\n\t\t\t\treturn _cache[name] || null;\n\t\t\t}\n\n\t\t\t// Set\n\t\t\tif (value) {\n\t\t\t\t_cache[name] = value;\n\t\t\t\tchrome.storage.local.set({hello: _cache});\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\t// Delete\n\t\t\tif (value === null) {\n\t\t\t\tdelete _cache[name];\n\t\t\t\tchrome.storage.local.set({hello: _cache});\n\t\t\t\treturn null;\n\t\t\t}\n\t\t};\n\n\t\t// Open function\n\t\tfunction _open(url, interactive) {\n\n\t\t\t// Launch\n\t\t\tvar ref = {\n\t\t\t\tclosed: false\n\t\t\t};\n\n\t\t\t// Launch the webAuthFlow\n\t\t\tchrome.identity.launchWebAuthFlow({\n\t\t\t\turl: url,\n\t\t\t\tinteractive: interactive\n\t\t\t}, function(responseUrl) {\n\n\t\t\t\t// Did the user cancel this prematurely\n\t\t\t\tif (responseUrl === undefined) {\n\t\t\t\t\tref.closed = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Split appart the URL\n\t\t\t\tvar a = URL(responseUrl);\n\n\t\t\t\t// The location can be augmented in to a location object like so...\n\t\t\t\t// We dont have window operations on the popup so lets create some\n\t\t\t\tvar _popup = {\n\t\t\t\t\tlocation: {\n\n\t\t\t\t\t\t// Change the location of the popup\n\t\t\t\t\t\tassign: function(url) {\n\n\t\t\t\t\t\t\t// If there is a secondary reassign\n\t\t\t\t\t\t\t// In the case of OAuth1\n\t\t\t\t\t\t\t// Trigger this in non-interactive mode.\n\t\t\t\t\t\t\t_open(url, false);\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tsearch: a.search,\n\t\t\t\t\t\thash: a.hash,\n\t\t\t\t\t\thref: a.href\n\t\t\t\t\t},\n\t\t\t\t\tclose: function() {}\n\t\t\t\t};\n\n\t\t\t\t// Then this URL contains information which HelloJS must process\n\t\t\t\t// URL string\n\t\t\t\t// Window - any action such as window relocation goes here\n\t\t\t\t// Opener - the parent window which opened this, aka this script\n\n\t\t\t\thello.utils.responseHandler(_popup, window);\n\t\t\t});\n\n\t\t\t// Return the reference\n\t\t\treturn ref;\n\t\t}\n}\n",
    "/**\n * @hello.js\n *\n * HelloJS is a client side Javascript SDK for making OAuth2 logins and subsequent REST calls.\n *\n * @author Andrew Dodson\n * @website https://adodson.com/hello.js/\n\n * @copyright Andrew Dodson, 2012 - 2015\n * @license MIT: You are free to use and modify this code for any use, on the condition that this copyright notice remains.\n */\n\nconst argmap = require('tricks/object/args');\nconst clone = require('tricks/object/clone');\nconst closeWindow = require('tricks/window/close');\nconst createUrl = require('tricks/string/createUrl');\nconst diffKey = require('tricks/object/diffKey');\nconst diff = require('tricks/array/diff');\nconst extend = require('tricks/object/extend');\nconst globalCallback = require('tricks/events/globalCallback');\nconst iframe = require('tricks/dom/hiddenFrame');\nconst isEmpty = require('tricks/object/isEmpty');\nconst merge = require('tricks/object/merge');\nconst param = require('tricks/string/queryparse');\nconst popup = require('tricks/window/popup');\nconst pubsub = require('tricks/object/pubsub');\nconst request = require('tricks/http/request');\nconst store = require('tricks/browser/agent/localStorage');\nconst Then = require('tricks/object/then');\nconst unique = require('tricks/array/unique');\nconst Url = require('tricks/window/url');\n\nlet hello = function(name) {\n\treturn hello.use(name);\n};\n\nmodule.exports = hello;\n\nextend(hello, {\n\n\tsettings: {\n\n\t\t// OAuth2 authentication defaults\n\t\tredirect_uri: (typeof location !== 'undefined' ? location.href.split('#')[0] : null),\n\t\tresponse_type: 'token',\n\t\tdisplay: 'popup',\n\t\tstate: '',\n\n\t\t// OAuth1 shim\n\t\t// The path to the OAuth1 server for signing user requests\n\t\t// Want to recreate your own? Checkout https://github.com/MrSwitch/node-oauth-shim\n\t\toauth_proxy: 'https://auth-server.herokuapp.com/proxy',\n\n\t\t// API timeout in milliseconds\n\t\ttimeout: 20000,\n\n\t\t// Popup Options\n\t\tpopup: {\n\t\t\tresizable: 1,\n\t\t\tscrollbars: 1,\n\t\t\twidth: 500,\n\t\t\theight: 550\n\t\t},\n\n\t\t// Default scope\n\t\t// Many services require atleast a profile scope,\n\t\t// HelloJS automatially includes the value of provider.scope_map.basic\n\t\t// If that's not required it can be removed via hello.settings.scope.length = 0;\n\t\tscope: ['basic'],\n\n\t\t// Scope Maps\n\t\t// This is the default module scope, these are the defaults which each service is mapped too.\n\t\t// By including them here it prevents the scope from being applied accidentally\n\t\tscope_map: {\n\t\t\tbasic: ''\n\t\t},\n\n\t\t// Default service / network\n\t\tdefault_service: null,\n\n\t\t// Force authentication\n\t\t// When hello.login is fired.\n\t\t// (null): ignore current session expiry and continue with login\n\t\t// (true): ignore current session expiry and continue with login, ask for user to reauthenticate\n\t\t// (false): if the current session looks good for the request scopes return the current session.\n\t\tforce: null,\n\n\t\t// Page URL\n\t\t// When 'display=page' this property defines where the users page should end up after redirect_uri\n\t\t// Ths could be problematic if the redirect_uri is indeed the final place,\n\t\t// Typically this circumvents the problem of the redirect_url being a dumb relay page.\n\t\tpage_uri: (typeof location !== 'undefined' ? location.href : null)\n\t},\n\n\t// Service configuration objects\n\tservices: {},\n\n\t// Use\n\t// Define a new instance of the HelloJS library with a default service\n\tuse(service) {\n\n\t\t// Create self, which inherits from its parent\n\t\tvar self = Object.create(this);\n\n\t\t// Inherit the prototype from its parent\n\t\tself.settings = Object.create(this.settings);\n\n\t\t// Define the default service\n\t\tif (service) {\n\t\t\tself.settings.default_service = service;\n\t\t}\n\n\t\t// Create an instance of Events\n\t\tpubsub.call(self);\n\n\t\treturn self;\n\t},\n\n\t// Initialize\n\t// Define the client_ids for the endpoint services\n\t// @param object o, contains a key value pair, service => clientId\n\t// @param object opts, contains a key value pair of options used for defining the authentication defaults\n\t// @param number timeout, timeout in seconds\n\tinit(services, options) {\n\n\t\tif (!services) {\n\t\t\treturn this.services;\n\t\t}\n\n\t\t// Define provider credentials\n\t\t// Reformat the ID field\n\t\tfor (var x in services) {if (services.hasOwnProperty(x)) {\n\t\t\tif (typeof (services[x]) !== 'object') {\n\t\t\t\tservices[x] = {id: services[x]};\n\t\t\t}\n\t\t}}\n\n\t\t// Merge services if there already exists some\n\t\textend(this.services, services);\n\n\t\t// Update the default settings with this one.\n\t\tif (options) {\n\t\t\textend(this.settings, options);\n\n\t\t\t// Do this immediatly incase the browser changes the current path.\n\t\t\tif ('redirect_uri' in options) {\n\t\t\t\tthis.settings.redirect_uri = Url(options.redirect_uri).href;\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t// Login\n\t// Using the endpoint\n\t// @param network stringify       name to connect to\n\t// @param options object    (optional)  {display mode, is either none|popup(default)|page, scope: email,birthday,publish, .. }\n\t// @param callback  function  (optional)  fired on signin\n\tlogin(...args) {\n\tconst utils = this.utils;\n\t// Get parameters\n\tconst p = argmap({network: 's', options: 'o', callback: 'f'}, args);\n\t// Create an object which inherits its parent as the prototype and constructs a new event chain.\n\tconst promise = new Promise((accept, reject) => {\n\n\t\t// Local vars\n\t\tvar url;\n\n\t\t// Get all the custom options and store to be appended to the querystring\n\t\tvar qs = diffKey(p.options, this.settings);\n\n\t\t// Merge/override options with app defaults\n\t\tvar opts = p.options = merge(this.settings, p.options || {});\n\n\t\t// Merge/override options with app defaults\n\t\topts.popup = merge(this.settings.popup, p.options.popup || {});\n\n\t\t// Network\n\t\tp.network = p.network || this.settings.default_service;\n\n\t\t// Is our service valid?\n\t\tif (typeof (p.network) !== 'string' || !(p.network in this.services)) {\n\t\t\t// Trigger the default login.\n\t\t\t// Ahh we dont have one.\n\t\t\treturn reject(error('invalid_network', 'The provided network was not recognized'));\n\t\t}\n\n\t\tvar provider = this.services[p.network];\n\n\t\t// Create a global listener to capture events triggered out of scope\n\t\tvar callbackId = globalCallback(str => {\n\n\t\t\t// The responseHandler returns a string, lets save this locally\n\t\t\tvar obj;\n\n\t\t\tif (str) {\n\t\t\t\tobj = JSON.parse(str);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tobj = error('cancelled', 'The authentication was not completed');\n\t\t\t}\n\n\t\t\t// Handle these response using the local\n\t\t\t// Trigger on the parent\n\t\t\tif (!obj.error) {\n\n\t\t\t\t// Save on the parent window the new credentials\n\t\t\t\t// This fixes an IE10 bug i think... atleast it does for me.\n\t\t\t\tutils.store(obj.network, obj);\n\n\t\t\t\t// Fulfill a successful login\n\t\t\t\taccept({\n\t\t\t\t\tnetwork: obj.network,\n\t\t\t\t\tauthResponse: obj\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Reject a successful login\n\t\t\t\treject(obj);\n\t\t\t}\n\t\t}, null, '_hellojs_');\n\n\t\tvar redirectUri = Url(opts.redirect_uri).href;\n\n\t\t// May be a space-delimited list of multiple, complementary types\n\t\tvar responseType = provider.oauth.response_type || opts.response_type;\n\n\t\t// Fallback to token if the module hasn't defined a grant url\n\t\tif (/\\bcode\\b/.test(responseType) && !provider.oauth.grant) {\n\t\t\tresponseType = responseType.replace(/\\bcode\\b/, 'token');\n\t\t}\n\n\t\t// Query string parameters, we may pass our own arguments to form the querystring\n\t\tp.qs = merge(qs, {\n\t\t\tclient_id: encodeURIComponent(provider.id),\n\t\t\tresponse_type: encodeURIComponent(responseType),\n\t\t\tredirect_uri: encodeURIComponent(redirectUri),\n\t\t\tstate: {\n\t\t\t\tclient_id: provider.id,\n\t\t\t\tnetwork: p.network,\n\t\t\t\tdisplay: opts.display,\n\t\t\t\tcallback: callbackId,\n\t\t\t\tstate: opts.state,\n\t\t\t\tredirect_uri: redirectUri\n\t\t\t}\n\t\t});\n\n\t\t// Get current session for merging scopes, and for quick auth response\n\t\tvar session = utils.store(p.network);\n\n\t\t// Scopes (authentication permisions)\n\t\t// Ensure this is a string - IE has a problem moving Arrays between windows\n\t\t// Append the setup scope\n\t\tvar SCOPE_SPLIT = /[,\\s]+/;\n\n\t\t// Include default scope settings (cloned).\n\t\tvar scope = this.settings.scope ? [this.settings.scope.toString()] : [];\n\n\t\t// Extend the providers scope list with the default\n\t\tvar scopeMap = merge(this.settings.scope_map, provider.scope || {});\n\n\t\t// Add user defined scopes...\n\t\tif (opts.scope) {\n\t\t\tscope.push(opts.scope.toString());\n\t\t}\n\n\t\t// Append scopes from a previous session.\n\t\t// This helps keep app credentials constant,\n\t\t// Avoiding having to keep tabs on what scopes are authorized\n\t\tif (session && 'scope' in session && session.scope instanceof String) {\n\t\t\tscope.push(session.scope);\n\t\t}\n\n\t\t// Join and Split again\n\t\tscope = scope.join(',').split(SCOPE_SPLIT);\n\n\t\t// Format remove duplicates and empty values\n\t\tscope = unique(scope).filter(filterEmpty);\n\n\t\t// Save the the scopes to the state with the names that they were requested with.\n\t\tp.qs.state.scope = scope.join(',');\n\n\t\t// Map scopes to the providers naming convention\n\t\tscope = scope.map(function(item) {\n\t\t\t// Does this have a mapping?\n\t\t\treturn (item in scopeMap) ? scopeMap[item] : item;\n\t\t});\n\n\t\t// Stringify and Arrayify so that double mapped scopes are given the chance to be formatted\n\t\tscope = scope.join(',').split(SCOPE_SPLIT);\n\n\t\t// Again...\n\t\t// Format remove duplicates and empty values\n\t\tscope = unique(scope).filter(filterEmpty);\n\n\t\t// Join with the expected scope delimiter into a string\n\t\tp.qs.scope = scope.join(provider.scope_delim || ',');\n\n\t\t// Is the user already signed in with the appropriate scopes, valid access_token?\n\t\tif (opts.force === false) {\n\n\t\t\tif (session && 'access_token' in session && session.access_token && 'expires' in session && session.expires > ((new Date()).getTime() / 1e3)) {\n\t\t\t\t// What is different about the scopes in the session vs the scopes in the new login?\n\t\t\t\tlet a = diff((session.scope || '').split(SCOPE_SPLIT), (p.qs.state.scope || '').split(SCOPE_SPLIT));\n\t\t\t\tif (a.length === 0) {\n\n\t\t\t\t\t// OK trigger the callback\n\t\t\t\t\taccept({\n\t\t\t\t\t\tunchanged: true,\n\t\t\t\t\t\tnetwork: p.network,\n\t\t\t\t\t\tauthResponse: session\n\t\t\t\t\t});\n\n\t\t\t\t\t// Nothing has changed\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Page URL\n\t\tif (opts.display === 'page' && opts.page_uri) {\n\t\t\t// Add a page location, place to endup after session has authenticated\n\t\t\tp.qs.state.page_uri = Url(opts.page_uri).href;\n\t\t}\n\n\t\t// Bespoke\n\t\t// Override login querystrings from auth_options\n\t\tif ('login' in provider && typeof (provider.login) === 'function') {\n\t\t\t// Format the paramaters according to the providers formatting function\n\t\t\tprovider.login(p);\n\t\t}\n\n\t\t// Add OAuth to state\n\t\t// Where the service is going to take advantage of the oauth_proxy\n\t\tif (!/\\btoken\\b/.test(responseType) ||\n\t\tparseInt(provider.oauth.version, 10) < 2 ||\n\t\t(opts.display === 'none' && provider.oauth.grant && session && session.refresh_token)) {\n\n\t\t\t// Add the oauth endpoints\n\t\t\tp.qs.state.oauth = provider.oauth;\n\n\t\t\t// Add the proxy url\n\t\t\tp.qs.state.oauth_proxy = opts.oauth_proxy;\n\n\t\t}\n\n\t\t// Convert state to a string\n\t\tp.qs.state = encodeURIComponent(JSON.stringify(p.qs.state));\n\n\t\t// URL\n\t\tif (parseInt(provider.oauth.version, 10) === 1) {\n\n\t\t\t// Turn the request to the OAuth Proxy for 3-legged auth\n\t\t\turl = createUrl(opts.oauth_proxy, p.qs, encodeFunction);\n\t\t}\n\n\t\t// Refresh token\n\t\telse if (opts.display === 'none' && provider.oauth.grant && session && session.refresh_token) {\n\n\t\t\t// Add the refresh_token to the request\n\t\t\tp.qs.refresh_token = session.refresh_token;\n\n\t\t\t// Define the request path\n\t\t\turl = createUrl(opts.oauth_proxy, p.qs, encodeFunction);\n\t\t}\n\t\telse {\n\t\t\turl = createUrl(provider.oauth.auth, p.qs, encodeFunction);\n\t\t}\n\n\t\t// Broadcast this event as an auth:init\n\t\temit('auth.init', p);\n\n\t\t// Execute\n\t\t// Trigger how we want self displayed\n\t\tif (opts.display === 'none') {\n\t\t\t// Sign-in in the background, iframe\n\t\t\tutils.iframe(url, redirectUri);\n\t\t}\n\n\t\t// Triggering popup?\n\t\telse if (opts.display === 'popup') {\n\n\t\t\tvar win = utils.popup(url, redirectUri, opts.popup);\n\n\t\t\tvar timer = setInterval(function() {\n\t\t\t\tif (!win || win.closed) {\n\t\t\t\t\tclearInterval(timer);\n\t\t\t\t\tif (!promise.state) {\n\n\t\t\t\t\t\tvar response = error('cancelled', 'Login has been cancelled');\n\n\t\t\t\t\t\tif (!popup) {\n\t\t\t\t\t\t\tresponse = error('blocked', 'Popup was blocked');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tresponse.network = p.network;\n\n\t\t\t\t\t\treject(response);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 100);\n\t\t}\n\n\t\telse {\n\t\t\twindow.location = url;\n\t\t}\n\n\t\tfunction encodeFunction(s) {return s;}\n\n\t\tfunction filterEmpty(s) {return !!s;}\n\t});\n\n\t// Bind callback to both reject and fulfill states\n\tpromise.then(p.callback, p.callback);\n\t// Trigger an event on the global listener\n\tfunction emit(s, value) {\n\t\thello.emit(s, value);\n\t}\n\tpromise.then(emit.bind(this, 'auth.login auth'), emit.bind(this, 'auth.failed auth'));\n\treturn promise;\n\t},\n\n\t// Remove any data associated with a given service\n\t// @param string name of the service\n\t// @param function callback\n\tlogout(...args) {\n\tconst utils = this.utils;\n\tconst p = argmap({name:'s', options: 'o', callback: 'f'}, args);\n\t// Create a new promise\n\tconst promise = new Promise((accept, reject) => {\n\n\t\tp.options = p.options || {};\n\n\t\t// Network\n\t\tp.name = p.name || this.settings.default_service;\n\t\tp.authResponse = utils.store(p.name);\n\n\t\tif (p.name && !(p.name in this.services)) {\n\n\t\t\treject(error('invalid_network', 'The network was unrecognized'));\n\n\t\t}\n\t\telse if (p.name && p.authResponse) {\n\n\t\t\t// Define the callback\n\t\t\tvar callback = function(opts) {\n\n\t\t\t\t// Remove from the store\n\t\t\t\tutils.store(p.name, null);\n\n\t\t\t\t// Emit events by default\n\t\t\t\taccept(merge({network:p.name}, opts || {}));\n\t\t\t};\n\n\t\t\t// Run an async operation to remove the users session\n\t\t\tvar _opts = {};\n\t\t\tif (p.options.force) {\n\t\t\t\tvar logout = this.services[p.name].logout;\n\t\t\t\tif (logout) {\n\t\t\t\t\t// Convert logout to URL string,\n\t\t\t\t\t// If no string is returned, then this function will handle the logout async style\n\t\t\t\t\tif (typeof (logout) === 'function') {\n\t\t\t\t\t\tlogout = logout(callback, p);\n\t\t\t\t\t}\n\n\t\t\t\t\t// If logout is a string then assume URL and open in iframe.\n\t\t\t\t\tif (typeof (logout) === 'string') {\n\t\t\t\t\t\tutils.iframe(logout);\n\t\t\t\t\t\t_opts.force = null;\n\t\t\t\t\t\t_opts.message = 'Logout success on providers site was indeterminate';\n\t\t\t\t\t}\n\t\t\t\t\telse if (logout === undefined) {\n\t\t\t\t\t\t// The callback function will handle the response.\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove local credentials\n\t\t\tcallback(_opts);\n\t\t}\n\t\telse {\n\t\t\treject(error('invalid_session', 'There was no session to remove'));\n\t\t}\n\t});\n\n\t// Add callback to events\n\tpromise.then(p.callback, p.callback);\n\t// Trigger an event on the global listener\n\tfunction emit(s, value) {\n\t\thello.emit(s, value);\n\t}\n\tpromise.then(emit.bind(this, 'auth.logout auth'), emit.bind(this, 'error'));\n\treturn promise;\n\t},\n\n\t// Returns all the sessions that are subscribed too\n\t// @param string optional, name of the service to get information about.\n\tgetAuthResponse(service) {\n\n\t\t// If the service doesn't exist\n\t\tservice = service || this.settings.default_service;\n\n\t\tif (!service || !(service in this.services)) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this.utils.store(service) || null;\n\t},\n\n\t// Events: placeholder for the events\n\tevents: {}\n});\n\nfunction error(code, message) {\n\treturn {\n\t\terror: {\n\t\t\tcode: code,\n\t\t\tmessage: message\n\t\t}\n\t};\n}\n\nhello.utils = {\n\tiframe,\n\tpopup,\n\trequest,\n\tstore\n};\n\n// Core utilities\nextend(hello.utils, {\n\n\t// OAuth and API response handler\n\tresponseHandler: function(window, parent) {\n\t\tconst utils = this;\n\t\tvar _this = this;\n\t\tvar p;\n\t\tvar location = window.location;\n\n\t\tconst redirect = (location.assign && location.assign.bind(location)) || (url => {\n\t\t\twindow.location = url;\n\t\t});\n\n\t\t// Is this an auth relay message which needs to call the proxy?\n\t\tp = param(location.search);\n\n\t\t// OAuth2 or OAuth1 server response?\n\t\tif (p && p.state && (p.code || p.oauth_token)) {\n\n\t\t\tvar state = JSON.parse(p.state);\n\n\t\t\t// Add this path as the redirect_uri\n\t\t\tp.redirect_uri = state.redirect_uri || location.href.replace(/[\\?\\#].*$/, '');\n\n\t\t\t// Redirect to the host\n\t\t\tvar path = state.oauth_proxy + '?' + param(p);\n\n\t\t\tredirect(path);\n\n\t\t\treturn;\n\t\t}\n\n\t\t// Save session, from redirected authentication\n\t\t// #access_token has come in?\n\t\t//\n\t\t// FACEBOOK is returning auth errors within as a query_string... thats a stickler for consistency.\n\t\t// SoundCloud is the state in the querystring and the token in the hashtag, so we'll mix the two together\n\n\t\tp = merge(param(location.search || ''), param(location.hash || ''));\n\n\t\t// If p.state\n\t\tif (p && 'state' in p) {\n\n\t\t\t// Remove any addition information\n\t\t\t// E.g. p.state = 'facebook.page';\n\t\t\ttry {\n\t\t\t\tvar a = JSON.parse(p.state);\n\t\t\t\textend(p, a);\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\tconsole.error('Could not decode state parameter');\n\t\t\t}\n\n\t\t\t// Access_token?\n\t\t\tif (('access_token' in p && p.access_token) && p.network) {\n\n\t\t\t\tif (!p.expires_in || parseInt(p.expires_in, 10) === 0) {\n\t\t\t\t\t// If p.expires_in is unset, set to 0\n\t\t\t\t\tp.expires_in = 0;\n\t\t\t\t}\n\n\t\t\t\tp.expires_in = parseInt(p.expires_in, 10);\n\t\t\t\tp.expires = ((new Date()).getTime() / 1e3) + (p.expires_in || (60 * 60 * 24 * 365));\n\n\t\t\t\t// Lets use the \"state\" to assign it to one of our networks\n\t\t\t\tauthCallback(p, window, parent);\n\t\t\t}\n\n\t\t\t// Error=?\n\t\t\t// &error_description=?\n\t\t\t// &state=?\n\t\t\telse if (('error' in p && p.error) && p.network) {\n\n\t\t\t\tp.error = {\n\t\t\t\t\tcode: p.error,\n\t\t\t\t\tmessage: p.error_message || p.error_description\n\t\t\t\t};\n\n\t\t\t\t// Let the state handler handle it\n\t\t\t\tauthCallback(p, window, parent);\n\t\t\t}\n\n\t\t\t// API call, or a cancelled login\n\t\t\t// Result is serialized JSON string\n\t\t\telse if (p.callback && p.callback in parent) {\n\n\t\t\t\t// Trigger a function in the parent\n\t\t\t\tvar res = 'result' in p && p.result ? JSON.parse(p.result) : false;\n\n\t\t\t\t// Trigger the callback on the parent\n\t\t\t\tcallback(parent, p.callback)(res);\n\t\t\t\tcloseWindow(window);\n\t\t\t}\n\n\t\t\t// If this page is still open\n\t\t\tif (p.page_uri) {\n\t\t\t\tredirect(p.page_uri);\n\t\t\t}\n\t\t}\n\n\t\t// OAuth redirect, fixes URI fragments from being lost in Safari\n\t\t// (URI Fragments within 302 Location URI are lost over HTTPS)\n\t\t// Loading the redirect.html before triggering the OAuth Flow seems to fix it.\n\t\telse if ('oauth_redirect' in p) {\n\n\t\t\tredirect(decodeURIComponent(p.oauth_redirect));\n\t\t\treturn;\n\t\t}\n\n\t\t// Trigger a callback to authenticate\n\t\tfunction authCallback(obj, window, parent) {\n\n\t\t\tvar cb = obj.callback;\n\t\t\tvar network = obj.network;\n\n\t\t\t// Trigger the callback on the parent\n\t\t\tutils.store(network, obj);\n\n\t\t\t// If this is a page request it has no parent or opener window to handle callbacks\n\t\t\tif (('display' in obj) && obj.display === 'page') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Remove from session object\n\t\t\tif (parent && cb && cb in parent) {\n\n\t\t\t\ttry {\n\t\t\t\t\tdelete obj.callback;\n\t\t\t\t}\n\t\t\t\tcatch (e) {}\n\n\t\t\t\t// Update store\n\t\t\t\tutils.store(network, obj);\n\n\t\t\t\t// Call the globalEvent function on the parent\n\t\t\t\t// It's safer to pass back a string to the parent,\n\t\t\t\t// Rather than an object/array (better for IE8)\n\t\t\t\tvar str = JSON.stringify(obj);\n\n\t\t\t\ttry {\n\t\t\t\t\tcallback(parent, cb)(str);\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\t// Error thrown whilst executing parent callback\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcloseWindow(window);\n\t\t}\n\n\t\tfunction callback(parent, callbackID) {\n\t\t\tif (callbackID.indexOf('_hellojs_') !== 0) {\n\t\t\t\treturn function() {\n\t\t\t\t\tthrow 'Could not execute callback ' + callbackID;\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn parent[callbackID];\n\t\t}\n\t}\n});\n\n\n// Events\n// Extend the hello object with its own event instance\npubsub.call(hello);\n\n///////////////////////////////////\n// Monitoring session state\n// Check for session changes\n///////////////////////////////////\n\n(function(hello) {\n\n\t// Monitor for a change in state and fire\n\tvar oldSessions = {};\n\n\t// Hash of expired tokens\n\tvar expired = {};\n\n\t// Listen to other triggers to Auth events, use these to update this\n\thello.on('auth.login, auth.logout', function(auth) {\n\t\tif (auth && typeof (auth) === 'object' && auth.network) {\n\t\t\toldSessions[auth.network] = hello.utils.store(auth.network) || {};\n\t\t}\n\t});\n\n\t(function self() {\n\n\t\tvar CURRENT_TIME = ((new Date()).getTime() / 1e3);\n\t\tvar emit = function(eventName) {\n\t\t\thello.emit('auth.' + eventName, {\n\t\t\t\tnetwork: name,\n\t\t\t\tauthResponse: session\n\t\t\t});\n\t\t};\n\n\t\t// Loop through the services\n\t\tfor (var name in hello.services) {if (hello.services.hasOwnProperty(name)) {\n\n\t\t\tif (!hello.services[name].id) {\n\t\t\t\t// We haven't attached an ID so dont listen.\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Get session\n\t\t\tvar session = hello.utils.store(name) || {};\n\t\t\tvar provider = hello.services[name];\n\t\t\tvar oldSess = oldSessions[name] || {};\n\n\t\t\t// Listen for globalEvents that did not get triggered from the child\n\t\t\tif (session && 'callback' in session) {\n\n\t\t\t\t// To do remove from session object...\n\t\t\t\tvar cb = session.callback;\n\t\t\t\ttry {\n\t\t\t\t\tdelete session.callback;\n\t\t\t\t}\n\t\t\t\tcatch (e) {}\n\n\t\t\t\t// Update store\n\t\t\t\t// Removing the callback\n\t\t\t\thello.utils.store(name, session);\n\n\t\t\t\t// Emit global events\n\t\t\t\ttry {\n\t\t\t\t\twindow[cb](session);\n\t\t\t\t}\n\t\t\t\tcatch (e) {}\n\t\t\t}\n\n\t\t\t// Refresh token\n\t\t\tif (session && ('expires' in session) && session.expires < CURRENT_TIME) {\n\n\t\t\t\t// If auto refresh is possible\n\t\t\t\t// Either the browser supports\n\t\t\t\tvar refresh = provider.refresh || session.refresh_token;\n\n\t\t\t\t// Has the refresh been run recently?\n\t\t\t\tif (refresh && (!(name in expired) || expired[name] < CURRENT_TIME)) {\n\t\t\t\t\t// Try to resignin\n\t\t\t\t\thello.emit('notice', name + ' has expired trying to resignin');\n\t\t\t\t\thello.login(name, {display: 'none', force: false});\n\n\t\t\t\t\t// Update expired, every 10 minutes\n\t\t\t\t\texpired[name] = CURRENT_TIME + 600;\n\t\t\t\t}\n\n\t\t\t\t// Does this provider not support refresh\n\t\t\t\telse if (!refresh && !(name in expired)) {\n\t\t\t\t\t// Label the event\n\t\t\t\t\temit('expired');\n\t\t\t\t\texpired[name] = true;\n\t\t\t\t}\n\n\t\t\t\t// If session has expired then we dont want to store its value until it can be established that its been updated\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Has session changed?\n\t\t\telse if (oldSess.access_token === session.access_token &&\n\t\t\toldSess.expires === session.expires) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Access_token has been removed\n\t\t\telse if (!session.access_token && oldSess.access_token) {\n\t\t\t\temit('logout');\n\t\t\t}\n\n\t\t\t// Access_token has been created\n\t\t\telse if (session.access_token && !oldSess.access_token) {\n\t\t\t\temit('login');\n\t\t\t}\n\n\t\t\t// Access_token has been updated\n\t\t\telse if (session.expires !== oldSess.expires) {\n\t\t\t\temit('update');\n\t\t\t}\n\n\t\t\t// Updated stored session\n\t\t\toldSessions[name] = session;\n\n\t\t\t// Remove the expired flags\n\t\t\tif (name in expired) {\n\t\t\t\tdelete expired[name];\n\t\t\t}\n\t\t}}\n\n\t\t// Check error events\n\t\tsetTimeout(self, 1000);\n\t})();\n\n})(hello);\n\n// EOF CORE lib\n//////////////////////////////////\n\n/////////////////////////////////////////\n// API\n// @param path    string\n// @param query   object (optional)\n// @param method  string (optional)\n// @param data    object (optional)\n// @param timeout integer (optional)\n// @param callback  function (optional)\n\nhello.api = function(...args) {\n\n// Arguments\nvar p = argmap({path: 's!', query: 'o', method: 's', data: 'o', timeout: 'i', callback: 'f'}, args);\n\n// Construct a new Promise object\nlet promise = new Promise((accept, reject) => {\n\n\t// Remove the network from path, e.g. facebook:/me/friends\n\t// Results in { network : facebook, path : me/friends }\n\tif (!p || !p.path) {\n\t\treturn reject(error('invalid_path', 'Missing the path parameter from the request'));\n\t}\n\n\t// Method\n\tp.method = (p.method || 'get').toLowerCase();\n\n\t// Headers\n\tp.headers = p.headers || {};\n\n\t// Response format\n\tp.responseType = p.responseType || 'json';\n\n\t// Query\n\tp.query = p.query || {};\n\n\t// If get, put all parameters into query\n\tif (p.method === 'get' || p.method === 'delete') {\n\t\textend(p.query, p.data);\n\t\tp.data = {};\n\t}\n\n\tvar data = p.data = p.data || {};\n\n\tp.path = p.path.replace(/^\\/+/, '');\n\tvar a = (p.path.split(/[\\/\\:]/, 2) || [])[0].toLowerCase();\n\n\tif (a in this.services) {\n\t\tp.network = a;\n\t\tvar reg = new RegExp('^' + a + ':?\\/?');\n\t\tp.path = p.path.replace(reg, '');\n\t}\n\n\t// Network & Provider\n\t// Define the network that this request is made for\n\tp.network = this.settings.default_service = p.network || this.settings.default_service;\n\tvar o = this.services[p.network];\n\n\t// INVALID\n\t// Is there no service by the given network name?\n\tif (!o) {\n\t\treturn reject(error('invalid_network', 'Could not match the service requested: ' + p.network));\n\t}\n\n\t// PATH\n\t// As long as the path isn't flagged as unavaiable, e.g. path == false\n\n\tif (!(!(p.method in o) || !(p.path in o[p.method]) || o[p.method][p.path] !== false)) {\n\t\treturn reject(error('invalid_path', 'The provided path is not available on the selected network'));\n\t}\n\n\t// PROXY\n\t// OAuth1 calls always need a proxy\n\n\tif (!p.oauth_proxy) {\n\t\tp.oauth_proxy = this.settings.oauth_proxy;\n\t}\n\n\tif (!('proxy' in p)) {\n\t\tp.proxy = p.oauth_proxy && o.oauth && parseInt(o.oauth.version, 10) === 1;\n\t}\n\n\t// TIMEOUT\n\t// Adopt timeout from global settings by default\n\n\tif (!('timeout' in p)) {\n\t\tp.timeout = this.settings.timeout;\n\t}\n\n\t// Format response\n\t// Whether to run the raw response through post processing.\n\tif (!('formatResponse' in p)) {\n\t\tp.formatResponse = true;\n\t}\n\n\t// Get the current session\n\t// Append the access_token to the query\n\tp.authResponse = this.getAuthResponse(p.network);\n\tif (p.authResponse && p.authResponse.access_token) {\n\t\tp.query.access_token = p.authResponse.access_token;\n\t}\n\n\tvar url = p.path;\n\tvar m;\n\n\t// Store the query as options\n\t// This is used to populate the request object before the data is augmented by the prewrap handlers.\n\tp.options = clone(p.query);\n\n\t// Clone the data object\n\t// Prevent this script overwriting the data of the incoming object.\n\t// Ensure that everytime we run an iteration the callbacks haven't removed some data\n\tp.data = clone(data);\n\n\t// URL Mapping\n\t// Is there a map for the given URL?\n\tvar actions = o[{'delete': 'del'}[p.method] || p.method] || {};\n\n\t// Extrapolate the QueryString\n\t// Provide a clean path\n\t// Move the querystring into the data\n\tif (p.method === 'get') {\n\n\t\tvar query = url.split(/[\\?#]/)[1];\n\t\tif (query) {\n\t\t\textend(p.query, param(query));\n\n\t\t\t// Remove the query part from the URL\n\t\t\turl = url.replace(/\\?.*?(#|$)/, '$1');\n\t\t}\n\t}\n\n\t// Is the hash fragment defined\n\tif ((m = url.match(/#(.+)/, ''))) {\n\t\turl = url.split('#')[0];\n\t\tp.path = m[1];\n\t}\n\telse if (url in actions) {\n\t\tp.path = url;\n\t\turl = actions[url];\n\t}\n\telse if ('default' in actions) {\n\t\turl = actions['default'];\n\t}\n\n\t// Redirect Handler\n\t// This defines for the Form+Iframe+Hash hack where to return the results too.\n\tp.redirect_uri = this.settings.redirect_uri;\n\n\t// Define FormatHandler\n\t// The request can be procesed in a multitude of ways\n\t// Here's the options - depending on the browser and endpoint\n\tp.xhr = o.xhr;\n\tp.jsonp = o.jsonp;\n\tp.form = o.form;\n\n\t// Define Proxy handler\n\tp.proxyHandler = (p, callback) => {\n\n\t\t// Are we signing the request?\n\t\tvar sign;\n\n\t\t// OAuth1\n\t\t// Remove the token from the query before signing\n\t\tif (p.authResponse && p.authResponse.oauth && parseInt(p.authResponse.oauth.version, 10) === 1) {\n\n\t\t\t// OAUTH SIGNING PROXY\n\t\t\tsign = p.query.access_token;\n\n\t\t\t// Remove the access_token\n\t\t\tdelete p.query.access_token;\n\n\t\t\t// Enfore use of Proxy\n\t\t\tp.proxy = true;\n\t\t}\n\n\t\t// POST body to querystring\n\t\tif (p.data && (p.method === 'get' || p.method === 'delete')) {\n\t\t\t// Attach the p.data to the querystring.\n\t\t\textend(p.query, p.data);\n\t\t\tp.data = null;\n\t\t}\n\n\t\t// Construct the path\n\t\tvar path = createUrl(p.url, p.query);\n\n\t\t// Proxy the request through a server\n\t\t// Used for signing OAuth1\n\t\t// And circumventing services without Access-Control Headers\n\t\tif (p.proxy) {\n\t\t\t// Use the proxy as a path\n\t\t\tpath = createUrl(p.oauth_proxy, {\n\t\t\t\tpath: path,\n\t\t\t\taccess_token: sign || '',\n\n\t\t\t\t// This will prompt the request to be signed as though it is OAuth1\n\t\t\t\tthen: p.proxy_response_type || (p.method.toLowerCase() === 'get' ? 'redirect' : 'proxy'),\n\t\t\t\tmethod: p.method.toLowerCase(),\n\t\t\t\tsuppress_response_codes: true\n\t\t\t});\n\t\t}\n\n\t\tcallback(path);\n\t};\n\n\n\t// If url needs a base\n\t// Wrap everything in\n\tlet getPath = (url) => {\n\n\t\t// Format the string if it needs it\n\t\turl = url.replace(/\\@\\{([a-z\\_\\-]+)(\\|.*?)?\\}/gi, function(m, key, defaults) {\n\t\t\tvar val = defaults ? defaults.replace(/^\\|/, '') : '';\n\t\t\tif (key in p.query) {\n\t\t\t\tval = p.query[key];\n\t\t\t\tdelete p.query[key];\n\t\t\t}\n\t\t\telse if (p.data && key in p.data) {\n\t\t\t\tval = p.data[key];\n\t\t\t\tdelete p.data[key];\n\t\t\t}\n\t\t\telse if (!defaults) {\n\t\t\t\treject(error('missing_attribute', 'The attribute ' + key + ' is missing from the request'));\n\t\t\t}\n\n\t\t\treturn val;\n\t\t});\n\n\t\t// Add base\n\t\tif (!url.match(/^https?:\\/\\//)) {\n\t\t\turl = o.base + url;\n\t\t}\n\n\t\t// Define the request URL\n\t\tp.url = url;\n\n\t\t// Make the HTTP request with the curated request object\n\t\t// CALLBACK HANDLER\n\t\t// @ response object\n\t\t// @ statusCode integer if available\n\t\tthis.utils.request(p, (r, headers) => {\n\n\t\t\t// Is this a raw response?\n\t\t\tif (!p.formatResponse) {\n\t\t\t\t// Bad request? error statusCode or otherwise contains an error response vis JSONP?\n\t\t\t\tif (typeof headers === 'object' ? (headers.statusCode >= 400) : (typeof r === 'object' && 'error' in r)) {\n\t\t\t\t\treject(r);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\taccept(r);\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Should this be an object\n\t\t\tif (r === true) {\n\t\t\t\tr = {success:true};\n\t\t\t}\n\n\t\t\t// The delete callback needs a better response\n\t\t\tif (p.method === 'delete') {\n\t\t\t\tr = (!r || isEmpty(r)) ? {success:true} : r;\n\t\t\t}\n\n\t\t\t// FORMAT RESPONSE?\n\t\t\t// Does self request have a corresponding formatter\n\t\t\tif (o.wrap && ((p.path in o.wrap) || ('default' in o.wrap))) {\n\t\t\t\tvar wrap = (p.path in o.wrap ? p.path : 'default');\n\t\t\t\tvar time = (new Date()).getTime();\n\n\t\t\t\t// FORMAT RESPONSE\n\t\t\t\tvar b = o.wrap[wrap](r, headers, p);\n\n\t\t\t\t// Has the response been utterly overwritten?\n\t\t\t\t// Typically self augments the existing object.. but for those rare occassions\n\t\t\t\tif (b) {\n\t\t\t\t\tr = b;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Is there a next_page defined in the response?\n\t\t\tif (r && 'paging' in r && r.paging.next) {\n\n\t\t\t\t// Add the relative path if it is missing from the paging/next path\n\t\t\t\tif (r.paging.next[0] === '?') {\n\t\t\t\t\tr.paging.next = p.path + r.paging.next;\n\t\t\t\t}\n\n\t\t\t\t// The relative path has been defined, lets markup the handler in the HashFragment\n\t\t\t\telse {\n\t\t\t\t\tr.paging.next += '#' + p.path;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Dispatch to listeners\n\t\t\t// Emit events which pertain to the formatted response\n\t\t\tif (!r || 'error' in r) {\n\t\t\t\treject(r);\n\t\t\t}\n\t\t\telse {\n\t\t\t\taccept(r);\n\t\t\t}\n\t\t});\n\t};\n\n\t// Make request\n\tif (typeof (url) === 'function') {\n\t\t// Does self have its own callback?\n\t\turl(p, getPath);\n\t}\n\telse {\n\t\t// Else the URL is a string\n\t\tgetPath(url);\n\t}\n});\n\n// Completed event callback\npromise.then(p.callback, p.callback);\n\nreturn promise;\n\n};\n\n\n/////////////////////////////////////\n//\n// Save any access token that is in the current page URL\n// Handle any response solicited through iframe hash tag following an API request\n//\n/////////////////////////////////////\n\nhello.utils.responseHandler(window, window.opener || window.parent);\n",
    "// Phonegap override for hello.phonegap.js\nconst URL = require('tricks/window/url');\nconst hello = require('./hello');\n\n(function() {\n\n\t// Is this a phonegap implementation?\n\tif (!(/^file:\\/{3}[^\\/]/.test(window.location.href) && window.cordova)) {\n\t\t// Cordova is not included.\n\t\treturn;\n\t}\n\n\t// Augment the hidden iframe method\n\thello.utils.iframe = function(url, redirectUri) {\n\t\thello.utils.popup(url, redirectUri, {hidden: 'yes'});\n\t};\n\n\t// Augment the popup\n\tvar utilPopup = hello.utils.popup;\n\n\t// Replace popup\n\thello.utils.popup = function(url, redirectUri, options) {\n\n\t\t// Run the standard\n\t\tvar popup = utilPopup.call(this, url, redirectUri, options);\n\n\t\t// Create a function for reopening the popup, and assigning events to the new popup object\n\t\t// PhoneGap support\n\t\t// Add an event listener to listen to the change in the popup windows URL\n\t\t// This must appear before popup.focus();\n\t\ttry {\n\t\t\tif (popup && popup.addEventListener) {\n\n\t\t\t\t// Get the origin of the redirect URI\n\n\t\t\t\tvar a = URL(redirectUri);\n\t\t\t\tvar redirectUriOrigin = a.origin || (a.protocol + '//' + a.hostname);\n\n\t\t\t\t// Listen to changes in the InAppBrowser window\n\n\t\t\t\tpopup.addEventListener('loadstart', function(e) {\n\n\t\t\t\t\tvar url = e.url;\n\n\t\t\t\t\t// Is this the path, as given by the redirectUri?\n\t\t\t\t\t// Check the new URL agains the redirectUriOrigin.\n\t\t\t\t\t// According to #63 a user could click 'cancel' in some dialog boxes ....\n\t\t\t\t\t// The popup redirects to another page with the same origin, yet we still wish it to close.\n\n\t\t\t\t\tif (url.indexOf(redirectUriOrigin) !== 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Split appart the URL\n\t\t\t\t\tvar a = URL(url);\n\n\t\t\t\t\t// We dont have window operations on the popup so lets create some\n\t\t\t\t\t// The location can be augmented in to a location object like so...\n\n\t\t\t\t\tvar _popup = {\n\t\t\t\t\t\tlocation: {\n\t\t\t\t\t\t\t// Change the location of the popup\n\t\t\t\t\t\t\tassign: function(location) {\n\n\t\t\t\t\t\t\t\t// Unfourtunatly an app is may not change the location of a InAppBrowser window.\n\t\t\t\t\t\t\t\t// So to shim this, just open a new one.\n\t\t\t\t\t\t\t\tpopup.executeScript({code: 'window.location.href = \"' + location + ';\"'});\n\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\tsearch: a.search,\n\t\t\t\t\t\t\thash: a.hash,\n\t\t\t\t\t\t\thref: a.href\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclose: function() {\n\t\t\t\t\t\t\tif (popup.close) {\n\t\t\t\t\t\t\t\tpopup.close();\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tpopup.closed = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcatch (_e) {}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t// Then this URL contains information which HelloJS must process\n\t\t\t\t\t// URL string\n\t\t\t\t\t// Window - any action such as window relocation goes here\n\t\t\t\t\t// Opener - the parent window which opened this, aka this script\n\n\t\t\t\t\thello.utils.responseHandler(_popup, window);\n\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tcatch (e) {}\n\n\t\treturn popup;\n\t};\n\n})();\n",
    "const hello = require('../hello.js');\nlet toBlob = require('tricks/object/toBlob');\nlet querystringify = require('tricks/string/querystringify');\n\n(function(hello) {\n\n\t// OAuth1\n\tvar OAuth1Settings = {\n\t\tversion: '1.0',\n\t\tauth: 'https://www.dropbox.com/1/oauth/authorize',\n\t\trequest: 'https://api.dropbox.com/1/oauth/request_token',\n\t\ttoken: 'https://api.dropbox.com/1/oauth/access_token'\n\t};\n\n\t// OAuth2 Settings\n\tvar OAuth2Settings = {\n\t\tversion: 2,\n\t\tauth: 'https://www.dropbox.com/1/oauth2/authorize',\n\t\tgrant: 'https://api.dropbox.com/1/oauth2/token'\n\t};\n\n\t// Initiate the Dropbox module\n\thello.init({\n\n\t\tdropbox: {\n\n\t\t\tname: 'Dropbox',\n\n\t\t\toauth: OAuth2Settings,\n\n\t\t\tlogin: function(p) {\n\t\t\t\t// OAuth2 non-standard adjustments\n\t\t\t\tp.qs.scope = '';\n\n\t\t\t\t// Should this be run as OAuth1?\n\t\t\t\t// If the redirect_uri is is HTTP (non-secure) then its required to revert to the OAuth1 endpoints\n\t\t\t\tvar redirect = decodeURIComponent(p.qs.redirect_uri);\n\t\t\t\tif (redirect.indexOf('http:') === 0 && redirect.indexOf('http://localhost/') !== 0) {\n\n\t\t\t\t\t// Override the dropbox OAuth settings.\n\t\t\t\t\thello.services.dropbox.oauth = OAuth1Settings;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// Override the dropbox OAuth settings.\n\t\t\t\t\thello.services.dropbox.oauth = OAuth2Settings;\n\t\t\t\t}\n\n\t\t\t\t// The dropbox login window is a different size\n\t\t\t\tp.options.popup.width = 1000;\n\t\t\t\tp.options.popup.height = 1000;\n\t\t\t},\n\n\t\t\t/*\n\t\t\t\tDropbox does not allow insecure HTTP URI's in the redirect_uri field\n\t\t\t\t...otherwise I'd love to use OAuth2\n\n\t\t\t\tFollow request https://forums.dropbox.com/topic.php?id=106505\n\n\t\t\t\tp.qs.response_type = 'code';\n\t\t\t\toauth: {\n\t\t\t\t\tversion: 2,\n\t\t\t\t\tauth: 'https://www.dropbox.com/1/oauth2/authorize',\n\t\t\t\t\tgrant: 'https://api.dropbox.com/1/oauth2/token'\n\t\t\t\t}\n\t\t\t*/\n\n\t\t\t// API Base URL\n\t\t\tbase: 'https://api.dropbox.com/1/',\n\n\t\t\t// Bespoke setting: this is states whether to use the custom environment of Dropbox or to use their own environment\n\t\t\t// Because it's notoriously difficult for Dropbox too provide access from other webservices, this defaults to Sandbox\n\t\t\troot: 'sandbox',\n\n\t\t\t// Map GET requests\n\t\t\tget: {\n\t\t\t\tme: 'account/info',\n\n\t\t\t\t// Https://www.dropbox.com/developers/core/docs#metadata\n\t\t\t\t'me/files': req('metadata/auto/@{parent|}'),\n\t\t\t\t'me/folder': req('metadata/auto/@{id}'),\n\t\t\t\t'me/folders': req('metadata/auto/'),\n\n\t\t\t\t'default': function(p, callback) {\n\t\t\t\t\tif (p.path.match('https://api-content.dropbox.com/1/files/')) {\n\t\t\t\t\t\t// This is a file, return binary data\n\t\t\t\t\t\tp.method = 'blob';\n\t\t\t\t\t}\n\n\t\t\t\t\tcallback(p.path);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tpost: {\n\t\t\t\t'me/files': function(p, callback) {\n\n\t\t\t\t\tvar path = p.data.parent;\n\t\t\t\t\tvar fileName = p.data.name;\n\n\t\t\t\t\tp.data = {\n\t\t\t\t\t\tfile: p.data.file\n\t\t\t\t\t};\n\n\t\t\t\t\t// Does this have a data-uri to upload as a file?\n\t\t\t\t\tif (typeof (p.data.file) === 'string') {\n\t\t\t\t\t\tp.data.file = toBlob(p.data.file);\n\t\t\t\t\t}\n\n\t\t\t\t\tcallback('https://api-content.dropbox.com/1/files_put/auto/' + path + '/' + fileName);\n\t\t\t\t},\n\n\t\t\t\t'me/folders': function(p, callback) {\n\n\t\t\t\t\tvar name = p.data.name;\n\t\t\t\t\tp.data = {};\n\n\t\t\t\t\tcallback('fileops/create_folder?root=@{root|sandbox}&' + querystringify({\n\t\t\t\t\t\tpath: name\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Map DELETE requests\n\t\t\tdel: {\n\t\t\t\t'me/files': 'fileops/delete?root=@{root|sandbox}&path=@{id}',\n\t\t\t\t'me/folder': 'fileops/delete?root=@{root|sandbox}&path=@{id}'\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: function(o) {\n\t\t\t\t\tformatError(o);\n\t\t\t\t\tif (!o.uid) {\n\t\t\t\t\t\treturn o;\n\t\t\t\t\t}\n\n\t\t\t\t\to.name = o.display_name;\n\t\t\t\t\tvar m = o.name.split(' ');\n\t\t\t\t\to.first_name = m.shift();\n\t\t\t\t\to.last_name = m.join(' ');\n\t\t\t\t\to.id = o.uid;\n\t\t\t\t\tdelete o.uid;\n\t\t\t\t\tdelete o.display_name;\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'default': function(o, headers, req) {\n\t\t\t\t\tformatError(o);\n\t\t\t\t\tif (o.is_dir && o.contents) {\n\t\t\t\t\t\to.data = o.contents;\n\t\t\t\t\t\tdelete o.contents;\n\n\t\t\t\t\t\to.data.forEach(function(item) {\n\t\t\t\t\t\t\titem.root = o.root;\n\t\t\t\t\t\t\tformatFile(item, headers, req);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tformatFile(o, headers, req);\n\n\t\t\t\t\tif (o.is_deleted) {\n\t\t\t\t\t\to.success = true;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Doesn't return the CORS headers\n\t\t\txhr: function(p) {\n\n\t\t\t\t// The proxy supports allow-cross-origin-resource\n\t\t\t\t// Alas that's the only thing we're using.\n\t\t\t\tif (p.data && p.data.file) {\n\t\t\t\t\tvar file = p.data.file;\n\t\t\t\t\tif (file) {\n\t\t\t\t\t\tif (file.files) {\n\t\t\t\t\t\t\tp.data = file.files[0];\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tp.data = file;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (p.method === 'delete') {\n\t\t\t\t\tp.method = 'post';\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tform: function(p, qs) {\n\t\t\t\tdelete qs.state;\n\t\t\t\tdelete qs.redirect_uri;\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction formatError(o) {\n\t\tif (o && 'error' in o) {\n\t\t\to.error = {\n\t\t\t\tcode: 'server_error',\n\t\t\t\tmessage: o.error.message || o.error\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction formatFile(o, headers, req) {\n\n\t\tif (typeof o !== 'object' ||\n\t\t\t(typeof Blob !== 'undefined' && o instanceof Blob) ||\n\t\t\t(typeof ArrayBuffer !== 'undefined' && o instanceof ArrayBuffer)) {\n\t\t\t// This is a file, let it through unformatted\n\t\t\treturn;\n\t\t}\n\n\t\tif ('error' in o) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar path = (o.root !== 'app_folder' ? o.root : '') + o.path.replace(/\\&/g, '%26');\n\t\tpath = path.replace(/^\\//, '');\n\t\tif (o.thumb_exists) {\n\t\t\to.thumbnail = req.oauth_proxy + '?path=' +\n\t\t\tencodeURIComponent('https://api-content.dropbox.com/1/thumbnails/auto/' + path + '?format=jpeg&size=m') + '&access_token=' + req.options.access_token;\n\t\t}\n\n\t\to.type = (o.is_dir ? 'folder' : o.mime_type);\n\t\to.name = o.path.replace(/.*\\//g, '');\n\t\tif (o.is_dir) {\n\t\t\to.files = path.replace(/^\\//, '');\n\t\t}\n\t\telse {\n\t\t\to.downloadLink = hello.settings.oauth_proxy + '?path=' +\n\t\t\tencodeURIComponent('https://api-content.dropbox.com/1/files/auto/' + path) + '&access_token=' + req.options.access_token;\n\t\t\to.file = 'https://api-content.dropbox.com/1/files/auto/' + path;\n\t\t}\n\n\t\tif (!o.id) {\n\t\t\to.id = o.path.replace(/^\\//, '');\n\t\t}\n\n\t\t// O.media = 'https://api-content.dropbox.com/1/files/' + path;\n\t}\n\n\tfunction req(str) {\n\t\treturn function(p, cb) {\n\t\t\tdelete p.query.limit;\n\t\t\tcb(str);\n\t\t};\n\t}\n\n})(hello);\n",
    "const hello = require('../hello.js');\n\nconst globalCallback = require('tricks/events/globalCallback');\nconst hasBinary = require('tricks/object/hasBinary');\nconst querystringify = require('tricks/string/querystringify');\nconst toBlob = require('tricks/object/toBlob');\n\n(function(hello) {\n\t// For APIs, once a version is no longer usable, any calls made to it will be defaulted to the next oldest usable version.\n\t// So we explicitly state it.\n\tvar version = 'v2.9';\n\n\thello.init({\n\n\t\tfacebook: {\n\n\t\t\tname: 'Facebook',\n\n\t\t\t// SEE https://developers.facebook.com/docs/facebook-login/manually-build-a-login-flow\n\t\t\toauth: {\n\t\t\t\tversion: 2,\n\t\t\t\tauth: 'https://www.facebook.com/' + version + '/dialog/oauth/',\n\t\t\t\tgrant: 'https://graph.facebook.com/oauth/access_token'\n\t\t\t},\n\n\t\t\t// Authorization scopes\n\t\t\tscope: {\n\t\t\t\tbasic: 'public_profile',\n\t\t\t\temail: 'email',\n\t\t\t\tshare: 'user_posts',\n\t\t\t\tbirthday: 'user_birthday',\n\t\t\t\tevents: 'user_events',\n\t\t\t\tphotos: 'user_photos',\n\t\t\t\tvideos: 'user_videos',\n\t\t\t\tfriends: 'user_friends',\n\t\t\t\tfiles: 'user_photos,user_videos',\n\t\t\t\tpublish_files: 'user_photos,user_videos,publish_actions',\n\t\t\t\tpublish: 'publish_actions',\n\n\t\t\t\t// Deprecated in v2.0\n\t\t\t\t// Create_event\t: 'create_event',\n\n\t\t\t\toffline_access: ''\n\t\t\t},\n\n\t\t\t// Refresh the access_token\n\t\t\trefresh: false,\n\n\t\t\tlogin: function(p) {\n\n\t\t\t\t// Reauthenticate\n\t\t\t\t// https://developers.facebook.com/docs/facebook-login/reauthentication\n\t\t\t\tif (p.options.force) {\n\t\t\t\t\tp.qs.auth_type = 'reauthenticate';\n\t\t\t\t}\n\n\t\t\t\t// Set the display value\n\t\t\t\tp.qs.display = p.options.display || 'popup';\n\t\t\t},\n\n\t\t\tlogout: function(callback, options) {\n\t\t\t\t// Assign callback to a global handler\n\t\t\t\tvar callbackID = globalCallback(callback);\n\t\t\t\tvar redirect = encodeURIComponent(hello.settings.redirect_uri + '?' + querystringify({callback:callbackID, result: JSON.stringify({force:true}), state: '{}'}));\n\t\t\t\tvar token = (options.authResponse || {}).access_token;\n\t\t\t\thello.utils.iframe('https://www.facebook.com/logout.php?next=' + redirect + '&access_token=' + token);\n\n\t\t\t\t// Possible responses:\n\t\t\t\t// String URL\t- hello.logout should handle the logout\n\t\t\t\t// Undefined\t- this function will handle the callback\n\t\t\t\t// True - throw a success, this callback isn't handling the callback\n\t\t\t\t// False - throw a error\n\t\t\t\tif (!token) {\n\t\t\t\t\t// If there isn't a token, the above wont return a response, so lets trigger a response\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// API Base URL\n\t\t\tbase: 'https://graph.facebook.com/' + version + '/',\n\n\t\t\t// Map GET requests\n\t\t\tget: {\n\t\t\t\tme: 'me?fields=email,first_name,last_name,name,timezone,verified',\n\t\t\t\t'me/friends': 'me/friends',\n\t\t\t\t'me/following': 'me/friends',\n\t\t\t\t'me/followers': 'me/friends',\n\t\t\t\t'me/share': 'me/feed',\n\t\t\t\t'me/like': 'me/likes',\n\t\t\t\t'me/files': 'me/albums',\n\t\t\t\t'me/albums': 'me/albums?fields=cover_photo,name',\n\t\t\t\t'me/album': '@{id}/photos?fields=picture',\n\t\t\t\t'me/photos': 'me/photos',\n\t\t\t\t'me/photo': '@{id}',\n\t\t\t\t'friend/albums': '@{id}/albums',\n\t\t\t\t'friend/photos': '@{id}/photos'\n\n\t\t\t\t// Pagination\n\t\t\t\t// Https://developers.facebook.com/docs/reference/api/pagination/\n\t\t\t},\n\n\t\t\t// Map POST requests\n\t\t\tpost: {\n\t\t\t\t'me/share': 'me/feed',\n\t\t\t\t'me/photo': '@{id}'\n\n\t\t\t\t// Https://developers.facebook.com/docs/graph-api/reference/v2.2/object/likes/\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: formatUser,\n\t\t\t\t'me/friends': formatFriends,\n\t\t\t\t'me/following': formatFriends,\n\t\t\t\t'me/followers': formatFriends,\n\t\t\t\t'me/albums': format,\n\t\t\t\t'me/photos': format,\n\t\t\t\t'me/files': format,\n\t\t\t\t'default': format\n\t\t\t},\n\n\t\t\t// Special requirements for handling XHR\n\t\t\txhr: function(p, qs) {\n\t\t\t\tif (p.method === 'get' || p.method === 'post') {\n\t\t\t\t\tqs.suppress_response_codes = true;\n\t\t\t\t}\n\n\t\t\t\t// Is this a post with a data-uri?\n\t\t\t\tif (p.method === 'post' && p.data && typeof (p.data.file) === 'string') {\n\t\t\t\t\t// Convert the Data-URI to a Blob\n\t\t\t\t\tp.data.file = toBlob(p.data.file);\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\t// Special requirements for handling JSONP fallback\n\t\t\tjsonp: function(p, qs) {\n\t\t\t\tvar m = p.method;\n\t\t\t\tif (m !== 'get' && !hasBinary(p.data)) {\n\t\t\t\t\tp.data.method = m;\n\t\t\t\t\tp.method = 'get';\n\t\t\t\t}\n\t\t\t\telse if (p.method === 'delete') {\n\t\t\t\t\tqs.method = 'delete';\n\t\t\t\t\tp.method = 'post';\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Special requirements for iframe form hack\n\t\t\tform: function(p) {\n\t\t\t\treturn {\n\t\t\t\t\t// Fire the callback onload\n\t\t\t\t\tcallbackonload: true\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t});\n\n\tvar base = 'https://graph.facebook.com/';\n\n\tfunction formatUser(o) {\n\t\tif (o.id) {\n\t\t\to.thumbnail = o.picture = 'https://graph.facebook.com/' + o.id + '/picture';\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatFriends(o) {\n\t\tif ('data' in o) {\n\t\t\to.data.forEach(formatUser);\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction format(o, headers, req) {\n\t\tif (typeof o === 'boolean') {\n\t\t\to = {success: o};\n\t\t}\n\n\t\tif (o && 'data' in o) {\n\t\t\tvar token = req.authResponse.access_token;\n\n\t\t\tif (!(o.data instanceof Array)) {\n\t\t\t\tvar data = o.data;\n\t\t\t\tdelete o.data;\n\t\t\t\to.data = [data];\n\t\t\t}\n\n\t\t\to.data.forEach(function(d) {\n\n\t\t\t\tif (d.picture) {\n\t\t\t\t\td.thumbnail = d.picture;\n\t\t\t\t}\n\n\t\t\t\td.pictures = (d.images || [])\n\t\t\t\t\t.sort(function(a, b) {\n\t\t\t\t\t\treturn a.width - b.width;\n\t\t\t\t\t});\n\n\t\t\t\tif (d.cover_photo && d.cover_photo.id) {\n\t\t\t\t\td.thumbnail = base + d.cover_photo.id + '/picture?access_token=' + token;\n\t\t\t\t}\n\n\t\t\t\tif (d.type === 'album') {\n\t\t\t\t\td.files = d.photos = base + d.id + '/photos';\n\t\t\t\t}\n\n\t\t\t\tif (d.can_upload) {\n\t\t\t\t\td.upload_location = base + d.id + '/photos';\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn o;\n\t}\n\n})(hello);\n",
    "const hello = require('../hello.js');\n\n(function(hello) {\n\n\thello.init({\n\n\t\tflickr: {\n\n\t\t\tname: 'Flickr',\n\n\t\t\t// Ensure that you define an oauth_proxy\n\t\t\toauth: {\n\t\t\t\tversion: '1.0a',\n\t\t\t\tauth: 'https://www.flickr.com/services/oauth/authorize?perms=read',\n\t\t\t\trequest: 'https://www.flickr.com/services/oauth/request_token',\n\t\t\t\ttoken: 'https://www.flickr.com/services/oauth/access_token'\n\t\t\t},\n\n\t\t\t// API base URL\n\t\t\tbase: 'https://api.flickr.com/services/rest',\n\n\t\t\t// Map GET resquests\n\t\t\tget: {\n\t\t\t\tme: sign('flickr.people.getInfo'),\n\t\t\t\t'me/friends': sign('flickr.contacts.getList', {per_page:'@{limit|50}'}),\n\t\t\t\t'me/following': sign('flickr.contacts.getList', {per_page:'@{limit|50}'}),\n\t\t\t\t'me/followers': sign('flickr.contacts.getList', {per_page:'@{limit|50}'}),\n\t\t\t\t'me/albums': sign('flickr.photosets.getList', {per_page:'@{limit|50}'}),\n\t\t\t\t'me/album': sign('flickr.photosets.getPhotos', {photoset_id: '@{id}'}),\n\t\t\t\t'me/photos': sign('flickr.people.getPhotos', {per_page:'@{limit|50}'})\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: function(o) {\n\t\t\t\t\tformatError(o);\n\t\t\t\t\to = checkResponse(o, 'person');\n\t\t\t\t\tif (o.id) {\n\t\t\t\t\t\tif (o.realname) {\n\t\t\t\t\t\t\to.name = o.realname._content;\n\t\t\t\t\t\t\tvar m = o.name.split(' ');\n\t\t\t\t\t\t\to.first_name = m.shift();\n\t\t\t\t\t\t\to.last_name = m.join(' ');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\to.thumbnail = getBuddyIcon(o, 'l');\n\t\t\t\t\t\to.picture = getBuddyIcon(o, 'l');\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'me/friends': formatFriends,\n\t\t\t\t'me/followers': formatFriends,\n\t\t\t\t'me/following': formatFriends,\n\t\t\t\t'me/albums': function(o) {\n\t\t\t\t\tformatError(o);\n\t\t\t\t\to = checkResponse(o, 'photosets');\n\t\t\t\t\tpaging(o);\n\t\t\t\t\tif (o.photoset) {\n\t\t\t\t\t\to.data = o.photoset;\n\t\t\t\t\t\to.data.forEach(function(item) {\n\t\t\t\t\t\t\titem.name = item.title._content;\n\t\t\t\t\t\t\titem.photos = 'https://api.flickr.com/services/rest' + getApiUrl('flickr.photosets.getPhotos', {photoset_id: item.id}, true);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tdelete o.photoset;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'me/photos': function(o) {\n\t\t\t\t\tformatError(o);\n\t\t\t\t\treturn formatPhotos(o);\n\t\t\t\t},\n\n\t\t\t\t'default': function(o) {\n\t\t\t\t\tformatError(o);\n\t\t\t\t\treturn formatPhotos(o);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\txhr: false,\n\n\t\t\tjsonp: function(p, qs) {\n\t\t\t\tif (p.method == 'get') {\n\t\t\t\t\tdelete qs.callback;\n\t\t\t\t\tqs.jsoncallback = p.callbackID;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction getApiUrl(method, extraParams, skipNetwork) {\n\t\tvar url = ((skipNetwork) ? '' : 'flickr:') +\n\t\t\t'?method=' + method +\n\t\t\t'&api_key=' + hello.services.flickr.id +\n\t\t\t'&format=json';\n\t\tfor (var param in extraParams) {\n\t\t\tif (extraParams.hasOwnProperty(param)) {\n\t\t\t\turl += '&' + param + '=' + extraParams[param];\n\t\t\t}\n\t\t}\n\n\t\treturn url;\n\t}\n\n\t// This is not exactly neat but avoid to call\n\t// The method 'flickr.test.login' for each api call\n\n\tfunction withUser(cb) {\n\t\tvar auth = hello.getAuthResponse('flickr');\n\t\tcb(auth && auth.user_nsid ? auth.user_nsid : null);\n\t}\n\n\tfunction sign(url, params) {\n\t\tif (!params) {\n\t\t\tparams = {};\n\t\t}\n\n\t\treturn function(p, callback) {\n\t\t\twithUser(function(userId) {\n\t\t\t\tparams.user_id = userId;\n\t\t\t\tcallback(getApiUrl(url, params, true));\n\t\t\t});\n\t\t};\n\t}\n\n\tfunction getBuddyIcon(profile, size) {\n\t\tvar url = 'https://www.flickr.com/images/buddyicon.gif';\n\t\tif (profile.nsid && profile.iconserver && profile.iconfarm) {\n\t\t\turl = 'https://farm' + profile.iconfarm + '.staticflickr.com/' +\n\t\t\t\tprofile.iconserver + '/' +\n\t\t\t\t'buddyicons/' + profile.nsid +\n\t\t\t\t((size) ? '_' + size : '') + '.jpg';\n\t\t}\n\n\t\treturn url;\n\t}\n\n\t// See: https://www.flickr.com/services/api/misc.urls.html\n\tfunction createPhotoUrl(id, farm, server, secret, size) {\n\t\tsize = (size) ? '_' + size : '';\n\t\treturn 'https://farm' + farm + '.staticflickr.com/' + server + '/' + id + '_' + secret + size + '.jpg';\n\t}\n\n\tfunction formatUser(o) {\n\t}\n\n\tfunction formatError(o) {\n\t\tif (o && o.stat && o.stat.toLowerCase() != 'ok') {\n\t\t\to.error = {\n\t\t\t\tcode: 'invalid_request',\n\t\t\t\tmessage: o.message\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction formatPhotos(o) {\n\t\tif (o.photoset || o.photos) {\n\t\t\tvar set = ('photoset' in o) ? 'photoset' : 'photos';\n\t\t\to = checkResponse(o, set);\n\t\t\tpaging(o);\n\t\t\to.data = o.photo;\n\t\t\tdelete o.photo;\n\t\t\tfor (var i = 0; i < o.data.length; i++) {\n\t\t\t\tvar photo = o.data[i];\n\t\t\t\tphoto.name = photo.title;\n\t\t\t\tphoto.picture = createPhotoUrl(photo.id, photo.farm, photo.server, photo.secret, '');\n\t\t\t\tphoto.pictures = createPictures(photo.id, photo.farm, photo.server, photo.secret);\n\t\t\t\tphoto.source = createPhotoUrl(photo.id, photo.farm, photo.server, photo.secret, 'b');\n\t\t\t\tphoto.thumbnail = createPhotoUrl(photo.id, photo.farm, photo.server, photo.secret, 'm');\n\t\t\t}\n\t\t}\n\n\t\treturn o;\n\t}\n\n\t// See: https://www.flickr.com/services/api/misc.urls.html\n\tfunction createPictures(id, farm, server, secret) {\n\n\t\tvar NO_LIMIT = 2048;\n\t\tvar sizes = [\n\t\t\t{id: 't', max: 100},\n\t\t\t{id: 'm', max: 240},\n\t\t\t{id: 'n', max: 320},\n\t\t\t{id: '', max: 500},\n\t\t\t{id: 'z', max: 640},\n\t\t\t{id: 'c', max: 800},\n\t\t\t{id: 'b', max: 1024},\n\t\t\t{id: 'h', max: 1600},\n\t\t\t{id: 'k', max: 2048},\n\t\t\t{id: 'o', max: NO_LIMIT}\n\t\t];\n\n\t\treturn sizes.map(function(size) {\n\t\t\treturn {\n\t\t\t\tsource: createPhotoUrl(id, farm, server, secret, size.id),\n\n\t\t\t\t// Note: this is a guess that's almost certain to be wrong (unless square source)\n\t\t\t\twidth: size.max,\n\t\t\t\theight: size.max\n\t\t\t};\n\t\t});\n\t}\n\n\tfunction checkResponse(o, key) {\n\n\t\tif (key in o) {\n\t\t\to = o[key];\n\t\t}\n\t\telse if (!('error' in o)) {\n\t\t\to.error = {\n\t\t\t\tcode: 'invalid_request',\n\t\t\t\tmessage: o.message || 'Failed to get data from Flickr'\n\t\t\t};\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatFriends(o) {\n\t\tformatError(o);\n\t\tif (o.contacts) {\n\t\t\to = checkResponse(o, 'contacts');\n\t\t\tpaging(o);\n\t\t\to.data = o.contact;\n\t\t\tdelete o.contact;\n\t\t\tfor (var i = 0; i < o.data.length; i++) {\n\t\t\t\tvar item = o.data[i];\n\t\t\t\titem.id = item.nsid;\n\t\t\t\titem.name = item.realname || item.username;\n\t\t\t\titem.thumbnail = getBuddyIcon(item, 'm');\n\t\t\t}\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction paging(res) {\n\t\tif (res.page && res.pages && res.page !== res.pages) {\n\t\t\tres.paging = {\n\t\t\t\tnext: '?page=' + (++res.page)\n\t\t\t};\n\t\t}\n\t}\n\n})(hello);\n",
    "const hello = require('../hello.js');\n\n(function(hello) {\n\n\thello.init({\n\n\t\tfoursquare: {\n\n\t\t\tname: 'Foursquare',\n\n\t\t\toauth: {\n\t\t\t\t// See: https://developer.foursquare.com/overview/auth\n\t\t\t\tversion: 2,\n\t\t\t\tauth: 'https://foursquare.com/oauth2/authenticate',\n\t\t\t\tgrant: 'https://foursquare.com/oauth2/access_token'\n\t\t\t},\n\n\t\t\t// Refresh the access_token once expired\n\t\t\trefresh: true,\n\n\t\t\tbase: 'https://api.foursquare.com/v2/',\n\n\t\t\tget: {\n\t\t\t\tme: 'users/self',\n\t\t\t\t'me/friends': 'users/self/friends',\n\t\t\t\t'me/followers': 'users/self/friends',\n\t\t\t\t'me/following': 'users/self/friends'\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: function(o) {\n\t\t\t\t\tformatError(o);\n\t\t\t\t\tif (o && o.response) {\n\t\t\t\t\t\to = o.response.user;\n\t\t\t\t\t\tformatUser(o);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'default': function(o) {\n\t\t\t\t\tformatError(o);\n\n\t\t\t\t\t// Format friends\n\t\t\t\t\tif (o && 'response' in o && 'friends' in o.response && 'items' in o.response.friends) {\n\t\t\t\t\t\to.data = o.response.friends.items;\n\t\t\t\t\t\to.data.forEach(formatUser);\n\t\t\t\t\t\tdelete o.response;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\txhr: formatRequest,\n\t\t\tjsonp: formatRequest\n\t\t}\n\t});\n\n\tfunction formatError(o) {\n\t\tif (o.meta && (o.meta.code === 400 || o.meta.code === 401)) {\n\t\t\to.error = {\n\t\t\t\tcode: 'access_denied',\n\t\t\t\tmessage: o.meta.errorDetail\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction formatUser(o) {\n\t\tif (o && o.id) {\n\t\t\to.thumbnail = o.photo.prefix + '100x100' + o.photo.suffix;\n\t\t\to.name = o.firstName + ' ' + o.lastName;\n\t\t\to.first_name = o.firstName;\n\t\t\to.last_name = o.lastName;\n\t\t\tif (o.contact) {\n\t\t\t\tif (o.contact.email) {\n\t\t\t\t\to.email = o.contact.email;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction formatRequest(p, qs) {\n\t\tvar token = qs.access_token;\n\t\tdelete qs.access_token;\n\t\tqs.oauth_token = token;\n\t\tqs.v = 20121125;\n\t\treturn true;\n\t}\n\n})(hello);\n",
    "const hello = require('../hello.js');\n\n(function(hello) {\n\n\thello.init({\n\n\t\tgithub: {\n\n\t\t\tname: 'GitHub',\n\n\t\t\toauth: {\n\t\t\t\tversion: 2,\n\t\t\t\tauth: 'https://github.com/login/oauth/authorize',\n\t\t\t\tgrant: 'https://github.com/login/oauth/access_token',\n\t\t\t\tresponse_type: 'code'\n\t\t\t},\n\n\t\t\tscope: {\n\t\t\t\temail: 'user:email'\n\t\t\t},\n\n\t\t\tbase: 'https://api.github.com/',\n\n\t\t\tget: {\n\t\t\t\tme: 'user',\n\t\t\t\t'me/friends': 'user/following?per_page=@{limit|100}',\n\t\t\t\t'me/following': 'user/following?per_page=@{limit|100}',\n\t\t\t\t'me/followers': 'user/followers?per_page=@{limit|100}',\n\t\t\t\t'me/like': 'user/starred?per_page=@{limit|100}'\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: function(o, headers) {\n\n\t\t\t\t\tformatError(o, headers);\n\t\t\t\t\tformatUser(o);\n\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'default': function(o, headers, req) {\n\n\t\t\t\t\tformatError(o, headers);\n\n\t\t\t\t\tif (Array.isArray(o)) {\n\t\t\t\t\t\to = {data:o};\n\t\t\t\t\t}\n\n\t\t\t\t\tif (o.data) {\n\t\t\t\t\t\tpaging(o, headers, req);\n\t\t\t\t\t\to.data.forEach(formatUser);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\txhr: function(p) {\n\n\t\t\t\tif (p.method !== 'get' && p.data) {\n\n\t\t\t\t\t// Serialize payload as JSON\n\t\t\t\t\tp.headers = p.headers || {};\n\t\t\t\t\tp.headers['Content-Type'] = 'application/json';\n\t\t\t\t\tif (typeof (p.data) === 'object') {\n\t\t\t\t\t\tp.data = JSON.stringify(p.data);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction formatError(o, headers) {\n\t\tvar code = headers ? headers.statusCode : (o && 'meta' in o && 'status' in o.meta && o.meta.status);\n\t\tif ((code === 401 || code === 403)) {\n\t\t\to.error = {\n\t\t\t\tcode: 'access_denied',\n\t\t\t\tmessage: o.message || (o.data ? o.data.message : 'Could not get response')\n\t\t\t};\n\t\t\tdelete o.message;\n\t\t}\n\t}\n\n\tfunction formatUser(o) {\n\t\tif (o.id) {\n\t\t\to.thumbnail = o.picture = o.avatar_url;\n\t\t\to.name = o.login;\n\t\t}\n\t}\n\n\tfunction paging(res, headers, req) {\n\t\tif (res.data && res.data.length && headers && headers.Link) {\n\t\t\tvar next = headers.Link.match(/<(.*?)>;\\s*rel=\\\"next\\\"/);\n\t\t\tif (next) {\n\t\t\t\tres.paging = {\n\t\t\t\t\tnext: next[1]\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n\n})(hello);\n",
    "const hello = require('../hello.js');\n\n(function(hello) {\n\n\tvar contactsUrl = 'https://www.google.com/m8/feeds/contacts/default/full?v=3.0&alt=json&max-results=@{limit|1000}&start-index=@{start|1}';\n\n\thello.init({\n\n\t\tgoogle: {\n\n\t\t\tname: 'Google Plus',\n\n\t\t\t// See: http://code.google.com/apis/accounts/docs/OAuth2UserAgent.html\n\t\t\toauth: {\n\t\t\t\tversion: 2,\n\t\t\t\tauth: 'https://accounts.google.com/o/oauth2/auth',\n\t\t\t\tgrant: 'https://accounts.google.com/o/oauth2/token'\n\t\t\t},\n\n\t\t\t// Authorization scopes\n\t\t\tscope: {\n\t\t\t\tbasic: 'https://www.googleapis.com/auth/plus.me profile',\n\t\t\t\temail: 'email',\n\t\t\t\tbirthday: '',\n\t\t\t\tevents: '',\n\t\t\t\tphotos: 'https://picasaweb.google.com/data/',\n\t\t\t\tvideos: 'http://gdata.youtube.com',\n\t\t\t\tfriends: 'https://www.google.com/m8/feeds, https://www.googleapis.com/auth/plus.login',\n\t\t\t\tfiles: 'https://www.googleapis.com/auth/drive.readonly',\n\t\t\t\tpublish: '',\n\t\t\t\tpublish_files: 'https://www.googleapis.com/auth/drive',\n\t\t\t\tshare: '',\n\t\t\t\tcreate_event: '',\n\t\t\t\toffline_access: ''\n\t\t\t},\n\n\t\t\tscope_delim: ' ',\n\n\t\t\tlogin: function(p) {\n\n\t\t\t\tif (p.qs.response_type === 'code') {\n\n\t\t\t\t\t// Let's set this to an offline access to return a refresh_token\n\t\t\t\t\tp.qs.access_type = 'offline';\n\t\t\t\t}\n\n\t\t\t\t// Reauthenticate\n\t\t\t\t// https://developers.google.com/identity/protocols/\n\t\t\t\tif (p.options.force) {\n\t\t\t\t\tp.qs.approval_prompt = 'force';\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// API base URI\n\t\t\tbase: 'https://www.googleapis.com/',\n\n\t\t\t// Map GET requests\n\t\t\tget: {\n\t\t\t\tme: 'plus/v1/people/me',\n\n\t\t\t\t// Deprecated Sept 1, 2014\n\t\t\t\t//'me': 'oauth2/v1/userinfo?alt=json',\n\n\t\t\t\t// See: https://developers.google.com/+/api/latest/people/list\n\t\t\t\t'me/friends': 'plus/v1/people/me/people/visible?maxResults=@{limit|100}',\n\t\t\t\t'me/following': contactsUrl,\n\t\t\t\t'me/followers': contactsUrl,\n\t\t\t\t'me/contacts': contactsUrl,\n\t\t\t\t'me/share': 'plus/v1/people/me/activities/public?maxResults=@{limit|100}',\n\t\t\t\t'me/feed': 'plus/v1/people/me/activities/public?maxResults=@{limit|100}',\n\t\t\t\t'me/albums': 'https://picasaweb.google.com/data/feed/api/user/default?alt=json&max-results=@{limit|100}&start-index=@{start|1}',\n\t\t\t\t'me/album': function(p, callback) {\n\t\t\t\t\tvar key = p.query.id;\n\t\t\t\t\tdelete p.query.id;\n\t\t\t\t\tcallback(key.replace('/entry/', '/feed/'));\n\t\t\t\t},\n\n\t\t\t\t'me/photos': 'https://picasaweb.google.com/data/feed/api/user/default?alt=json&kind=photo&max-results=@{limit|100}&start-index=@{start|1}',\n\n\t\t\t\t// See: https://developers.google.com/drive/v2/reference/files/list\n\t\t\t\t'me/file': 'drive/v2/files/@{id}',\n\t\t\t\t'me/files': 'drive/v2/files?q=%22@{parent|root}%22+in+parents+and+trashed=false&maxResults=@{limit|100}',\n\n\t\t\t\t// See: https://developers.google.com/drive/v2/reference/files/list\n\t\t\t\t'me/folders': 'drive/v2/files?q=%22@{id|root}%22+in+parents+and+mimeType+=+%22application/vnd.google-apps.folder%22+and+trashed=false&maxResults=@{limit|100}',\n\n\t\t\t\t// See: https://developers.google.com/drive/v2/reference/files/list\n\t\t\t\t'me/folder': 'drive/v2/files?q=%22@{id|root}%22+in+parents+and+trashed=false&maxResults=@{limit|100}'\n\t\t\t},\n\n\t\t\t// Map POST requests\n\t\t\tpost: {\n\n\t\t\t\t// Google Drive\n\t\t\t\t'me/files': uploadDrive,\n\t\t\t\t'me/folders': function(p, callback) {\n\t\t\t\t\tp.data = {\n\t\t\t\t\t\ttitle: p.data.name,\n\t\t\t\t\t\tparents: [{id: p.data.parent || 'root'}],\n\t\t\t\t\t\tmimeType: 'application/vnd.google-apps.folder'\n\t\t\t\t\t};\n\t\t\t\t\tcallback('drive/v2/files');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Map PUT requests\n\t\t\tput: {\n\t\t\t\t'me/files': uploadDrive\n\t\t\t},\n\n\t\t\t// Map DELETE requests\n\t\t\tdel: {\n\t\t\t\t'me/files': 'drive/v2/files/@{id}',\n\t\t\t\t'me/folder': 'drive/v2/files/@{id}'\n\t\t\t},\n\n\t\t\t// Map PATCH requests\n\t\t\tpatch: {\n\t\t\t\t'me/file': 'drive/v2/files/@{id}'\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: function(o) {\n\t\t\t\t\tif (o.id) {\n\t\t\t\t\t\to.last_name = o.family_name || (o.name ? o.name.familyName : null);\n\t\t\t\t\t\to.first_name = o.given_name || (o.name ? o.name.givenName : null);\n\n\t\t\t\t\t\tif (o.emails && o.emails.length) {\n\t\t\t\t\t\t\to.email = o.emails[0].value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tformatPerson(o);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'me/friends': function(o) {\n\t\t\t\t\tif (o.items) {\n\t\t\t\t\t\tpaging(o);\n\t\t\t\t\t\to.data = o.items;\n\t\t\t\t\t\to.data.forEach(formatPerson);\n\t\t\t\t\t\tdelete o.items;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'me/contacts': formatFriends,\n\t\t\t\t'me/followers': formatFriends,\n\t\t\t\t'me/following': formatFriends,\n\t\t\t\t'me/share': formatFeed,\n\t\t\t\t'me/feed': formatFeed,\n\t\t\t\t'me/albums': gEntry,\n\t\t\t\t'me/photos': formatPhotos,\n\t\t\t\t'default': gEntry\n\t\t\t},\n\n\t\t\txhr: function(p) {\n\n\t\t\t\tif (p.method === 'post' || p.method === 'put') {\n\t\t\t\t\ttoJSON(p);\n\t\t\t\t}\n\t\t\t\telse if (p.method === 'patch') {\n\t\t\t\t\tObject.assign(p.query, p.data);\n\t\t\t\t\tp.data = null;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\t// Don't even try submitting via form.\n\t\t\t// This means no POST operations in <=IE9\n\t\t\tform: false\n\t\t}\n\t});\n\n\tfunction toInt(s) {\n\t\treturn parseInt(s, 10);\n\t}\n\n\tfunction formatFeed(o) {\n\t\tpaging(o);\n\t\to.data = o.items;\n\t\tdelete o.items;\n\t\treturn o;\n\t}\n\n\t// Format: ensure each record contains a name, id etc.\n\tfunction formatItem(o) {\n\t\tif (o.error) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!o.name) {\n\t\t\to.name = o.title || o.message;\n\t\t}\n\n\t\tif (!o.picture) {\n\t\t\to.picture = o.thumbnailLink;\n\t\t}\n\n\t\tif (!o.thumbnail) {\n\t\t\to.thumbnail = o.thumbnailLink;\n\t\t}\n\n\t\tif (o.mimeType === 'application/vnd.google-apps.folder') {\n\t\t\to.type = 'folder';\n\t\t\to.files = 'https://www.googleapis.com/drive/v2/files?q=%22' + o.id + '%22+in+parents';\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatImage(image) {\n\t\treturn {\n\t\t\tsource: image.url,\n\t\t\twidth: image.width,\n\t\t\theight: image.height\n\t\t};\n\t}\n\n\tfunction formatPhotos(o) {\n\t\to.data = o.feed.entry.map(formatEntry);\n\t\tdelete o.feed;\n\t}\n\n\t// Google has a horrible JSON API\n\tfunction gEntry(o) {\n\t\tpaging(o);\n\n\t\tif ('feed' in o && 'entry' in o.feed) {\n\t\t\to.data = o.feed.entry.map(formatEntry);\n\t\t\tdelete o.feed;\n\t\t}\n\n\t\t// Old style: Picasa, etc.\n\t\telse if ('entry' in o) {\n\t\t\treturn formatEntry(o.entry);\n\t\t}\n\n\t\t// New style: Google Drive & Plus\n\t\telse if ('items' in o) {\n\t\t\to.data = o.items.map(formatItem);\n\t\t\tdelete o.items;\n\t\t}\n\t\telse {\n\t\t\tformatItem(o);\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatPerson(o) {\n\t\to.name = o.displayName || o.name;\n\t\to.picture = o.picture || (o.image ? o.image.url : null);\n\t\to.thumbnail = o.picture;\n\t}\n\n\tfunction formatFriends(o, headers, req) {\n\t\tpaging(o);\n\t\tvar r = [];\n\t\tif ('feed' in o && 'entry' in o.feed) {\n\t\t\tvar token = req.query.access_token;\n\t\t\tfor (var i = 0; i < o.feed.entry.length; i++) {\n\t\t\t\tvar a = o.feed.entry[i];\n\n\t\t\t\ta.id\t= a.id.$t;\n\t\t\t\ta.name\t= a.title.$t;\n\t\t\t\tdelete a.title;\n\t\t\t\tif (a.gd$email) {\n\t\t\t\t\ta.email\t= (a.gd$email && a.gd$email.length > 0) ? a.gd$email[0].address : null;\n\t\t\t\t\ta.emails = a.gd$email;\n\t\t\t\t\tdelete a.gd$email;\n\t\t\t\t}\n\n\t\t\t\tif (a.updated) {\n\t\t\t\t\ta.updated = a.updated.$t;\n\t\t\t\t}\n\n\t\t\t\tif (a.link) {\n\n\t\t\t\t\tvar pic = (a.link.length > 0) ? a.link[0].href : null;\n\t\t\t\t\tif (pic && a.link[0].gd$etag) {\n\t\t\t\t\t\tpic += (pic.indexOf('?') > -1 ? '&' : '?') + 'access_token=' + token;\n\t\t\t\t\t\ta.picture = pic;\n\t\t\t\t\t\ta.thumbnail = pic;\n\t\t\t\t\t}\n\n\t\t\t\t\tdelete a.link;\n\t\t\t\t}\n\n\t\t\t\tif (a.category) {\n\t\t\t\t\tdelete a.category;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\to.data = o.feed.entry;\n\t\t\tdelete o.feed;\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatEntry(a) {\n\n\t\tvar group = a.media$group;\n\t\tvar photo = group.media$content.length ? group.media$content[0] : {};\n\t\tvar mediaContent = group.media$content || [];\n\t\tvar mediaThumbnail = group.media$thumbnail || [];\n\n\t\tvar pictures = mediaContent\n\t\t\t.concat(mediaThumbnail)\n\t\t\t.map(formatImage)\n\t\t\t.sort(function(a, b) {\n\t\t\t\treturn a.width - b.width;\n\t\t\t});\n\n\t\tvar i = 0;\n\t\tvar _a;\n\t\tvar p = {\n\t\t\tid: a.id.$t,\n\t\t\tname: a.title.$t,\n\t\t\tdescription: a.summary.$t,\n\t\t\tupdated_time: a.updated.$t,\n\t\t\tcreated_time: a.published.$t,\n\t\t\tpicture: photo ? photo.url : null,\n\t\t\tpictures: pictures,\n\t\t\timages: [],\n\t\t\tthumbnail: photo ? photo.url : null,\n\t\t\twidth: photo.width,\n\t\t\theight: photo.height\n\t\t};\n\n\t\t// Get feed/children\n\t\tif ('link' in a) {\n\t\t\tfor (i = 0; i < a.link.length; i++) {\n\t\t\t\tvar d = a.link[i];\n\t\t\t\tif (d.rel.match(/\\#feed$/)) {\n\t\t\t\t\tp.upload_location = p.files = p.photos = d.href;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Get images of different scales\n\t\tif ('category' in a && a.category.length) {\n\t\t\t_a = a.category;\n\t\t\tfor (i = 0; i < _a.length; i++) {\n\t\t\t\tif (_a[i].scheme && _a[i].scheme.match(/\\#kind$/)) {\n\t\t\t\t\tp.type = _a[i].term.replace(/^.*?\\#/, '');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Get images of different scales\n\t\tif ('media$thumbnail' in group && group.media$thumbnail.length) {\n\t\t\t_a = group.media$thumbnail;\n\t\t\tp.thumbnail = _a[0].url;\n\t\t\tp.images = _a.map(formatImage);\n\t\t}\n\n\t\t_a = group.media$content;\n\n\t\tif (_a && _a.length) {\n\t\t\tp.images.push(formatImage(_a[0]));\n\t\t}\n\n\t\treturn p;\n\t}\n\n\tfunction paging(res) {\n\n\t\t// Contacts V2\n\t\tif ('feed' in res && res.feed.openSearch$itemsPerPage) {\n\t\t\tvar limit = toInt(res.feed.openSearch$itemsPerPage.$t);\n\t\t\tvar start = toInt(res.feed.openSearch$startIndex.$t);\n\t\t\tvar total = toInt(res.feed.openSearch$totalResults.$t);\n\n\t\t\tif ((start + limit) < total) {\n\t\t\t\tres.paging = {\n\t\t\t\t\tnext: '?start=' + (start + limit)\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\telse if ('nextPageToken' in res) {\n\t\t\tres.paging = {\n\t\t\t\tnext: '?pageToken=' + res.nextPageToken\n\t\t\t};\n\t\t}\n\t}\n\n\t// Construct a multipart message\n\tfunction Multipart() {\n\n\t\t// Internal body\n\t\tvar body = [];\n\t\tvar boundary = (Math.random() * 1e10).toString(32);\n\t\tvar counter = 0;\n\t\tvar lineBreak = '\\r\\n';\n\t\tvar delim = lineBreak + '--' + boundary;\n\t\tvar ready = function() {};\n\n\t\tvar dataUri = /^data\\:([^;,]+(\\;charset=[^;,]+)?)(\\;base64)?,/i;\n\n\t\t// Add file\n\t\tfunction addFile(item) {\n\t\t\tvar fr = new FileReader();\n\t\t\tfr.onload = function(e) {\n\t\t\t\taddContent(btoa(e.target.result), item.type + lineBreak + 'Content-Transfer-Encoding: base64');\n\t\t\t};\n\n\t\t\tfr.readAsBinaryString(item);\n\t\t}\n\n\t\t// Add content\n\t\tfunction addContent(content, type) {\n\t\t\tbody.push(lineBreak + 'Content-Type: ' + type + lineBreak + lineBreak + content);\n\t\t\tcounter--;\n\t\t\tready();\n\t\t}\n\n\t\t// Add new things to the object\n\t\tthis.append = function(content, type) {\n\n\t\t\t// Does the content have an array\n\t\t\tif (typeof (content) === 'string' || !('length' in Object(content))) {\n\t\t\t\t// Converti to multiples\n\t\t\t\tcontent = [content];\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < content.length; i++) {\n\n\t\t\t\tcounter++;\n\n\t\t\t\tvar item = content[i];\n\n\t\t\t\t// Is this a file?\n\t\t\t\t// Files can be either Blobs or File types\n\t\t\t\tif (\n\t\t\t\t\t(typeof (File) !== 'undefined' && item instanceof File) ||\n\t\t\t\t\t(typeof (Blob) !== 'undefined' && item instanceof Blob)\n\t\t\t\t) {\n\t\t\t\t\t// Read the file in\n\t\t\t\t\taddFile(item);\n\t\t\t\t}\n\n\t\t\t\t// Data-URI?\n\t\t\t\t// Data:[<mime type>][;charset=<charset>][;base64],<encoded data>\n\t\t\t\t// /^data\\:([^;,]+(\\;charset=[^;,]+)?)(\\;base64)?,/i\n\t\t\t\telse if (typeof (item) === 'string' && item.match(dataUri)) {\n\t\t\t\t\tvar m = item.match(dataUri);\n\t\t\t\t\taddContent(item.replace(dataUri, ''), m[1] + lineBreak + 'Content-Transfer-Encoding: base64');\n\t\t\t\t}\n\n\t\t\t\t// Regular string\n\t\t\t\telse {\n\t\t\t\t\taddContent(item, type);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tthis.onready = function(fn) {\n\t\t\tready = function() {\n\t\t\t\tif (counter === 0) {\n\t\t\t\t\t// Trigger ready\n\t\t\t\t\tbody.unshift('');\n\t\t\t\t\tbody.push('--');\n\t\t\t\t\tfn(body.join(delim), boundary);\n\t\t\t\t\tbody = [];\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tready();\n\t\t};\n\t}\n\n\t// Upload to Drive\n\t// If this is PUT then only augment the file uploaded\n\t// PUT https://developers.google.com/drive/v2/reference/files/update\n\t// POST https://developers.google.com/drive/manage-uploads\n\tfunction uploadDrive(p, callback) {\n\n\t\tvar data = {};\n\n\t\t// Test for DOM element\n\t\tif (p.data &&\n\t\t\t(typeof (HTMLInputElement) !== 'undefined' && p.data instanceof HTMLInputElement)\n\t\t) {\n\t\t\tp.data = {file: p.data};\n\t\t}\n\n\t\tif (!p.data.name && Object(Object(p.data.file).files).length && p.method === 'post') {\n\t\t\tp.data.name = p.data.file.files[0].name;\n\t\t}\n\n\t\tif (p.method === 'post') {\n\t\t\tp.data = {\n\t\t\t\ttitle: p.data.name,\n\t\t\t\tparents: [{id: p.data.parent || 'root'}],\n\t\t\t\tfile: p.data.file\n\t\t\t};\n\t\t}\n\t\telse {\n\n\t\t\t// Make a reference\n\t\t\tdata = p.data;\n\t\t\tp.data = {};\n\n\t\t\t// Add the parts to change as required\n\t\t\tif (data.parent) {\n\t\t\t\tp.data.parents = [{id: p.data.parent || 'root'}];\n\t\t\t}\n\n\t\t\tif (data.file) {\n\t\t\t\tp.data.file = data.file;\n\t\t\t}\n\n\t\t\tif (data.name) {\n\t\t\t\tp.data.title = data.name;\n\t\t\t}\n\t\t}\n\n\t\t// Extract the file, if it exists from the data object\n\t\t// If the File is an INPUT element lets just concern ourselves with the NodeList\n\t\tvar file;\n\t\tif ('file' in p.data) {\n\t\t\tfile = p.data.file;\n\t\t\tdelete p.data.file;\n\n\t\t\tif (typeof (file) === 'object' && 'files' in file) {\n\t\t\t\t// Assign the NodeList\n\t\t\t\tfile = file.files;\n\t\t\t}\n\n\t\t\tif (!file || !file.length) {\n\t\t\t\tcallback({\n\t\t\t\t\terror: {\n\t\t\t\t\t\tcode: 'request_invalid',\n\t\t\t\t\t\tmessage: 'There were no files attached with this request to upload'\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// Set type p.data.mimeType = Object(file[0]).type || 'application/octet-stream';\n\n\t\t// Construct a multipart message\n\t\tvar parts = new Multipart();\n\t\tparts.append(JSON.stringify(p.data), 'application/json');\n\n\t\t// Read the file into a  base64 string... yep a hassle, i know\n\t\t// FormData doesn't let us assign our own Multipart headers and HTTP Content-Type\n\t\t// Alas GoogleApi need these in a particular format\n\t\tif (file) {\n\t\t\tparts.append(file);\n\t\t}\n\n\t\tparts.onready(function(body, boundary) {\n\n\t\t\tp.headers['content-type'] = 'multipart/related; boundary=\"' + boundary + '\"';\n\t\t\tp.data = body;\n\n\t\t\tcallback('upload/drive/v2/files' + (data.id ? '/' + data.id : '') + '?uploadType=multipart');\n\t\t});\n\n\t}\n\n\tfunction toJSON(p) {\n\t\tif (typeof (p.data) === 'object') {\n\t\t\t// Convert the POST into a javascript object\n\t\t\ttry {\n\t\t\t\tp.data = JSON.stringify(p.data);\n\t\t\t\tp.headers['content-type'] = 'application/json';\n\t\t\t}\n\t\t\tcatch (e) {}\n\t\t}\n\t}\n\n})(hello);\n",
    "const hello = require('../hello.js');\n\n(function(hello) {\n\n\thello.init({\n\n\t\tinstagram: {\n\n\t\t\tname: 'Instagram',\n\n\t\t\toauth: {\n\t\t\t\t// See: http://instagram.com/developer/authentication/\n\t\t\t\tversion: 2,\n\t\t\t\tauth: 'https://instagram.com/oauth/authorize/',\n\t\t\t\tgrant: 'https://api.instagram.com/oauth/access_token'\n\t\t\t},\n\n\t\t\t// Refresh the access_token once expired\n\t\t\trefresh: true,\n\n\t\t\tscope: {\n\t\t\t\tbasic: 'basic',\n\t\t\t\tphotos: '',\n\t\t\t\tfriends: 'relationships',\n\t\t\t\tpublish: 'likes comments',\n\t\t\t\temail: '',\n\t\t\t\tshare: '',\n\t\t\t\tpublish_files: '',\n\t\t\t\tfiles: '',\n\t\t\t\tvideos: '',\n\t\t\t\toffline_access: ''\n\t\t\t},\n\n\t\t\tscope_delim: ' ',\n\n\t\t\tbase: 'https://api.instagram.com/v1/',\n\n\t\t\tget: {\n\t\t\t\tme: 'users/self',\n\t\t\t\t'me/feed': 'users/self/feed?count=@{limit|100}',\n\t\t\t\t'me/photos': 'users/self/media/recent?min_id=0&count=@{limit|100}',\n\t\t\t\t'me/friends': 'users/self/follows?count=@{limit|100}',\n\t\t\t\t'me/following': 'users/self/follows?count=@{limit|100}',\n\t\t\t\t'me/followers': 'users/self/followed-by?count=@{limit|100}',\n\t\t\t\t'friend/photos': 'users/@{id}/media/recent?min_id=0&count=@{limit|100}'\n\t\t\t},\n\n\t\t\tpost: {\n\t\t\t\t'me/like': function(p, callback) {\n\t\t\t\t\tvar id = p.data.id;\n\t\t\t\t\tp.data = {};\n\t\t\t\t\tcallback('media/' + id + '/likes');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdel: {\n\t\t\t\t'me/like': 'media/@{id}/likes'\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: function(o) {\n\n\t\t\t\t\tformatError(o);\n\n\t\t\t\t\tif ('data' in o) {\n\t\t\t\t\t\to.id = o.data.id;\n\t\t\t\t\t\to.thumbnail = o.data.profile_picture;\n\t\t\t\t\t\to.name = o.data.full_name || o.data.username;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'me/friends': formatFriends,\n\t\t\t\t'me/following': formatFriends,\n\t\t\t\t'me/followers': formatFriends,\n\t\t\t\t'me/photos': function(o) {\n\n\t\t\t\t\tformatError(o);\n\t\t\t\t\tpaging(o);\n\n\t\t\t\t\tif ('data' in o) {\n\t\t\t\t\t\to.data = o.data.filter(function(d) {\n\t\t\t\t\t\t\treturn d.type === 'image';\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\to.data.forEach(function(d) {\n\t\t\t\t\t\t\td.name = d.caption ? d.caption.text : null;\n\t\t\t\t\t\t\td.thumbnail = d.images.thumbnail.url;\n\t\t\t\t\t\t\td.picture = d.images.standard_resolution.url;\n\t\t\t\t\t\t\td.pictures = Object.keys(d.images)\n\t\t\t\t\t\t\t\t.map(function(key) {\n\t\t\t\t\t\t\t\t\tvar image = d.images[key];\n\t\t\t\t\t\t\t\t\treturn formatImage(image);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.sort(function(a, b) {\n\t\t\t\t\t\t\t\t\treturn a.width - b.width;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'default': function(o) {\n\t\t\t\t\to = formatError(o);\n\t\t\t\t\tpaging(o);\n\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Instagram does not return any CORS Headers\n\t\t\t// So besides JSONP we're stuck with proxy\n\t\t\txhr: function(p, qs) {\n\n\t\t\t\tvar method = p.method;\n\t\t\t\tvar proxy = method !== 'get';\n\n\t\t\t\tif (proxy) {\n\n\t\t\t\t\tif ((method === 'post' || method === 'put') && p.query.access_token) {\n\t\t\t\t\t\tp.data.access_token = p.query.access_token;\n\t\t\t\t\t\tdelete p.query.access_token;\n\t\t\t\t\t}\n\n\t\t\t\t\t// No access control headers\n\t\t\t\t\t// Use the proxy instead\n\t\t\t\t\tp.proxy = proxy;\n\t\t\t\t}\n\n\t\t\t\treturn proxy;\n\t\t\t},\n\n\t\t\t// No form\n\t\t\tform: false\n\t\t}\n\t});\n\n\tfunction formatImage(image) {\n\t\treturn {\n\t\t\tsource: image.url,\n\t\t\twidth: image.width,\n\t\t\theight: image.height\n\t\t};\n\t}\n\n\tfunction formatError(o) {\n\t\tif (typeof o === 'string') {\n\t\t\treturn {\n\t\t\t\terror: {\n\t\t\t\t\tcode: 'invalid_request',\n\t\t\t\t\tmessage: o\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tif (o && 'meta' in o && 'error_type' in o.meta) {\n\t\t\to.error = {\n\t\t\t\tcode: o.meta.error_type,\n\t\t\t\tmessage: o.meta.error_message\n\t\t\t};\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatFriends(o) {\n\t\tpaging(o);\n\t\tif (o && 'data' in o) {\n\t\t\to.data.forEach(formatFriend);\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatFriend(o) {\n\t\tif (o.id) {\n\t\t\to.thumbnail = o.profile_picture;\n\t\t\to.name = o.full_name || o.username;\n\t\t}\n\t}\n\n\t// See: http://instagram.com/developer/endpoints/\n\tfunction paging(res) {\n\t\tif (res && 'pagination' in res) {\n\t\t\tres.paging = {\n\t\t\t\tnext: res.pagination.next_url\n\t\t\t};\n\t\t\tdelete res.pagination;\n\t\t}\n\t}\n\n})(hello);\n",
    "const hello = require('../hello.js');\n\n(function(hello) {\n\n\thello.init({\n\n\t\tjoinme: {\n\n\t\t\tname: 'join.me',\n\n\t\t\toauth: {\n\t\t\t\tversion: 2,\n\t\t\t\tauth: 'https://secure.join.me/api/public/v1/auth/oauth2',\n\t\t\t\tgrant: 'https://secure.join.me/api/public/v1/auth/oauth2'\n\t\t\t},\n\n\t\t\trefresh: false,\n\n\t\t\tscope: {\n\t\t\t\tbasic: 'user_info',\n\t\t\t\tuser: 'user_info',\n\t\t\t\tscheduler: 'scheduler',\n\t\t\t\tstart: 'start_meeting',\n\t\t\t\temail: '',\n\t\t\t\tfriends: '',\n\t\t\t\tshare: '',\n\t\t\t\tpublish: '',\n\t\t\t\tphotos: '',\n\t\t\t\tpublish_files: '',\n\t\t\t\tfiles: '',\n\t\t\t\tvideos: '',\n\t\t\t\toffline_access: ''\n\t\t\t},\n\n\t\t\tscope_delim: ' ',\n\n\t\t\tlogin: function(p) {\n\t\t\t\tp.options.popup.width = 400;\n\t\t\t\tp.options.popup.height = 700;\n\t\t\t},\n\n\t\t\tbase: 'https://api.join.me/v1/',\n\n\t\t\tget: {\n\t\t\t\tme: 'user',\n\t\t\t\tmeetings: 'meetings',\n\t\t\t\t'meetings/info': 'meetings/@{id}'\n\t\t\t},\n\n\t\t\tpost: {\n\t\t\t\t'meetings/start/adhoc': function(p, callback) {\n\t\t\t\t\tcallback('meetings/start');\n\t\t\t\t},\n\n\t\t\t\t'meetings/start/scheduled': function(p, callback) {\n\t\t\t\t\tvar meetingId = p.data.meetingId;\n\t\t\t\t\tp.data = {};\n\t\t\t\t\tcallback('meetings/' + meetingId + '/start');\n\t\t\t\t},\n\n\t\t\t\t'meetings/schedule': function(p, callback) {\n\t\t\t\t\tcallback('meetings');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tpatch: {\n\t\t\t\t'meetings/update': function(p, callback) {\n\t\t\t\t\tcallback('meetings/' + p.data.meetingId);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdel: {\n\t\t\t\t'meetings/delete': 'meetings/@{id}'\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: function(o, headers) {\n\t\t\t\t\tformatError(o, headers);\n\n\t\t\t\t\tif (!o.email) {\n\t\t\t\t\t\treturn o;\n\t\t\t\t\t}\n\n\t\t\t\t\to.name = o.fullName;\n\t\t\t\t\to.first_name = o.name.split(' ')[0];\n\t\t\t\t\to.last_name = o.name.split(' ')[1];\n\t\t\t\t\to.id = o.email;\n\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'default': function(o, headers) {\n\t\t\t\t\tformatError(o, headers);\n\n\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\txhr: formatRequest\n\n\t\t}\n\t});\n\n\tfunction formatError(o, headers) {\n\t\tvar errorCode;\n\t\tvar message;\n\t\tvar details;\n\n\t\tif (o && ('Message' in o)) {\n\t\t\tmessage = o.Message;\n\t\t\tdelete o.Message;\n\n\t\t\tif ('ErrorCode' in o) {\n\t\t\t\terrorCode = o.ErrorCode;\n\t\t\t\tdelete o.ErrorCode;\n\t\t\t}\n\t\t\telse {\n\t\t\t\terrorCode = getErrorCode(headers);\n\t\t\t}\n\n\t\t\to.error = {\n\t\t\t\tcode: errorCode,\n\t\t\t\tmessage: message,\n\t\t\t\tdetails: o\n\t\t\t};\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatRequest(p, qs) {\n\t\t// Move the access token from the request body to the request header\n\t\tvar token = qs.access_token;\n\t\tdelete qs.access_token;\n\t\tp.headers.Authorization = 'Bearer ' + token;\n\n\t\t// Format non-get requests to indicate json body\n\t\tif (p.method !== 'get' && p.data) {\n\t\t\tp.headers['Content-Type'] = 'application/json';\n\t\t\tif (typeof (p.data) === 'object') {\n\t\t\t\tp.data = JSON.stringify(p.data);\n\t\t\t}\n\t\t}\n\n\t\tif (p.method === 'put') {\n\t\t\tp.method = 'patch';\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tfunction getErrorCode(headers) {\n\t\tswitch (headers.statusCode) {\n\t\t\tcase 400:\n\t\t\t\treturn 'invalid_request';\n\t\t\tcase 403:\n\t\t\t\treturn 'stale_token';\n\t\t\tcase 401:\n\t\t\t\treturn 'invalid_token';\n\t\t\tcase 500:\n\t\t\t\treturn 'server_error';\n\t\t\tdefault:\n\t\t\t\treturn 'server_error';\n\t\t}\n\t}\n\n}(hello));\n",
    "const hello = require('../hello.js');\n\n(function(hello) {\n\n\thello.init({\n\n\t\tlinkedin: {\n\n\t\t\toauth: {\n\t\t\t\tversion: 2,\n\t\t\t\tresponse_type: 'code',\n\t\t\t\tauth: 'https://www.linkedin.com/uas/oauth2/authorization',\n\t\t\t\tgrant: 'https://www.linkedin.com/uas/oauth2/accessToken'\n\t\t\t},\n\n\t\t\t// Refresh the access_token once expired\n\t\t\trefresh: true,\n\n\t\t\tscope: {\n\t\t\t\tbasic: 'r_basicprofile',\n\t\t\t\temail: 'r_emailaddress',\n\t\t\t\tfiles: '',\n\t\t\t\tfriends: '',\n\t\t\t\tphotos: '',\n\t\t\t\tpublish: 'w_share',\n\t\t\t\tpublish_files: 'w_share',\n\t\t\t\tshare: '',\n\t\t\t\tvideos: '',\n\t\t\t\toffline_access: ''\n\t\t\t},\n\t\t\tscope_delim: ' ',\n\n\t\t\tbase: 'https://api.linkedin.com/v1/',\n\n\t\t\tget: {\n\t\t\t\tme: 'people/~:(picture-url,first-name,last-name,id,formatted-name,email-address)',\n\n\t\t\t\t// See: http://developer.linkedin.com/documents/get-network-updates-and-statistics-api\n\t\t\t\t'me/share': 'people/~/network/updates?count=@{limit|250}'\n\t\t\t},\n\n\t\t\tpost: {\n\n\t\t\t\t// See: https://developer.linkedin.com/documents/api-requests-json\n\t\t\t\t'me/share': function(p, callback) {\n\t\t\t\t\tvar data = {\n\t\t\t\t\t\tvisibility: {\n\t\t\t\t\t\t\tcode: 'anyone'\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tif (p.data.id) {\n\n\t\t\t\t\t\tdata.attribution = {\n\t\t\t\t\t\t\tshare: {\n\t\t\t\t\t\t\t\tid: p.data.id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tdata.comment = p.data.message;\n\t\t\t\t\t\tif (p.data.picture && p.data.link) {\n\t\t\t\t\t\t\tdata.content = {\n\t\t\t\t\t\t\t\t'submitted-url': p.data.link,\n\t\t\t\t\t\t\t\t'submitted-image-url': p.data.picture\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tp.data = JSON.stringify(data);\n\n\t\t\t\t\tcallback('people/~/shares?format=json');\n\t\t\t\t},\n\n\t\t\t\t'me/like': like\n\t\t\t},\n\n\t\t\tdel:{\n\t\t\t\t'me/like': like\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: function(o) {\n\t\t\t\t\tformatError(o);\n\t\t\t\t\tformatUser(o);\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'me/friends': formatFriends,\n\t\t\t\t'me/following': formatFriends,\n\t\t\t\t'me/followers': formatFriends,\n\t\t\t\t'me/share': function(o) {\n\t\t\t\t\tformatError(o);\n\t\t\t\t\tpaging(o);\n\t\t\t\t\tif (o.values) {\n\t\t\t\t\t\to.data = o.values.map(formatUser);\n\t\t\t\t\t\to.data.forEach(function(item) {\n\t\t\t\t\t\t\titem.message = item.headline;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tdelete o.values;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'default': function(o, headers) {\n\t\t\t\t\tformatError(o);\n\t\t\t\t\tempty(o, headers);\n\t\t\t\t\tpaging(o);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tjsonp: function(p, qs) {\n\t\t\t\tformatQuery(qs);\n\t\t\t\tif (p.method === 'get') {\n\t\t\t\t\tqs.format = 'jsonp';\n\t\t\t\t\tqs['error-callback'] = p.callbackID;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\txhr: function(p, qs) {\n\t\t\t\tif (p.method !== 'get') {\n\t\t\t\t\tformatQuery(qs);\n\t\t\t\t\tp.headers['Content-Type'] = 'application/json';\n\n\t\t\t\t\t// Note: x-li-format ensures error responses are not returned in XML\n\t\t\t\t\tp.headers['x-li-format'] = 'json';\n\t\t\t\t\tp.proxy = true;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction formatError(o) {\n\t\tif (o && 'errorCode' in o) {\n\t\t\to.error = {\n\t\t\t\tcode: o.status,\n\t\t\t\tmessage: o.message\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction formatUser(o) {\n\t\tif (o.error) {\n\t\t\treturn;\n\t\t}\n\n\t\to.first_name = o.firstName;\n\t\to.last_name = o.lastName;\n\t\to.name = o.formattedName || (o.first_name + ' ' + o.last_name);\n\t\to.thumbnail = o.pictureUrl;\n\t\to.email = o.emailAddress;\n\t\treturn o;\n\t}\n\n\tfunction formatFriends(o) {\n\t\tformatError(o);\n\t\tpaging(o);\n\t\tif (o.values) {\n\t\t\to.data = o.values.map(formatUser);\n\t\t\tdelete o.values;\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction paging(res) {\n\t\tif ('_count' in res && '_start' in res && (res._count + res._start) < res._total) {\n\t\t\tres.paging = {\n\t\t\t\tnext: '?start=' + (res._start + res._count) + '&count=' + res._count\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction empty(o, headers) {\n\t\tif (JSON.stringify(o) === '{}' && headers.statusCode === 200) {\n\t\t\to.success = true;\n\t\t}\n\t}\n\n\tfunction formatQuery(qs) {\n\t\t// LinkedIn signs requests with the parameter 'oauth2_access_token'\n\t\t// ... yeah another one who thinks they should be different!\n\t\tif (qs.access_token) {\n\t\t\tqs.oauth2_access_token = qs.access_token;\n\t\t\tdelete qs.access_token;\n\t\t}\n\t}\n\n\tfunction like(p, callback) {\n\t\tp.headers['x-li-format'] = 'json';\n\t\tvar id = p.data.id;\n\t\tp.data = (p.method !== 'delete').toString();\n\t\tp.method = 'put';\n\t\tcallback('people/~/network/updates/key=' + id + '/is-liked');\n\t}\n\n})(hello);\n",
    "const hello = require('../hello.js');\n\n// See: https://developers.soundcloud.com/docs/api/reference\n(function(hello) {\n\n\thello.init({\n\n\t\tsoundcloud: {\n\t\t\tname: 'SoundCloud',\n\n\t\t\toauth: {\n\t\t\t\tversion: 2,\n\t\t\t\tauth: 'https://soundcloud.com/connect',\n\t\t\t\tgrant: 'https://soundcloud.com/oauth2/token'\n\t\t\t},\n\n\t\t\t// Request path translated\n\t\t\tbase: 'https://api.soundcloud.com/',\n\t\t\tget: {\n\t\t\t\tme: 'me.json',\n\n\t\t\t\t// Http://developers.soundcloud.com/docs/api/reference#me\n\t\t\t\t'me/friends': 'me/followings.json',\n\t\t\t\t'me/followers': 'me/followers.json',\n\t\t\t\t'me/following': 'me/followings.json',\n\n\t\t\t\t// See: http://developers.soundcloud.com/docs/api/reference#activities\n\t\t\t\t'default': function(p, callback) {\n\n\t\t\t\t\t// Include '.json at the end of each request'\n\t\t\t\t\tcallback(p.path + '.json');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Response handlers\n\t\t\twrap: {\n\t\t\t\tme: function(o) {\n\t\t\t\t\tformatUser(o);\n\t\t\t\t\treturn o;\n\t\t\t\t},\n\n\t\t\t\t'default': function(o) {\n\t\t\t\t\tif (Array.isArray(o)) {\n\t\t\t\t\t\to = {\n\t\t\t\t\t\t\tdata: o.map(formatUser)\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tpaging(o);\n\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\txhr: formatRequest,\n\t\t\tjsonp: formatRequest\n\t\t}\n\t});\n\n\tfunction formatRequest(p, qs) {\n\t\t// Alter the querystring\n\t\tvar token = qs.access_token;\n\t\tdelete qs.access_token;\n\t\tqs.oauth_token = token;\n\t\tqs['_status_code_map[302]'] = 200;\n\t\treturn true;\n\t}\n\n\tfunction formatUser(o) {\n\t\tif (o.id) {\n\t\t\to.picture = o.avatar_url;\n\t\t\to.thumbnail = o.avatar_url;\n\t\t\to.name = o.username || o.full_name;\n\t\t}\n\n\t\treturn o;\n\t}\n\n\t// See: http://developers.soundcloud.com/docs/api/reference#activities\n\tfunction paging(res) {\n\t\tif ('next_href' in res) {\n\t\t\tres.paging = {\n\t\t\t\tnext: res.next_href\n\t\t\t};\n\t\t}\n\t}\n\n})(hello);\n",
    "const hello = require('../hello.js');\n\n(function(hello) {\n\n\tvar base = 'https://api.twitter.com/';\n\n\thello.init({\n\n\t\ttwitter: {\n\n\t\t\t// Ensure that you define an oauth_proxy\n\t\t\toauth: {\n\t\t\t\tversion: '1.0a',\n\t\t\t\tauth: base + 'oauth/authenticate',\n\t\t\t\trequest: base + 'oauth/request_token',\n\t\t\t\ttoken: base + 'oauth/access_token'\n\t\t\t},\n\n\t\t\tlogin: function(p) {\n\t\t\t\t// Reauthenticate\n\t\t\t\t// https://dev.twitter.com/oauth/reference/get/oauth/authenticate\n\t\t\t\tvar prefix = '?force_login=true';\n\t\t\t\tthis.oauth.auth = this.oauth.auth.replace(prefix, '') + (p.options.force ? prefix : '');\n\t\t\t},\n\n\t\t\tbase: base + '1.1/',\n\n\t\t\tget: {\n\t\t\t\tme: 'account/verify_credentials.json',\n\t\t\t\t'me/friends': 'friends/list.json?count=@{limit|200}',\n\t\t\t\t'me/following': 'friends/list.json?count=@{limit|200}',\n\t\t\t\t'me/followers': 'followers/list.json?count=@{limit|200}',\n\n\t\t\t\t// Https://dev.twitter.com/docs/api/1.1/get/statuses/user_timeline\n\t\t\t\t'me/share': 'statuses/user_timeline.json?count=@{limit|200}',\n\n\t\t\t\t// Https://dev.twitter.com/rest/reference/get/favorites/list\n\t\t\t\t'me/like': 'favorites/list.json?count=@{limit|200}'\n\t\t\t},\n\n\t\t\tpost: {\n\t\t\t\t'me/share': function(p, callback) {\n\n\t\t\t\t\tvar data = p.data;\n\t\t\t\t\tp.data = null;\n\n\t\t\t\t\tvar status = [];\n\n\t\t\t\t\t// Change message to status\n\t\t\t\t\tif (data.message) {\n\t\t\t\t\t\tstatus.push(data.message);\n\t\t\t\t\t\tdelete data.message;\n\t\t\t\t\t}\n\n\t\t\t\t\t// If link is given\n\t\t\t\t\tif (data.link) {\n\t\t\t\t\t\tstatus.push(data.link);\n\t\t\t\t\t\tdelete data.link;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (data.picture) {\n\t\t\t\t\t\tstatus.push(data.picture);\n\t\t\t\t\t\tdelete data.picture;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Compound all the components\n\t\t\t\t\tif (status.length) {\n\t\t\t\t\t\tdata.status = status.join(' ');\n\t\t\t\t\t}\n\n\t\t\t\t\t// Tweet media\n\t\t\t\t\tif (data.file) {\n\t\t\t\t\t\tdata['media[]'] = data.file;\n\t\t\t\t\t\tdelete data.file;\n\t\t\t\t\t\tp.data = data;\n\t\t\t\t\t\tcallback('statuses/update_with_media.json');\n\t\t\t\t\t}\n\n\t\t\t\t\t// Retweet?\n\t\t\t\t\telse if ('id' in data) {\n\t\t\t\t\t\tcallback('statuses/retweet/' + data.id + '.json');\n\t\t\t\t\t}\n\n\t\t\t\t\t// Tweet\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Assign the post body to the query parameters\n\t\t\t\t\t\tObject.assign(p.query, data);\n\t\t\t\t\t\tcallback('statuses/update.json?include_entities=1');\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t// See: https://dev.twitter.com/rest/reference/post/favorites/create\n\t\t\t\t'me/like': function(p, callback) {\n\t\t\t\t\tvar id = p.data.id;\n\t\t\t\t\tp.data = null;\n\t\t\t\t\tcallback('favorites/create.json?id=' + id);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdel: {\n\n\t\t\t\t// See: https://dev.twitter.com/rest/reference/post/favorites/destroy\n\t\t\t\t'me/like': function() {\n\t\t\t\t\tp.method = 'post';\n\t\t\t\t\tvar id = p.data.id;\n\t\t\t\t\tp.data = null;\n\t\t\t\t\tcallback('favorites/destroy.json?id=' + id);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: function(res) {\n\t\t\t\t\tformatError(res);\n\t\t\t\t\tformatUser(res);\n\t\t\t\t\treturn res;\n\t\t\t\t},\n\n\t\t\t\t'me/friends': formatFriends,\n\t\t\t\t'me/followers': formatFriends,\n\t\t\t\t'me/following': formatFriends,\n\n\t\t\t\t'me/share': function(res) {\n\t\t\t\t\tformatError(res);\n\t\t\t\t\tpaging(res);\n\t\t\t\t\tif (!res.error && 'length' in res) {\n\t\t\t\t\t\treturn {data: res};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn res;\n\t\t\t\t},\n\n\t\t\t\t'default': function(res) {\n\t\t\t\t\tres = arrayToDataResponse(res);\n\t\t\t\t\tpaging(res);\n\t\t\t\t\treturn res;\n\t\t\t\t}\n\t\t\t},\n\t\t\txhr: function(p) {\n\n\t\t\t\t// Rely on the proxy for non-GET requests.\n\t\t\t\treturn (p.method !== 'get');\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction formatUser(o) {\n\t\tif (o.id) {\n\t\t\tif (o.name) {\n\t\t\t\tvar m = o.name.split(' ');\n\t\t\t\to.first_name = m.shift();\n\t\t\t\to.last_name = m.join(' ');\n\t\t\t}\n\n\t\t\t// See: https://dev.twitter.com/overview/general/user-profile-images-and-banners\n\t\t\to.thumbnail = o.profile_image_url_https || o.profile_image_url;\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatFriends(o) {\n\t\tformatError(o);\n\t\tpaging(o);\n\t\tif (o.users) {\n\t\t\to.data = o.users.map(formatUser);\n\t\t\tdelete o.users;\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatError(o) {\n\t\tif (o.errors) {\n\t\t\tvar e = o.errors[0];\n\t\t\to.error = {\n\t\t\t\tcode: 'request_failed',\n\t\t\t\tmessage: e.message\n\t\t\t};\n\t\t}\n\t}\n\n\t// Take a cursor and add it to the path\n\tfunction paging(res) {\n\t\t// Does the response include a 'next_cursor_string'\n\t\tif ('next_cursor_str' in res) {\n\t\t\t// See: https://dev.twitter.com/docs/misc/cursoring\n\t\t\tres.paging = {\n\t\t\t\tnext: '?cursor=' + res.next_cursor_str\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction arrayToDataResponse(res) {\n\t\treturn Array.isArray(res) ? {data: res} : res;\n\t}\n\n\t/**\n\t// The documentation says to define user in the request\n\t// Although its not actually required.\n\n\tvar user_id;\n\n\tfunction withUserId(callback){\n\t\tif(user_id){\n\t\t\tcallback(user_id);\n\t\t}\n\t\telse{\n\t\t\thello.api('twitter:/me', function(o){\n\t\t\t\tuser_id = o.id;\n\t\t\t\tcallback(o.id);\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction sign(url){\n\t\treturn function(p, callback){\n\t\t\twithUserId(function(user_id){\n\t\t\t\tcallback(url+'?user_id='+user_id);\n\t\t\t});\n\t\t};\n\t}\n\t*/\n\n})(hello);\n",
    "const hello = require('../hello.js');\n\n// Vkontakte (vk.com)\n(function(hello) {\n\n\thello.init({\n\n\t\tvk: {\n\t\t\tname: 'Vk',\n\n\t\t\t// See https://vk.com/dev/oauth_dialog\n\t\t\toauth: {\n\t\t\t\tversion: 2,\n\t\t\t\tauth: 'https://oauth.vk.com/authorize',\n\t\t\t\tgrant: 'https://oauth.vk.com/access_token'\n\t\t\t},\n\n\t\t\t// Authorization scopes\n\t\t\t// See https://vk.com/dev/permissions\n\t\t\tscope: {\n\t\t\t\temail: 'email',\n\t\t\t\tfriends: 'friends',\n\t\t\t\tphotos: 'photos',\n\t\t\t\tvideos: 'video',\n\t\t\t\tshare: 'share',\n\t\t\t\toffline_access: 'offline'\n\t\t\t},\n\n\t\t\t// Refresh the access_token\n\t\t\trefresh: true,\n\n\t\t\tlogin: function(p) {\n\t\t\t\tp.qs.display = window.navigator &&\n\t\t\t\t\twindow.navigator.userAgent &&\n\t\t\t\t\t/ipad|phone|phone|android/.test(window.navigator.userAgent.toLowerCase()) ? 'mobile' : 'popup';\n\t\t\t},\n\n\t\t\t// API Base URL\n\t\t\tbase: 'https://api.vk.com/method/',\n\n\t\t\t// Map GET requests\n\t\t\tget: {\n\t\t\t\tme: function(p, callback) {\n\t\t\t\t\tp.query.fields = 'id,first_name,last_name,photo_max';\n\t\t\t\t\tcallback('users.get');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: function(res, headers, req) {\n\t\t\t\t\tformatError(res);\n\t\t\t\t\treturn formatUser(res, req);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// No XHR\n\t\t\txhr: false,\n\n\t\t\t// All requests should be JSONP as of missing CORS headers in https://api.vk.com/method/*\n\t\t\tjsonp: true,\n\n\t\t\t// No form\n\t\t\tform: false\n\t\t}\n\t});\n\n\tfunction formatUser(o, req) {\n\n\t\tif (o !== null && 'response' in o && o.response !== null && o.response.length) {\n\t\t\to = o.response[0];\n\t\t\to.id = o.uid;\n\t\t\to.thumbnail = o.picture = o.photo_max;\n\t\t\to.name = o.first_name + ' ' + o.last_name;\n\n\t\t\tif (req.authResponse && req.authResponse.email !== null)\n\t\t\t\to.email = req.authResponse.email;\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatError(o) {\n\n\t\tif (o.error) {\n\t\t\tvar e = o.error;\n\t\t\to.error = {\n\t\t\t\tcode: e.error_code,\n\t\t\t\tmessage: e.error_msg\n\t\t\t};\n\t\t}\n\t}\n\n})(hello);\n",
    "const hello = require('../hello.js');\n\nconst hasBinary = require('tricks/object/hasBinary');\nconst toBlob = require('tricks/object/toBlob');\n\n(function(hello) {\n\n\thello.init({\n\t\twindows: {\n\t\t\tname: 'Windows live',\n\n\t\t\t// REF: http://msdn.microsoft.com/en-us/library/hh243641.aspx\n\t\t\toauth: {\n\t\t\t\tversion: 2,\n\t\t\t\tauth: 'https://login.live.com/oauth20_authorize.srf',\n\t\t\t\tgrant: 'https://login.live.com/oauth20_token.srf'\n\t\t\t},\n\n\t\t\t// Refresh the access_token once expired\n\t\t\trefresh: true,\n\n\t\t\tlogout: function() {\n\t\t\t\treturn 'http://login.live.com/oauth20_logout.srf?ts=' + (new Date()).getTime();\n\t\t\t},\n\n\t\t\t// Authorization scopes\n\t\t\tscope: {\n\t\t\t\tbasic: 'wl.signin,wl.basic',\n\t\t\t\temail: 'wl.emails',\n\t\t\t\tbirthday: 'wl.birthday',\n\t\t\t\tevents: 'wl.calendars',\n\t\t\t\tphotos: 'wl.photos',\n\t\t\t\tvideos: 'wl.photos',\n\t\t\t\tfriends: 'wl.contacts_emails',\n\t\t\t\tfiles: 'wl.skydrive',\n\t\t\t\tpublish: 'wl.share',\n\t\t\t\tpublish_files: 'wl.skydrive_update',\n\t\t\t\tshare: 'wl.share',\n\t\t\t\tcreate_event: 'wl.calendars_update,wl.events_create',\n\t\t\t\toffline_access: 'wl.offline_access'\n\t\t\t},\n\n\t\t\t// API base URL\n\t\t\tbase: 'https://apis.live.net/v5.0/',\n\n\t\t\t// Map GET requests\n\t\t\tget: {\n\n\t\t\t\t// Friends\n\t\t\t\tme: 'me',\n\t\t\t\t'me/friends': 'me/friends',\n\t\t\t\t'me/following': 'me/contacts',\n\t\t\t\t'me/followers': 'me/friends',\n\t\t\t\t'me/contacts': 'me/contacts',\n\n\t\t\t\t'me/albums': 'me/albums',\n\n\t\t\t\t// Include the data[id] in the path\n\t\t\t\t'me/album': '@{id}/files',\n\t\t\t\t'me/photo': '@{id}',\n\n\t\t\t\t// Files\n\t\t\t\t'me/files': '@{parent|me/skydrive}/files',\n\t\t\t\t'me/folders': '@{id|me/skydrive}/files',\n\t\t\t\t'me/folder': '@{id|me/skydrive}/files'\n\t\t\t},\n\n\t\t\t// Map POST requests\n\t\t\tpost: {\n\t\t\t\t'me/albums': 'me/albums',\n\t\t\t\t'me/album': '@{id}/files/',\n\n\t\t\t\t'me/folders': '@{id|me/skydrive/}',\n\t\t\t\t'me/files': '@{parent|me/skydrive}/files'\n\t\t\t},\n\n\t\t\t// Map DELETE requests\n\t\t\tdel: {\n\t\t\t\t// Include the data[id] in the path\n\t\t\t\t'me/album': '@{id}',\n\t\t\t\t'me/photo': '@{id}',\n\t\t\t\t'me/folder': '@{id}',\n\t\t\t\t'me/files': '@{id}'\n\t\t\t},\n\n\t\t\twrap: {\n\t\t\t\tme: formatUser,\n\n\t\t\t\t'me/friends': formatFriends,\n\t\t\t\t'me/contacts': formatFriends,\n\t\t\t\t'me/followers': formatFriends,\n\t\t\t\t'me/following': formatFriends,\n\t\t\t\t'me/albums': formatAlbums,\n\t\t\t\t'me/photos': formatDefault,\n\t\t\t\t'default': formatDefault\n\t\t\t},\n\n\t\t\txhr: function(p) {\n\t\t\t\tif (p.method !== 'get' && p.method !== 'delete' && !hasBinary(p.data)) {\n\n\t\t\t\t\t// Does this have a data-uri to upload as a file?\n\t\t\t\t\tif (typeof (p.data.file) === 'string') {\n\t\t\t\t\t\tp.data.file = toBlob(p.data.file);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tp.data = JSON.stringify(p.data);\n\t\t\t\t\t\tp.headers = {\n\t\t\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tjsonp: function(p) {\n\t\t\t\tif (p.method !== 'get' && !hasBinary(p.data)) {\n\t\t\t\t\tp.data.method = p.method;\n\t\t\t\t\tp.method = 'get';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction formatDefault(o) {\n\t\tif ('data' in o) {\n\t\t\to.data.forEach(function(d) {\n\t\t\t\tif (d.picture) {\n\t\t\t\t\td.thumbnail = d.picture;\n\t\t\t\t}\n\n\t\t\t\tif (d.images) {\n\t\t\t\t\td.pictures = d.images\n\t\t\t\t\t\t.map(formatImage)\n\t\t\t\t\t\t.sort(function(a, b) {\n\t\t\t\t\t\t\treturn a.width - b.width;\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatImage(image) {\n\t\treturn {\n\t\t\twidth: image.width,\n\t\t\theight: image.height,\n\t\t\tsource: image.source\n\t\t};\n\t}\n\n\tfunction formatAlbums(o) {\n\t\tif ('data' in o) {\n\t\t\to.data.forEach(function(d) {\n\t\t\t\td.photos = d.files = 'https://apis.live.net/v5.0/' + d.id + '/photos';\n\t\t\t});\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatUser(o, headers, req) {\n\t\tif (o.id) {\n\t\t\tvar token = req.authResponse.access_token;\n\t\t\tif (o.emails) {\n\t\t\t\to.email = o.emails.preferred;\n\t\t\t}\n\n\t\t\t// If this is not an non-network friend\n\t\t\tif (o.is_friend !== false) {\n\t\t\t\t// Use the id of the user_id if available\n\t\t\t\tvar id = (o.user_id || o.id);\n\t\t\t\to.thumbnail = o.picture = 'https://apis.live.net/v5.0/' + id + '/picture?access_token=' + token;\n\t\t\t}\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatFriends(o, headers, req) {\n\t\tif ('data' in o) {\n\t\t\to.data.forEach(function(d) {\n\t\t\t\tformatUser(d, headers, req);\n\t\t\t});\n\t\t}\n\n\t\treturn o;\n\t}\n\n})(hello);\n",
    "const hello = require('../hello.js');\n\n(function(hello) {\n\n\thello.init({\n\n\t\tyahoo: {\n\n\t\t\t// Ensure that you define an oauth_proxy\n\t\t\toauth: {\n\t\t\t\tversion: '1.0a',\n\t\t\t\tauth: 'https://api.login.yahoo.com/oauth/v2/request_auth',\n\t\t\t\trequest: 'https://api.login.yahoo.com/oauth/v2/get_request_token',\n\t\t\t\ttoken: 'https://api.login.yahoo.com/oauth/v2/get_token'\n\t\t\t},\n\n\t\t\t// Login handler\n\t\t\tlogin: function(p) {\n\t\t\t\t// Change the default popup window to be at least 560\n\t\t\t\t// Yahoo does dynamically change it on the fly for the signin screen (only, what if your already signed in)\n\t\t\t\tp.options.popup.width = 560;\n\n\t\t\t\t// Yahoo throws an parameter error if for whatever reason the state.scope contains a comma, so lets remove scope\n\t\t\t\ttry {delete p.qs.state.scope;}\n\t\t\t\tcatch (e) {}\n\t\t\t},\n\n\t\t\tbase: 'https://social.yahooapis.com/v1/',\n\n\t\t\tget: {\n\t\t\t\tme: yql('select * from social.profile(0) where guid=me'),\n\t\t\t\t'me/friends': yql('select * from social.contacts(0) where guid=me'),\n\t\t\t\t'me/following': yql('select * from social.contacts(0) where guid=me')\n\t\t\t},\n\t\t\twrap: {\n\t\t\t\tme: formatUser,\n\n\t\t\t\t// Can't get IDs\n\t\t\t\t// It might be better to loop through the social.relationship table with has unique IDs of users.\n\t\t\t\t'me/friends': formatFriends,\n\t\t\t\t'me/following': formatFriends,\n\t\t\t\t'default': paging\n\t\t\t}\n\t\t}\n\t});\n\n\t/*\n\t\t// Auto-refresh fix: bug in Yahoo can't get this to work with node-oauth-shim\n\t\tlogin : function(o){\n\t\t\t// Is the user already logged in\n\t\t\tvar auth = hello('yahoo').getAuthResponse();\n\n\t\t\t// Is this a refresh token?\n\t\t\tif(o.options.display==='none'&&auth&&auth.access_token&&auth.refresh_token){\n\t\t\t\t// Add the old token and the refresh token, including path to the query\n\t\t\t\t// See http://developer.yahoo.com/oauth/guide/oauth-refreshaccesstoken.html\n\t\t\t\to.qs.access_token = auth.access_token;\n\t\t\t\to.qs.refresh_token = auth.refresh_token;\n\t\t\t\to.qs.token_url = 'https://api.login.yahoo.com/oauth/v2/get_token';\n\t\t\t}\n\t\t},\n\t*/\n\n\tfunction formatError(o) {\n\t\tif (o && 'meta' in o && 'error_type' in o.meta) {\n\t\t\to.error = {\n\t\t\t\tcode: o.meta.error_type,\n\t\t\t\tmessage: o.meta.error_message\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction formatUser(o) {\n\n\t\tformatError(o);\n\t\tif (o.query && o.query.results && o.query.results.profile) {\n\t\t\to = o.query.results.profile;\n\t\t\to.id = o.guid;\n\t\t\to.last_name = o.familyName;\n\t\t\to.first_name = o.givenName || o.nickname;\n\t\t\tvar a = [];\n\t\t\tif (o.first_name) {\n\t\t\t\ta.push(o.first_name);\n\t\t\t}\n\n\t\t\tif (o.last_name) {\n\t\t\t\ta.push(o.last_name);\n\t\t\t}\n\n\t\t\to.name = a.join(' ');\n\t\t\to.email = (o.emails && o.emails[0]) ? o.emails[0].handle : null;\n\t\t\to.thumbnail = o.image ? o.image.imageUrl : null;\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatFriends(o, headers, request) {\n\t\tformatError(o);\n\t\tpaging(o, headers, request);\n\t\tvar contact;\n\t\tvar field;\n\t\tif (o.query && o.query.results && o.query.results.contact) {\n\t\t\to.data = o.query.results.contact;\n\t\t\tdelete o.query;\n\n\t\t\tif (!Array.isArray(o.data)) {\n\t\t\t\to.data = [o.data];\n\t\t\t}\n\n\t\t\to.data.forEach(formatFriend);\n\t\t}\n\n\t\treturn o;\n\t}\n\n\tfunction formatFriend(contact) {\n\t\tcontact.id = null;\n\n\t\t// #362: Reports of responses returning a single item, rather than an Array of items.\n\t\t// Format the contact.fields to be an array.\n\t\tif (contact.fields && !(contact.fields instanceof Array)) {\n\t\t\tcontact.fields = [contact.fields];\n\t\t}\n\n\t\t(contact.fields || []).forEach(function(field) {\n\t\t\tif (field.type === 'email') {\n\t\t\t\tcontact.email = field.value;\n\t\t\t}\n\n\t\t\tif (field.type === 'name') {\n\t\t\t\tcontact.first_name = field.value.givenName;\n\t\t\t\tcontact.last_name = field.value.familyName;\n\t\t\t\tcontact.name = field.value.givenName + ' ' + field.value.familyName;\n\t\t\t}\n\n\t\t\tif (field.type === 'yahooid') {\n\t\t\t\tcontact.id = field.value;\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction paging(res, headers, request) {\n\n\t\t// See: http://developer.yahoo.com/yql/guide/paging.html#local_limits\n\t\tif (res.query && res.query.count && request.options) {\n\t\t\tres.paging = {\n\t\t\t\tnext: '?start=' + (res.query.count + (+request.options.start || 1))\n\t\t\t};\n\t\t}\n\n\t\treturn res;\n\t}\n\n\tfunction yql(q) {\n\t\treturn 'https://query.yahooapis.com/v1/yql?q=' + (q + ' limit @{limit|100} offset @{start|0}').replace(/\\s/g, '%20') + '&format=json';\n\t}\n\n})(hello);\n",
    "module.exports = (a, b) => b.filter(item => a.indexOf(item) === -1);\n",
    "// Array find\n// Returns the first non undefined response\n// If the response is (Boolean) True, then the value of that array item is returned instead...\nmodule.exports = (arr, callback, thisArg = null) => {\n\tfor (let i = 0; i < arr.length; i++) {\n\t\tconst value = callback.call(thisArg, arr[i]);\n\t\tif (value !== undefined) {\n\t\t\treturn value === true ? arr[i] : value;\n\t\t}\n\t}\n};\n",
    "module.exports = obj => Array.prototype.slice.call(obj);\n",
    "module.exports = a => {\n\tif (!Array.isArray(a)) {\n\t\treturn [];\n\t}\n\n\t// Is this the first location of item\n\treturn a.filter((item, index) => a.indexOf(item) === index);\n};\n",
    "const jsonParse = require('../../string/jsonParse.js');\nconst extend = require('../../object/extend.js');\n\n// Return handler\nmodule.exports = Storage;\n\nfunction Storage(method) {\n\n\tthis.native = method;\n\n\treturn extend(this.api.bind(this), this);\n}\n\nStorage.prototype.api = function(name, value) {\n\t// recursive\n\tif (typeof name === 'object') {\n\t\tfor (const x in name) {\n\t\t\tthis.api(x, name[x]);\n\t\t}\n\t}\n\n\t// Local storage\n\telse if (!name) {\n\t\tthrow 'agent/store must have a valid name';\n\t}\n\telse if (value === undefined) {\n\t\treturn this.getItem(name);\n\t}\n\telse if (value === null) {\n\t\tthis.removeItem(name);\n\t}\n\telse {\n\t\tthis.setItem(name, value);\n\t}\n};\n\nStorage.prototype.getItem = function(name) {\n\treturn jsonParse(this.native.getItem(name));\n};\n\nStorage.prototype.setItem = function(name, value) {\n\tthis.native.setItem(name, JSON.stringify(value));\n};\n\nStorage.prototype.removeItem = function(name) {\n\tthis.native.removeItem(name);\n};\n",
    "// Provide an API for setting and retrieving cookies\nconst arrayFind = require('../../array/find.js');\nconst Storage = require('./Storage.js');\n\n// Emulate localStorage using cookies\nmodule.exports = new Storage({\n\tgetItem: name => {\n\t\tconst key = `${name }=`;\n\t\tconst m = document.cookie.split(';');\n\t\treturn arrayFind(m, item => {\n\t\t\titem = item.replace(/(^\\s+|\\s+$)/, '');\n\t\t\tif (item && item.indexOf(key) === 0) {\n\t\t\t\treturn item.substr(key.length);\n\t\t\t}\n\t\t}) || null;\n\n\t},\n\n\tsetItem: (name, value) => {\n\t\tdocument.cookie = `${name }=${ value}`;\n\t},\n\n\tremoveItem: name => {\n\t\tdocument.cookie = `${name }=; expires=Thu, 01 Jan 1970 00:00:01 GMT;`;\n\t}\n});\n",
    "// sessionStorage\n// Shimmed up sessionStorage\n\nconst sessionStorage = require('./sessionStorage.js');\nconst Storage = require('./Storage.js');\n\n// Test the environment\ntry {\n\tconst temp = '__tricks_temp__';\n\t// In Chrome with cookies blocked, calling localStorage throws an error\n\tconst storage = window.localStorage;\n\tstorage.setItem(temp, 1);\n\tstorage.removeItem(temp);\n\tmodule.exports = new Storage(storage);\n\n}\ncatch (e) {\n\tmodule.exports = sessionStorage;\n}\n",
    "// sessionStorage\n// Shimmed up sessionStorage\n\nconst cookieStorage = require('./cookieStorage.js');\nconst Storage = require('./Storage.js');\n\n// Test the environment\ntry {\n\tconst temp = '__tricks_temp__';\n\t// In Chrome with cookies blocked, calling localStorage throws an error\n\tconst storage = window.sessionStorage;\n\tstorage.setItem(temp, 1);\n\tstorage.removeItem(temp);\n\tmodule.exports = new Storage(storage);\n\n}\ncatch (e) {\n\tmodule.exports = cookieStorage;\n}\n",
    "// Post\n// Send information to a remote location using the post mechanism\n// @param string uri path\n// @param object data, key value data to send\n// @param function callback, function to execute in response\n\nconst append = require('../../dom/append.js');\nconst attr = require('../../dom/attr.js');\nconst domInstance = require('../../dom/domInstance.js');\nconst createElement = require('../../dom/createElement.js');\nconst globalCallback = require('../../events/globalCallback.js');\nconst toArray = require('../../array/toArray.js');\nconst instanceOf = require('../../object/instanceOf.js');\nconst on = require('../../events/on.js');\nconst emit = require('../../events/emit.js');\nconst setImmediate = require('../../time/setImmediate.js');\n\nmodule.exports = (url, data, options, callback, callback_name, timeout = 60000) => {\n\n\tlet timer;\n\tlet bool = 0;\n\tconst cb = r => {\n\t\tif (!(bool++)) {\n\t\t\tif (timer) {\n\t\t\t\tclearTimeout(timer);\n\t\t\t\ttimer = null;\n\t\t\t}\n\t\t\tcallback(r);\n\n\t\t\t// Trigger onsubmit on the form.\n\t\t\t// Typically this isn't activated until afterwards\n\t\t\temit(form, 'submit');\n\n\t\t\t// The setImmediate fixes the test runner in phantomjs\n\t\t\tsetImmediate(() => frame.parentNode.removeChild(frame));\n\t\t}\n\n\t\treturn true;\n\t};\n\n\t// What is the name of the callback to contain\n\t// We'll also use this to name the iframe\n\tcallback_name = globalCallback(cb, callback_name);\n\n\t/////////////////////\n\t// Create the FRAME\n\t/////////////////////\n\n\tconst frame = createFrame(callback_name);\n\n\t// Override callback mechanism. Triggger a response onload/onerror\n\tif (options && options.callbackonload) {\n\n\t\t// Onload is being fired twice\n\t\tframe.onload = cb.bind(null, {\n\t\t\tresponse: 'posted',\n\t\t\tmessage: 'Content was posted'\n\t\t});\n\t}\n\n\n\t/////////////////////\n\t// Set a timeout\n\t/////////////////////\n\n\tif (timeout) {\n\t\ttimer = setTimeout(cb.bind(null, new Error('timeout')), timeout);\n\t}\n\n\n\t/////////////////////\n\t// Create a form\n\t/////////////////////\n\n\tconst form = createFormFromData(data);\n\n\t// The URL is a function for some cases and as such\n\t// Determine its value with a callback containing the new parameters of this function.\n\turl = url.replace(new RegExp('=\\\\?(&|$)'), `=${ callback_name }$1`);\n\n\t// Set the target of the form\n\tattr(form, {\n\t\tmethod: 'POST',\n\t\ttarget: callback_name,\n\t\taction: url\n\t});\n\n\tform.target = callback_name;\n\n\t// Submit the form\n\t// Some reason this needs to be offset from the current window execution\n\tsetTimeout(() => {\n\t\tform.submit();\n\t}, 100);\n};\n\n\nfunction createFrame(callback_name) {\n\tlet frame;\n\n\ttry {\n\t\t// IE7 hack, only lets us define the name here, not later.\n\t\tframe = createElement(`<iframe name=\"${ callback_name }\">`);\n\t}\n\tcatch (e) {\n\t\tframe = createElement('iframe');\n\t}\n\n\t// Attach the frame with the following attributes to the document body.\n\tattr(frame, {\n\t\tname: callback_name,\n\t\tid: callback_name,\n\t\tstyle: 'display:none;'\n\t});\n\n\tdocument.body.appendChild(frame);\n\n\treturn frame;\n}\n\n\nfunction createFormFromData(data) {\n\n\t// This hack needs a form\n\tlet form = null;\n\tconst reenableAfterSubmit = [];\n\tlet i = 0;\n\tlet x = null;\n\n\n\t// If we are just posting a single item\n\tif (domInstance('input', data)) {\n\t\t// Get the parent form\n\t\tform = data.form;\n\n\t\t// Loop through and disable all of its siblings\n\t\ttoArray(form.elements).forEach(input => {\n\t\t\tif (input !== data) {\n\t\t\t\tinput.setAttribute('disabled', true);\n\t\t\t}\n\t\t});\n\n\t\t// Move the focus to the form\n\t\tdata = form;\n\t}\n\n\t// Posting a form\n\tif (domInstance('form', data)) {\n\t\t// This is a form element\n\t\tform = data;\n\n\t\t// Does this form need to be a multipart form?\n\t\ttoArray(form.elements).forEach(input => {\n\t\t\tif (!input.disabled && input.type === 'file') {\n\t\t\t\tform.encoding = form.enctype = 'multipart/form-data';\n\t\t\t\tinput.setAttribute('name', 'file');\n\t\t\t}\n\t\t});\n\t}\n\telse {\n\t\t// Its not a form element,\n\t\t// Therefore it must be a JSON object of Key=>Value or Key=>Element\n\t\t// If anyone of those values are a input type=file we shall shall insert its siblings into the form for which it belongs.\n\t\tfor (x in data) if (data.hasOwnProperty(x)) {\n\t\t\t// Is this an input Element?\n\t\t\tif (domInstance('input', data[x]) && data[x].type === 'file') {\n\t\t\t\tform = data[x].form;\n\t\t\t\tform.encoding = form.enctype = 'multipart/form-data';\n\t\t\t}\n\t\t}\n\n\t\t// Do If there is no defined form element, lets create one.\n\t\tif (!form) {\n\t\t\t// Build form\n\t\t\tform = append('form');\n\n\t\t\t// Bind the removal of the form\n\t\t\ton(form, 'submit', () => {\n\t\t\t\tsetImmediate(() => {\n\t\t\t\t\tform.parentNode.removeChild(form);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\t// Bind the clean up of the existing form.\n\t\t\ton(form, 'submit', () => {\n\t\t\t\tsetImmediate(() => {\n\t\t\t\t\treenableAfterSubmit.forEach(input => {\n\t\t\t\t\t\tif (input) {\n\t\t\t\t\t\t\tinput.setAttribute('disabled', false);\n\t\t\t\t\t\t\tinput.disabled = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t// Reset, incase this is called again.\n\t\t\t\t\treenableAfterSubmit.length = 0;\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tlet input;\n\n\t\t// Add elements to the form if they dont exist\n\t\tfor (x in data) if (data.hasOwnProperty(x)) {\n\n\t\t\t// Is this an element?\n\t\t\tconst el = (domInstance('input', data[x]) || domInstance('textArea', data[x]) || domInstance('select', data[x]));\n\n\t\t\t// Is this not an input element, or one that exists outside the form.\n\t\t\tif (!el || data[x].form !== form) {\n\n\t\t\t\t// Does an element have the same name?\n\t\t\t\tlet inputs = form.elements[x];\n\t\t\t\tif (input) {\n\t\t\t\t\t// Remove it.\n\t\t\t\t\tif (!instanceOf(inputs, window.NodeList)) {\n\t\t\t\t\t\tinputs = [inputs];\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (i = 0; i < inputs.length; i++) {\n\t\t\t\t\t\tinputs[i].parentNode.removeChild(inputs[i]);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// Create an input element\n\t\t\t\tinput = append('input', {\n\t\t\t\t\ttype: 'hidden',\n\t\t\t\t\tname: x\n\t\t\t\t}, form);\n\n\t\t\t\t// Does it have a value attribute?\n\t\t\t\tif (el) {\n\t\t\t\t\tinput.value = data[x].value;\n\t\t\t\t}\n\t\t\t\telse if (domInstance(null, data[x])) {\n\t\t\t\t\tinput.value = data[x].innerHTML || data[x].innerText;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tinput.value = data[x];\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// It is an element, which exists within the form, but the name is wrong\n\t\t\telse if (el && data[x].name !== x) {\n\t\t\t\tdata[x].setAttribute('name', x);\n\t\t\t\tdata[x].name = x;\n\t\t\t}\n\t\t}\n\n\t\t// Disable elements from within the form if they weren't specified\n\t\ttoArray(form.elements).forEach(input => {\n\n\t\t\t// Does the same name and value exist in the parent\n\t\t\tif (!(input.name in data) && input.getAttribute('disabled') !== true) {\n\t\t\t\t// Disable\n\t\t\t\tinput.setAttribute('disabled', true);\n\n\t\t\t\t// Add re-enable to callback\n\t\t\t\treenableAfterSubmit.push(input);\n\t\t\t}\n\t\t});\n\t}\n\n\treturn form;\n}\n",
    "const createElement = require('../../dom/createElement.js');\nconst createEvent = require('../../events/createEvent.js');\n\nmodule.exports = (url, callback, timeout = 0) => {\n\n\t// Inject a script tag\n\tlet bool = 0;\n\tlet timer;\n\tconst head = document.getElementsByTagName('script')[0].parentNode;\n\tconst cb = e => {\n\t\tif (!(bool++) && callback) {\n\t\t\tcallback(e);\n\t\t}\n\t\tif (timer) {\n\t\t\tclearTimeout(timer);\n\t\t}\n\t};\n\n\t// Add timeout\n\tif (timeout) {\n\t\ttimer = window.setTimeout(() => {\n\t\t\tcb(createEvent('timeout'));\n\t\t}, timeout);\n\t}\n\n\t// Build script tag\n\tconst script = createElement('script', {\n\t\tsrc: url,\n\t\tonerror: cb,\n\t\tonload: cb,\n\t\tonreadystatechange: () => {\n\t\t\tif (/loaded|complete/i.test(script.readyState)) {\n\t\t\t\tcb(createEvent('load'));\n\t\t\t}\n\t\t}\n\t});\n\n\t// Set Async\n\tscript.async = true;\n\n\t// Inject script tag into the head element\n\thead.insertBefore(script, head.firstChild);\n\n\treturn script;\n};\n",
    "// JSONP\nconst globalCallback = require('../../events/globalCallback.js');\nconst getScript = require('./getScript.js');\n\nconst MATCH_CALLBACK_PLACEHOLDER = /=\\?(&|$)/;\n\nmodule.exports = (url, callback, callback_name, timeout = 60000) => {\n\n\t// Change the name of the callback\n\tlet result;\n\n\t// Add callback to the window object\n\tcallback_name = globalCallback(json => {\n\t\tresult = json;\n\t\treturn true; // this ensure the window reference is removed\n\t}, callback_name);\n\n\t// The URL is a function for some cases and as such\n\t// Determine its value with a callback containing the new parameters of this function.\n\turl = url.replace(MATCH_CALLBACK_PLACEHOLDER, `=${ callback_name }$1`);\n\n\tconst script = getScript(url, () => {\n\t\tcallback(result);\n\t\tscript.parentNode.removeChild(script);\n\t}, timeout);\n\n\treturn script;\n};\n",
    "// Request\n// Makes an REST request given an object which describes how (aka, xhr, jsonp, formpost)\nconst jsonp = require('./jsonp.js');\nconst xhr = require('./xhr.js');\nconst formpost = require('./formpost.js');\nconst SupportCORS = require('../../support/cors.js');\nconst globalCallback = require('../../events/globalCallback.js');\nconst createUrl = require('../../string/createUrl.js');\nconst extend = require('../../object/extend.js');\n\nmodule.exports = (p, callback) => {\n\n\tif (typeof p === 'string') {\n\t\tp = {\n\t\t\turl: p\n\t\t};\n\t}\n\n\t// Use interchangeably\n\tp.url = p.url || p.uri;\n\n\t// Set defaults\n\tp.query = p.query || p.qs || {};\n\n\t// Default method\n\tp.method = (p.method || 'get').toLowerCase();\n\n\t// Default proxy response\n\tp.proxyHandler = p.proxyHandler || ((p, cb) => {\n\t\tcb();\n\t});\n\n\t// CORS\n\tif (SupportCORS && (typeof (p.xhr) === 'function' ? p.xhr(p, p.query) : p.xhr !== false)) {\n\n\t\t// Pass the selected request through a proxy\n\t\tp.proxyHandler(p, () => {\n\t\t\t// The agent and the provider support CORS\n\t\t\tconst url = createUrl(p.url, p.query);\n\t\t\tconst x = xhr(p.method, url, p.responseType, p.headers, p.data, callback);\n\t\t\tx.onprogress = p.onprogress || null;\n\n\t\t\t// Feature detect, not available on all implementations of XMLHttpRequest\n\t\t\tif (x.upload && p.onuploadprogress) {\n\t\t\t\tx.upload.onprogress = p.onuploadprogress;\n\t\t\t}\n\t\t});\n\n\t\treturn;\n\t}\n\n\t// Apply a globalCallback\n\tp.callbackID = p.query.callback = globalCallback(callback);\n\n\t// JSONP\n\tif (p.jsonp !== false) {\n\n\t\t// Call p.jsonp handler\n\t\tif (typeof (p.jsonp) === 'function') {\n\t\t\t// Format the request via JSONP\n\t\t\tp.jsonp(p, p.query);\n\t\t}\n\n\t\t// Lets use JSONP if the method is 'get'\n\t\tif (p.method === 'get') {\n\n\t\t\tp.proxyHandler(p, () => {\n\t\t\t\tconst url = createUrl(p.url, extend(p.query, p.data || {}));\n\t\t\t\tjsonp(url, callback, p.callbackID, p.timeout);\n\t\t\t});\n\n\t\t\treturn;\n\t\t}\n\t}\n\n\t// Otherwise we're on to the old school, iframe hacks and JSONP\n\tif (p.form !== false) {\n\n\t\t// Add some additional query parameters to the URL\n\t\t// We're pretty stuffed if the endpoint doesn't like these\n\t\tp.query.redirect_uri = p.redirect_uri;\n\t\tp.query.state = JSON.stringify({callback: p.callbackID});\n\t\tdelete p.query.callback;\n\n\t\tlet opts;\n\n\t\tif (typeof (p.form) === 'function') {\n\n\t\t\t// Format the request\n\t\t\topts = p.form(p, p.query);\n\t\t}\n\n\t\tif (p.method === 'post' && opts !== false) {\n\n\t\t\tp.proxyHandler(p, () => {\n\t\t\t\tconst url = createUrl(p.url, p.query);\n\t\t\t\tformpost(url, p.data, opts, callback, p.callbackID, p.timeout);\n\t\t\t});\n\n\t\t\treturn;\n\t\t}\n\t}\n\n\tcallback({error: 'invalid_request'});\n};\n",
    "// XHR: uses CORS to make requests\nconst instanceOf = require('../../object/instanceOf.js');\nconst extract = require('../../string/extract.js');\nconst jsonParse = require('../../string/jsonParse.js');\nconst tryCatch = require('../../object/tryCatch.js');\nconst rewire = require('../../object/rewire.js');\n\nconst match_headers = /([a-z0-9\\-]+):\\s*(.*);?/gi;\n\nmodule.exports = rewire(xhr);\n\nfunction xhr(method, url, responseType, headers, data, callback) {\n\n\tconst r = new XMLHttpRequest();\n\n\t// Make it CAPITAL\n\tmethod = method.toUpperCase();\n\n\t// Define the callback function\n\tr.onload = () => {\n\t\t// Response\n\t\tlet response = r.response;\n\n\t\t// Was this text\n\t\tif (!response && (r.responseType === '' || r.responseType === 'text')) {\n\t\t\tresponse = r.responseText;\n\t\t}\n\n\t\t// Is this json?\n\t\tif (typeof(response) === 'string' && responseType === 'json') {\n\n\t\t\t// Set this to the json response\n\t\t\t// Fallback if the browser did not defined responseJSON...\n\t\t\tresponse = r.responseJSON || jsonParse(r.responseText || r.response);\n\t\t}\n\n\t\tconst headers = extract(r.getAllResponseHeaders(), match_headers);\n\t\theaders.statusCode = r.status;\n\n\t\tcallback(response, headers);\n\t};\n\n\tr.onerror = r.onload;\n\n\t// Should we add the query to the URL?\n\tif (method === 'GET' || method === 'DELETE') {\n\t\tdata = null;\n\t}\n\telse if (data && typeof (data) !== 'string' &&\n\t\t!instanceOf(data, window.FormData) &&\n\t\t!instanceOf(data, window.File) &&\n\t\t!instanceOf(data, window.Blob))\t{\n\t\t// Loop through and add formData\n\t\tdata = toFormData(data);\n\t}\n\n\t// Open the path, async\n\tr.open(method, url, true);\n\n\t// Set responseType if supported\n\tif ('responseType' in r) {\n\n\t\ttryCatch(() => {\n\t\t\t// Setting this to an unsupported value can result in a \"SYNTAX_ERR: DOM Exception 12\"\n\t\t\tr.responseType = responseType;\n\t\t});\n\t}\n\telse if (responseType === 'blob') {\n\t\tr.overrideMimeType('text/plain; charset=x-user-defined');\n\t}\n\n\t// Set any bespoke headers\n\tif (headers) {\n\t\tfor (const x in headers) {\n\t\t\tr.setRequestHeader(x, headers[x]);\n\t\t}\n\t}\n\n\tr.send(data);\n\n\treturn r;\n}\n\n\nfunction toFormData(data) {\n\tconst f = new FormData();\n\tfor (const x in data) {\n\t\tif (data.hasOwnProperty(x)) {\n\t\t\tif (instanceOf(data[x], window.HTMLInputElement) && 'files' in data[x]) {\n\t\t\t\tif (data[x].files.length > 0) {\n\t\t\t\t\tf.append(x, data[x].files[0]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (instanceOf(data[x], window.Blob)) {\n\t\t\t\tf.append(x, data[x], data.name);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tf.append(x, data[x]);\n\t\t\t}\n\t\t}\n\t}\n\treturn f;\n}\n",
    "const createElement = require('./createElement.js');\n\nmodule.exports = (tagName, prop, parent = document.body) => {\n\tconst elm = createElement(tagName, prop);\n\tparent.appendChild(elm);\n\treturn elm;\n};\n",
    "const each = require('./each.js');\n\nmodule.exports = (elements, props) =>\n\teach(elements, element => {\n\t\tfor (const x in props) {\n\t\t\tconst prop = props[x];\n\t\t\tif (typeof prop === 'function') {\n\t\t\t\telement[x] = prop;\n\t\t\t}\n\t\t\telse {\n\t\t\t\telement.setAttribute(x, prop);\n\t\t\t}\n\t\t}\n\t});\n",
    "const attr = require('./attr.js');\n\nmodule.exports = (tagName, attrs) => {\n\tconst elm = document.createElement(tagName);\n\tattr(elm, attrs);\n\treturn elm;\n};\n",
    "const instanceOf = require('../object/instanceOf.js');\n\nmodule.exports = (type, data) => {\n\tconst test = `HTML${ (type || '').replace(\n\t\t/^[a-z]/,\n\t\tm => m.toUpperCase()\n\t)}Element`;\n\n\tif (!data) {\n\t\treturn false;\n\t}\n\n\tif (window[test]) {\n\t\treturn instanceOf(data, window[test]);\n\t}\n\telse if (window.Element) {\n\t\treturn instanceOf(data, window.Element) && (!type || (data.tagName && data.tagName.toLowerCase() === type));\n\t}\n\telse {\n\t\treturn (!(instanceOf(data, Object) || instanceOf(data, Array) || instanceOf(data, String) || instanceOf(data, Number)) && data.tagName && data.tagName.toLowerCase() === type);\n\t}\n};\n",
    "const isDom = require('./isDom.js');\nconst instanceOf = require('../object/instanceOf.js');\nconst toArray = require('../array/toArray.js');\n\nmodule.exports = (matches, callback = () => {}) => {\n\n\tif (isDom(matches)) {\n\t\tmatches = [matches];\n\t}\n\telse if (typeof(matches) === 'string') {\n\t\tmatches = document.querySelectorAll(matches);\n\t}\n\n\tif (!instanceOf(matches, Array)) {\n\t\tmatches = toArray(matches);\n\t}\n\n\tif (callback) {\n\t\tmatches.forEach(callback);\n\t}\n\n\treturn matches;\n};\n",
    "const append = require('./append.js');\nconst param = require('../string/param.js');\n\nmodule.exports = src => {\n\n\tconst style = param({\n\t\tposition: 'absolute',\n\t\tleft: '-1000px',\n\t\tbottom: 0,\n\t\theight: '1px',\n\t\twidth: '1px'\n\t}, ';', ':');\n\n\treturn append('iframe', {src, style});\n};\n",
    "const instanceOf = require('../object/instanceOf.js');\n\nconst _HTMLElement = typeof HTMLElement !== 'undefined' ? HTMLElement : Element;\nconst _HTMLDocument = typeof HTMLDocument !== 'undefined' ? HTMLDocument : Document;\nconst _Window = window.constructor;\n\nmodule.exports = test =>\n\tinstanceOf(test, _HTMLElement) ||\n\t\tinstanceOf(test, _HTMLDocument) ||\n\t\tinstanceOf(test, _Window)\n;\n",
    "// IE does not support `new Event()`\n// See https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Creating_and_triggering_events for details\nconst dict = {bubbles: true, cancelable: true};\n\nlet createEvent = (eventname, options = dict) =>\n\tnew Event(eventname, options);\n\ntry {\n\tcreateEvent('test');\n}\ncatch (e) {\n\tcreateEvent = (eventname, options = dict) => {\n\t\tconst e = document.createEvent('Event');\n\t\te.initEvent(eventname, !!options.bubbles, !!options.cancelable);\n\t\treturn e;\n\t};\n}\n\nmodule.exports = createEvent;\n",
    "// on.js\n// Listen to events, this is a wrapper for addEventListener\nconst each = require('../dom/each.js');\nconst createEvent = require('./createEvent.js');\n\n// Return\nmodule.exports = (elements, eventname) => each(elements, el => el.dispatchEvent(createEvent(eventname)));\n\n",
    "// Global Events\n// Attach the callback to the window object\n// Return its unique reference\nconst random = require('../string/random.js');\n\nmodule.exports = (callback, guid, prefix = '_tricks_') => {\n\n\t// If the guid has not been supplied then create a new one.\n\tguid = guid || prefix + random();\n\n\t// Define the callback function\n\twindow[guid] = handle.bind(null, guid, callback);\n\n\treturn guid;\n};\n\nfunction handle(guid, callback, ...args) {\n\tcallback(...args) && delete window[guid];\n}\n",
    "// on.js\n// Listen to events, this is a wrapper for addEventListener\n\nconst each = require('../dom/each.js');\nconst SEPERATOR = /[\\s\\,]+/;\n\n// See https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md#feature-detection\nlet supportsPassive = false;\ntry {\n\tconst opts = Object.defineProperty({}, 'passive', {\n\t\tget() {\n\t\t\tsupportsPassive = true;\n\t\t}\n\t});\n\twindow.addEventListener('test', null, opts);\n}\ncatch (e) {\n\t// Continue\n}\n\n\nmodule.exports = (elements, eventnames, callback, options = false) => {\n\n\tif (typeof options === 'object' && options.passive && !supportsPassive) {\n\t\t// Override the passive mark\n\t\toptions = false;\n\t}\n\n\teventnames = eventnames.split(SEPERATOR);\n\treturn each(elements, el => eventnames.forEach(eventname => el.addEventListener(eventname, callback, options)));\n};\n",
    "// Makes it easier to assign parameters, where some are optional\n// @param o object\n// @param a arguments\nmodule.exports = (o, args) => {\n\n\tconst p = {};\n\tlet i = 0;\n\tlet t = null;\n\tlet x = null;\n\n\t// 'x' is the first key in the list of object parameters\n\tfor (x in o) {\n\t\tif (o.hasOwnProperty(x)) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Passing in hash object of arguments?\n\t// Where the first argument can't be an object\n\tif ((args.length === 1) && (typeof (args[0]) === 'object') && o[x] !== 'o!') {\n\n\t\t// Could this object still belong to a property?\n\t\t// Check the object keys if they match any of the property keys\n\t\tfor (x in args[0]) {\n\t\t\tif (o.hasOwnProperty(x)) {\n\t\t\t\t// Does this key exist in the property list?\n\t\t\t\tif (x in o) {\n\t\t\t\t\t// Yes this key does exist so its most likely this function has been invoked with an object parameter\n\t\t\t\t\t// Return first argument as the hash of all arguments\n\t\t\t\t\treturn args[0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Else loop through and account for the missing ones.\n\tfor (x in o) {\n\t\tif (o.hasOwnProperty(x)) {\n\n\t\t\tt = typeof (args[i]);\n\n\t\t\tif ((typeof (o[x]) === 'function' && o[x].test(args[i])) || (typeof (o[x]) === 'string' && (\n\t\t\t\t(o[x].indexOf('s') > -1 && t === 'string') ||\n\t\t\t\t(o[x].indexOf('o') > -1 && t === 'object') ||\n\t\t\t\t(o[x].indexOf('i') > -1 && t === 'number') ||\n\t\t\t\t(o[x].indexOf('a') > -1 && t === 'object') ||\n\t\t\t\t(o[x].indexOf('f') > -1 && t === 'function')\n\t\t\t\t))\n\t\t\t\t) {\n\t\t\t\tp[x] = args[i++];\n\t\t\t}\n\n\t\t\telse if (typeof (o[x]) === 'string' && o[x].indexOf('!') > -1) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn p;\n};\n",
    "const isBinary = require('./isBinary.js');\n\n// Create a clone of an object\nmodule.exports = function clone(obj) {\n\t// Does not clone DOM elements, nor Binary data, e.g. Blobs, Filelists\n\tif (obj === null || typeof (obj) !== 'object' || obj instanceof Date || 'nodeName' in obj || isBinary(obj) || (typeof FormData === 'function' && obj instanceof FormData)) {\n\t\treturn obj;\n\t}\n\n\tif (Array.isArray(obj)) {\n\t\t// Clone each item in the array\n\t\treturn obj.map(clone.bind(this));\n\t}\n\n\t// But does clone everything else.\n\tconst _clone = {};\n\tfor (const x in obj) {\n\t\t_clone[x] = clone(obj[x]);\n\t}\n\n\treturn _clone;\n};\n",
    "// Return all the properties in 'a' which aren't in 'b';\nmodule.exports = (a, b) => {\n\tif (a || !b) {\n\t\tconst r = {};\n\t\tfor (const x in a) {\n\t\t\t// is this a custom property?\n\t\t\tif (!(x in b)) {\n\t\t\t\tr[x] = a[x];\n\t\t\t}\n\t\t}\n\t\treturn r;\n\t}\n\treturn a;\n};\n",
    "const instanceOf = require('./instanceOf.js');\n\nmodule.exports = function extend(r, ...args) {\n\targs.forEach(o => {\n\t\tif (Array.isArray(r) && Array.isArray(o)) {\n\t\t\tArray.prototype.push.apply(r, o);\n\t\t}\n\t\telse if (instanceOf(r, Object) && instanceOf(o, Object) && r !== o) {\n\t\t\tfor (const x in o) {\n\t\t\t\tr[x] = extend(r[x], o[x]);\n\t\t\t}\n\t\t}\n\t\telse if (Array.isArray(o)) {\n\t\t\t// Clone it\n\t\t\tr = o.slice(0);\n\t\t}\n\t\telse {\n\t\t\tr = o;\n\t\t}\n\t});\n\treturn r;\n};\n",
    "const isBinary = require('./isBinary.js');\n\n// Some of the providers require that only multipart is used with non-binary forms.\n// This function checks whether the form contains binary data\nmodule.exports = data => {\n\tfor (const x in data) {\n\t\tif (data.hasOwnProperty(x)) {\n\t\t\tif (isBinary(data[x])) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn false;\n};\n\n",
    "module.exports = (test, root) => root && test instanceof root;\n",
    "const instanceOf = require('./instanceOf.js');\n\nmodule.exports = data =>\n\tinstanceOf(data, Object) && (\n\t(instanceOf(data, typeof HTMLInputElement !== 'undefined' ? HTMLInputElement : undefined) && data.type === 'file') ||\n\t(instanceOf(data, typeof HTMLInput !== 'undefined' ? HTMLInput : undefined) && data.type === 'file') ||\n\tinstanceOf(data, typeof FileList !== 'undefined' ? FileList : undefined) ||\n\tinstanceOf(data, typeof File !== 'undefined' ? File : undefined) ||\n\tinstanceOf(data, typeof Blob !== 'undefined' ? Blob : undefined));\n",
    "module.exports = obj => {\n\n\t// Scalar\n\tif (!obj)\n\t\treturn true;\n\n\t// Array\n\tif (Array.isArray(obj)) {\n\t\treturn !obj.length;\n\t}\n\telse if (typeof (obj) === 'object') {\n\t\t// Object\n\t\tfor (const key in obj) {\n\t\t\tif (obj.hasOwnProperty(key)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn true;\n};\n",
    "// Extend an object\nconst extend = require('./extend.js');\n\nmodule.exports = (...args) => {\n\targs.unshift({});\n\treturn extend(...args);\n};\n",
    "// Pubsub extension\n// A contructor superclass for adding event menthods, on, off, emit.\nconst setImmediate = require('../time/setImmediate.js');\n\nconst separator = /[\\s\\,]+/;\n\nmodule.exports = function() {\n\n\t// If this doesn't support getPrototype then we can't get prototype.events of the parent\n\t// So lets get the current instance events, and add those to a parent property\n\tthis.parent = {\n\t\tevents: this.events,\n\t\tfindEvents: this.findEvents,\n\t\tparent: this.parent,\n\t\tutils: this.utils\n\t};\n\n\tthis.events = {};\n\n\tthis.off = off;\n\tthis.on = on;\n\tthis.emit = emit;\n\tthis.emitAfter = emitAfter;\n\tthis.findEvents = findEvents;\n\n\treturn this;\n};\n\n\n// On, subscribe to events\n// @param evt   string\n// @param callback  function\nfunction on(evt, callback) {\n\n\tif (callback && typeof (callback) === 'function') {\n\t\tevt.split(separator).forEach(name => {\n\t\t\t// Has this event already been fired on this instance?\n\t\t\tthis.events[name] = [callback].concat(this.events[name] || []);\n\t\t});\n\t}\n\n\treturn this;\n}\n\n\n// Off, unsubscribe to events\n// @param evt   string\n// @param callback  function\nfunction off(evt, callback) {\n\n\tthis.findEvents(evt, function(name, index) {\n\t\tif (!callback || this.events[name][index] === callback) {\n\t\t\tthis.events[name][index] = null;\n\t\t}\n\t});\n\n\treturn this;\n}\n\n// Emit\n// Triggers any subscribed events\nfunction emit(evt, ...args) {\n\n\t// Append the eventname to the end of the arguments\n\targs.push(evt);\n\n\t// Handler\n\tconst handler = function(name, index) {\n\n\t\t// Replace the last property with the event name\n\t\targs[args.length - 1] = (name === '*' ? evt : name);\n\n\t\t// Trigger\n\t\tthis.events[name][index].apply(this, args);\n\t};\n\n\t// Find the callbacks which match the condition and call\n\tlet _this = this;\n\twhile (_this && _this.findEvents) {\n\n\t\t// Find events which match\n\t\t_this.findEvents(`${evt },*`, handler);\n\t\t_this = _this.parent;\n\t}\n\n\treturn this;\n}\n\n// Easy functions\nfunction emitAfter(...args) {\n\n\tsetImmediate(() => {\n\t\tthis.emit(...args);\n\t});\n\n\treturn this;\n}\n\nfunction findEvents(evt, callback) {\n\n\tconst a = evt.split(separator);\n\n\tfor (const name in this.events) {\n\t\tif (this.events.hasOwnProperty(name)) {\n\n\t\t\tif (a.indexOf(name) > -1) {\n\n\t\t\t\tthis.events[name].forEach(triggerCallback.bind(this, name, callback));\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction triggerCallback(name, callback, handler, i) {\n\t// Does the event handler exist?\n\tif (handler) {\n\t\t// Emit on the local instance of this\n\t\tcallback.call(this, name, i);\n\t}\n}\n",
    "// Rewire functions\nmodule.exports = fn => {\n\tconst f = (...args) => f.fn.apply(null, args);\n\tf.fn = fn;\n\treturn f;\n};\n",
    "// Then\n// Create a Promise instance which can be returned by a function\nconst setImmediate = require('../time/setImmediate.js');\n\n/*!\n **  Thenable -- Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable\n **  Copyright (c) 2013-2014 Ralf S. Engelschall <http://engelschall.com>\n **  Licensed under The MIT License <http://opensource.org/licenses/MIT>\n **  Source-Code distributed on <http://github.com/rse/thenable>\n */\n\n/*  promise states [Promises/A+ 2.1]  */\nconst STATE_PENDING = 0;                                         /*  [Promises/A+ 2.1.1]  */\nconst STATE_FULFILLED = 1;                                       /*  [Promises/A+ 2.1.2]  */\nconst STATE_REJECTED = 2;                                        /*  [Promises/A+ 2.1.3]  */\n\n/*  promise object constructor  */\nmodule.exports = api;\n\nfunction api(executor) {\n\t/*  optionally support non-constructor/plain-function call  */\n\tif (!(this instanceof api))\n\t\treturn new api(executor);\n\n\t/*  initialize object  */\n\tthis.id = 'Thenable/1.0.6';\n\tthis.state = STATE_PENDING; /*  initial state  */\n\tthis.fulfillValue = undefined;     /*  initial value  */     /*  [Promises/A+ 1.3, 2.1.2.2]  */\n\tthis.rejectReason = undefined;     /*  initial reason */     /*  [Promises/A+ 1.5, 2.1.3.2]  */\n\tthis.onFulfilled = [];            /*  initial handlers  */\n\tthis.onRejected = [];            /*  initial handlers  */\n\n\t/*  provide optional information-hiding proxy  */\n\tthis.proxy = {\n\t\tthen: this.then.bind(this)\n\t};\n\n\t/*  support optional executor function  */\n\tif (typeof executor === 'function')\n\t\texecutor.call(this, this.fulfill.bind(this), this.reject.bind(this));\n}\n\n/*  promise API methods  */\napi.prototype = {\n\t/*  promise resolving methods  */\n\tfulfill (value) {\n\t\treturn deliver(this, STATE_FULFILLED, 'fulfillValue', value);\n\t},\n\treject (value) {\n\t\treturn deliver(this, STATE_REJECTED, 'rejectReason', value);\n\t},\n\n\t/*  'The then Method' [Promises/A+ 1.1, 1.2, 2.2]  */\n\tthen (onFulfilled, onRejected) {\n\t\tconst curr = this;\n\t\tconst next = new api();                                    /*  [Promises/A+ 2.2.7]  */\n\t\tcurr.onFulfilled.push(\n\t\t\tresolver(onFulfilled, next, 'fulfill'));             /*  [Promises/A+ 2.2.2/2.2.6]  */\n\t\tcurr.onRejected.push(\n\t\t\tresolver(onRejected, next, 'reject'));               /*  [Promises/A+ 2.2.3/2.2.6]  */\n\t\texecute(curr);\n\t\treturn next.proxy;                                       /*  [Promises/A+ 2.2.7, 3.3]  */\n\t}\n};\n\n/*  deliver an action  */\nconst deliver = function (curr, state, name, value) {\n\tif (curr.state === STATE_PENDING) {\n\t\tcurr.state = state;                                      /*  [Promises/A+ 2.1.2.1, 2.1.3.1]  */\n\t\tcurr[name] = value;                                      /*  [Promises/A+ 2.1.2.2, 2.1.3.2]  */\n\t\texecute(curr);\n\t}\n\treturn curr;\n};\n\n/*  execute all handlers  */\nconst execute = function (curr) {\n\tif (curr.state === STATE_FULFILLED)\n\t\texecute_handlers(curr, 'onFulfilled', curr.fulfillValue);\n\telse if (curr.state === STATE_REJECTED)\n\t\texecute_handlers(curr, 'onRejected', curr.rejectReason);\n};\n\n/*  execute particular set of handlers  */\nconst execute_handlers = function (curr, name, value) {\n\n\t/*  short-circuit processing  */\n\tif (curr[name].length === 0)\n\t\treturn;\n\n\t/*  iterate over all handlers, exactly once  */\n\tconst handlers = curr[name];\n\tcurr[name] = [];                                             /*  [Promises/A+ 2.2.2.3, 2.2.3.3]  */\n\tsetImmediate(() => {\n\t\tfor (let i = 0; i < handlers.length; i++)\n\t\t\thandlers[i](value);                                  /*  [Promises/A+ 2.2.5]  */\n\t});\n};\n\n/*  generate a resolver function  */\nconst resolver = function (cb, next, method) {\n\treturn function (value) {\n\t\tif (typeof cb !== 'function')                            /*  [Promises/A+ 2.2.1, 2.2.7.3, 2.2.7.4]  */\n\t\t\tnext[method].call(next, value);                      /*  [Promises/A+ 2.2.7.3, 2.2.7.4]  */\n\t\telse {\n\t\t\tlet result;\n\t\t\ttry {\n\t\t\t\tresult = cb(value);\n\t\t\t}                          /*  [Promises/A+ 2.2.2.1, 2.2.3.1, 2.2.5, 3.2]  */\n\t\t\tcatch (e) {\n\t\t\t\tnext.reject(e);                                  /*  [Promises/A+ 2.2.7.2]  */\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresolve(next, result);                               /*  [Promises/A+ 2.2.7.1]  */\n\t\t}\n\t};\n};\n\n/*  'Promise Resolution Procedure'  */                           /*  [Promises/A+ 2.3]  */\nconst resolve = function (promise, x) {\n\t/*  sanity check arguments  */                               /*  [Promises/A+ 2.3.1]  */\n\tif (promise === x || promise.proxy === x) {\n\t\tpromise.reject(new TypeError('cannot resolve promise with itself'));\n\t\treturn;\n\t}\n\n\t/*  surgically check for a 'then' method\n\t\t(mainly to just call the 'getter' of 'then' only once)  */\n\tlet then;\n\tif ((typeof x === 'object' && x !== null) || typeof x === 'function') {\n\t\ttry {\n\t\t\tthen = x.then;\n\t\t}                                   /*  [Promises/A+ 2.3.3.1, 3.5]  */\n\t\tcatch (e) {\n\t\t\tpromise.reject(e);                                   /*  [Promises/A+ 2.3.3.2]  */\n\t\t\treturn;\n\t\t}\n\t}\n\n\t/*  handle own Thenables    [Promises/A+ 2.3.2]\n\t\tand similar 'thenables' [Promises/A+ 2.3.3]  */\n\tif (typeof then === 'function') {\n\t\tlet resolved = false;\n\t\ttry {\n\t\t\t/*  call retrieved 'then' method */                  /*  [Promises/A+ 2.3.3.3]  */\n\t\t\tthen.call(x,\n\t\t\t\t/*  resolvePromise  */                           /*  [Promises/A+ 2.3.3.3.1]  */\n\t\t\t\ty => {\n\t\t\t\t\tif (resolved) return; resolved = true;       /*  [Promises/A+ 2.3.3.3.3]  */\n\t\t\t\t\tif (y === x)                                 /*  [Promises/A+ 3.6]  */\n\t\t\t\t\t\tpromise.reject(new TypeError('circular thenable chain'));\n\t\t\t\t\telse\n\t\t\t\t\t\tresolve(promise, y);\n\t\t\t\t},\n\n\t\t\t\t/*  rejectPromise  */                            /*  [Promises/A+ 2.3.3.3.2]  */\n\t\t\t\tr => {\n\t\t\t\t\tif (resolved) return; resolved = true;       /*  [Promises/A+ 2.3.3.3.3]  */\n\t\t\t\t\tpromise.reject(r);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t\tcatch (e) {\n\t\t\tif (!resolved)                                       /*  [Promises/A+ 2.3.3.3.3]  */\n\t\t\t\tpromise.reject(e);                               /*  [Promises/A+ 2.3.3.3.4]  */\n\t\t}\n\t\treturn;\n\t}\n\n\t/*  handle other values  */\n\tpromise.fulfill(x);                                          /*  [Promises/A+ 2.3.4, 2.3.3.4]  */\n};\n",
    "// Convert Data-URI to Blob string\n\nconst reg = /^data\\:([^;,]+(\\;charset=[^;,]+)?)(\\;base64)?,/i;\n\nmodule.exports = dataURI => {\n\tconst m = dataURI.match(reg);\n\tif (!m) {\n\t\treturn dataURI;\n\t}\n\n\tconst binary = atob(dataURI.replace(reg, ''));\n\tconst len = binary.length;\n\tconst arr = new Uint8Array(len);\n\n\tfor (let i = 0; i < len; i++) {\n\t\tarr[i] = binary.charCodeAt(i);\n\t}\n\n\treturn new Blob([arr], {type: m[1]});\n};\n",
    "module.exports = fn => {\n\ttry {\n\t\treturn fn.call(null);\n\t}\n\tcatch (e) {\n\t\t// Continue\n\t}\n};\n",
    "const querystringify = require('./querystringify.js');\nconst isEmpty = require('../object/isEmpty.js');\n\nmodule.exports = (url, params, formatFunction) => {\n\n\tlet reg;\n\n\tif (params) {\n\t\t// Set default formatting function\n\t\tformatFunction = formatFunction || encodeURIComponent;\n\n\t\t// Override the items in the URL which already exist\n\t\tfor (const x in params) {\n\t\t\tconst str = `([\\\\?\\\\&])${ x }=[^\\\\&]*`;\n\t\t\treg = new RegExp(str);\n\t\t\tif (url.match(reg)) {\n\t\t\t\turl = url.replace(reg, `$1${ x }=${ formatFunction(params[x])}`);\n\t\t\t\tdelete params[x];\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!isEmpty(params)) {\n\t\treturn url + (url.indexOf('?') > -1 ? '&' : '?') + querystringify(params, formatFunction);\n\t}\n\n\treturn url;\n};\n",
    "// Extract\n// Extract the parameters of an URL string\n// @param string s, string to decode\n\nmodule.exports = (str, match_params, formatFunction = x => x) => {\n\tconst a = {};\n\tlet m;\n\twhile ((m = match_params.exec(str))) {\n\t\ta[m[1]] = formatFunction(m[2]);\n\t}\n\treturn a;\n};\n",
    "const tryCatch = require('../object/tryCatch.js');\nmodule.exports = str => tryCatch(() => JSON.parse(str));\n",
    "// Param\n// Explode/encode the parameters of an URL string/object\n// @param string s, string to decode\nmodule.exports = (hash, delimiter = '&', seperator = '=', formatFunction = o => o) =>\n\tObject.keys(hash).map(name => {\n\t\tconst value = formatFunction(hash[name]);\n\t\treturn name + (value !== null ? seperator + value : '');\n\t}).join(delimiter)\n;\n",
    "// Create a Query string\nconst extract = require('./extract.js');\n\nconst trim_left = /^[\\#\\?]/;\nconst match_params = /([^=\\/\\&]+)=([^\\&]+)/g;\n\nmodule.exports = (str, formatFunction = decodeURIComponent) => {\n\tstr = str.replace(trim_left, '');\n\treturn extract(str, match_params, formatFunction);\n};\n",
    "// Create a Query string\nconst param = require('./param.js');\nconst fn = value => (value === '?' ? '?' : encodeURIComponent(value));\n\nmodule.exports = (o, formatter = fn) => param(o, '&', '=', formatter);\n",
    "module.exports = () => parseInt(Math.random() * 1e12, 10).toString(36);\n",
    "module.exports = ('withCredentials' in new XMLHttpRequest());\n",
    "module.exports = typeof setImmediate === 'function' ? setImmediate : (cb => setTimeout(cb, 0));\n",
    "// Close a window\nmodule.exports = window => {\n\n\t// Is this window within an Iframe?\n\tif (window.frameElement) {\n\t\twindow.parent.document.body.removeChild(window.frameElement);\n\t}\n\telse {\n\t\t// Close this current window\n\t\ttry {\n\t\t\twindow.close();\n\t\t}\n\t\tcatch (e) {\n\t\t\t// Continue\n\t\t}\n\n\t\t// IOS bug wont let us close a popup if still loading\n\t\tif (window.addEventListener) {\n\t\t\twindow.addEventListener('load', () => window.close());\n\t\t}\n\t}\n};\n",
    "// popup\n// Easy options as a hash\nconst param = require('../string/param.js');\n\nconst documentElement = document.documentElement;\nconst dimensions = [['Top', 'Height'], ['Left', 'Width']];\n\nmodule.exports = (url, target, options = {}) => {\n\n\t// centers the popup correctly to the current display of a multi-screen display.\n\tdimensions.forEach(generatePosition.bind(options));\n\n\t// Open\n\treturn window.open(url, target, param(options, ','));\n};\n\nfunction generatePosition ([Position, Dimension]) {\n\tconst position = Position.toLowerCase();\n\tconst dimension = Dimension.toLowerCase();\n\tif (this[dimension] && !(position in this)) {\n\t\tconst dualScreenPos = window[`screen${ Position}`] !== undefined ? window[`screen${ Position}`] : screen[position];\n\t\tconst d = screen[dimension] || window[`inner${ Dimension}`] || documentElement[`client${ Dimension}`];\n\t\tthis[position] = parseInt((d - this[dimension]) / 2, 10) + dualScreenPos;\n\t}\n}\n",
    "module.exports = path => {\n\n\t// If the path is empty\n\tif (!path) {\n\t\treturn window.location;\n\t}\n\n\t// Chrome and FireFox support new URL() to extract URL objects\n\telse if (window.URL && URL instanceof Function && URL.length !== 0) {\n\t\treturn new URL(path, window.location);\n\t}\n\n\t// Ugly shim, it works!\n\telse {\n\t\tconst a = document.createElement('a');\n\t\ta.href = path;\n\t\t// Return clone for IE compatibility view.\n\t\treturn a.cloneNode(false);\n\t}\n};\n"
  ]
}